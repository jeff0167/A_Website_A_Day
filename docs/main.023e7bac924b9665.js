(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(_n,yt,V)=>{"use strict";V.d(yt,{nm:()=>nt});var a=V(2122);V(4650),V(259);var Be=V(5861),Ze=V(9681),Ue=V(4859),Oe=V(2090),Fe=V(1877);const N=new Map,Ge={activated:!1,tokenObservers:[]},je={initialized:!1,enabled:!1};function Je(ct){return N.get(ct)||Object.assign({},Ge)}function ft(){return je}const st="https://content-firebaseappcheck.googleapis.com/v1",Me="exchangeDebugToken",Pe={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lt{constructor(Ke,xt,Lt,Xt,gn){if(this.operation=Ke,this.retryPolicy=xt,this.getWaitDuration=Lt,this.lowerBound=Xt,this.upperBound=gn,this.pending=null,this.nextErrorWaitInterval=Xt,Xt>gn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ke){var xt=this;return(0,Be.Z)(function*(){xt.stop();try{xt.pending=new Oe.BH,yield function Xe(ct){return new Promise(Ke=>{setTimeout(Ke,ct)})}(xt.getNextRun(Ke)),xt.pending.resolve(),yield xt.pending.promise,xt.pending=new Oe.BH,yield xt.operation(),xt.pending.resolve(),yield xt.pending.promise,xt.process(!0).catch(()=>{})}catch(Lt){xt.retryPolicy(Lt)?xt.process(!1).catch(()=>{}):xt.stop()}})()}getNextRun(Ke){if(Ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const xt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),xt}}}const ot=new Oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $n(ct,Ke){return An.apply(this,arguments)}function An(){return(An=(0,Be.Z)(function*({url:ct,body:Ke},xt){const Lt={"Content-Type":"application/json"},Xt=xt.getImmediate({optional:!0});if(Xt){const di=yield Xt.getHeartbeatsHeader();di&&(Lt["X-Firebase-Client"]=di)}const gn={method:"POST",body:JSON.stringify(Ke),headers:Lt};let Zn,or;try{Zn=yield fetch(ct,gn)}catch(di){throw ot.create("fetch-network-error",{originalErrorMessage:null==di?void 0:di.message})}if(200!==Zn.status)throw ot.create("fetch-status-error",{httpStatus:Zn.status});try{or=yield Zn.json()}catch(di){throw ot.create("fetch-parse-error",{originalErrorMessage:null==di?void 0:di.message})}const hr=or.ttl.match(/^([\d.]+)(s)$/);if(!hr||!hr[2]||isNaN(Number(hr[1])))throw ot.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${or.ttl}`});const ws=1e3*Number(hr[1]),si=Date.now();return{token:or.token,expireTimeMillis:si+ws,issuedAtTimeMillis:si}})).apply(this,arguments)}const er="firebase-app-check-database",cr=1,At="firebase-app-check-store";let Nt=null;function pr(ct,Ke){return un.apply(this,arguments)}function un(){return(un=(0,Be.Z)(function*(ct,Ke){const Lt=(yield function St(){return Nt||(Nt=new Promise((ct,Ke)=>{try{const xt=indexedDB.open(er,cr);xt.onsuccess=Lt=>{ct(Lt.target.result)},xt.onerror=Lt=>{var Xt;Ke(ot.create("storage-open",{originalErrorMessage:null===(Xt=Lt.target.error)||void 0===Xt?void 0:Xt.message}))},xt.onupgradeneeded=Lt=>{0===Lt.oldVersion&&Lt.target.result.createObjectStore(At,{keyPath:"compositeKey"})}}catch(xt){Ke(ot.create("storage-open",{originalErrorMessage:null==xt?void 0:xt.message}))}}),Nt)}()).transaction(At,"readwrite"),gn=Lt.objectStore(At).put({compositeKey:ct,value:Ke});return new Promise((Zn,or)=>{gn.onsuccess=hr=>{Zn()},Lt.onerror=hr=>{var ws;or(ot.create("storage-set",{originalErrorMessage:null===(ws=hr.target.error)||void 0===ws?void 0:ws.message}))}})})).apply(this,arguments)}const lr=new Fe.Yd("@firebase/app-check");function ni(ct,Ke){return(0,Oe.hl)()?function on(ct,Ke){return pr(function Fn(ct){return`${ct.options.appId}-${ct.name}`}(ct),Ke)}(ct,Ke).catch(xt=>{lr.warn(`Failed to write token to IndexedDB. Error: ${xt}`)}):Promise.resolve()}function rr(){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,Be.Z)(function*(){const ct=ft();if(ct.enabled&&ct.token)return ct.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cn={error:"UNKNOWN_ERROR"};function qt(ct){return Oe.US.encodeString(JSON.stringify(ct),!1)}function Et(ct){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,Be.Z)(function*(ct,Ke=!1){const xt=ct.app;!function Vt(ct){if(!Je(ct).activated)throw ot.create("use-before-activation",{appName:ct.name})}(xt);const Lt=Je(xt);let gn,Xt=Lt.token;if(Xt&&!Ye(Xt)&&(Lt.token=void 0,Xt=void 0),!Xt){const hr=yield Lt.cachedTokenPromise;hr&&(Ye(hr)?Xt=hr:yield ni(xt,void 0))}if(!Ke&&Xt&&Ye(Xt))return{token:Xt.token};let or,Zn=!1;if(function ii(){return ft().enabled}()){Lt.exchangeTokenPromise||(Lt.exchangeTokenPromise=$n(function yn(ct,Ke){const{projectId:xt,appId:Lt,apiKey:Xt}=ct.options;return{url:`${st}/projects/${xt}/apps/${Lt}:${Me}?key=${Xt}`,body:{debug_token:Ke}}}(xt,yield rr()),ct.heartbeatServiceProvider).finally(()=>{Lt.exchangeTokenPromise=void 0}),Zn=!0);const hr=yield Lt.exchangeTokenPromise;return yield ni(xt,hr),Lt.token=hr,{token:hr.token}}try{Lt.exchangeTokenPromise||(Lt.exchangeTokenPromise=Lt.provider.getToken().finally(()=>{Lt.exchangeTokenPromise=void 0}),Zn=!0),Xt=yield Je(xt).exchangeTokenPromise}catch(hr){"appCheck/throttled"===hr.code?lr.warn(hr.message):lr.error(hr),gn=hr}return Xt?gn?or=Ye(Xt)?{token:Xt.token,internalError:gn}:Rt(gn):(or={token:Xt.token},Lt.token=Xt,yield ni(xt,Xt)):or=Rt(gn),Zn&&function Ee(ct,Ke){const xt=Je(ct).tokenObservers;for(const Lt of xt)try{"EXTERNAL"===Lt.type&&null!=Ke.error?Lt.error(Ke.error):Lt.next(Ke)}catch(Xt){}}(xt,or),or})).apply(this,arguments)}function kt(ct,Ke){const xt=Je(ct),Lt=xt.tokenObservers.filter(Xt=>Xt.next!==Ke);0===Lt.length&&xt.tokenRefresher&&xt.tokenRefresher.isRunning()&&xt.tokenRefresher.stop(),xt.tokenObservers=Lt}function Wt(ct){const{app:Ke}=ct,xt=Je(Ke);let Lt=xt.tokenRefresher;Lt||(Lt=function Ie(ct){const{app:Ke}=ct;return new lt((0,Be.Z)(function*(){let Lt;if(Lt=Je(Ke).token?yield Et(ct,!0):yield Et(ct),Lt.error)throw Lt.error;if(Lt.internalError)throw Lt.internalError}),()=>!0,()=>{const xt=Je(Ke);if(xt.token){let Lt=xt.token.issuedAtTimeMillis+.5*(xt.token.expireTimeMillis-xt.token.issuedAtTimeMillis)+3e5;return Lt=Math.min(Lt,xt.token.expireTimeMillis-3e5),Math.max(0,Lt-Date.now())}return 0},Pe.RETRIAL_MIN_WAIT,Pe.RETRIAL_MAX_WAIT)}(ct),xt.tokenRefresher=Lt),!Lt.isRunning()&&xt.isTokenAutoRefreshEnabled&&Lt.start()}function Ye(ct){return ct.expireTimeMillis-Date.now()>0}function Rt(ct){return{token:qt(cn),error:ct}}class Ct{constructor(Ke,xt){this.app=Ke,this.heartbeatServiceProvider=xt}_delete(){const{tokenObservers:Ke}=Je(this.app);for(const xt of Ke)kt(this.app,xt.next);return Promise.resolve()}}const En="app-check-internal";!function Yn(){(0,Ze._registerComponent)(new Ue.wA("app-check",ct=>function wn(ct,Ke){return new Ct(ct,Ke)}(ct.getProvider("app").getImmediate(),ct.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ct,Ke,xt)=>{ct.getProvider(En).initialize()})),(0,Ze._registerComponent)(new Ue.wA(En,ct=>function Qe(ct){return{getToken:Ke=>Et(ct,Ke),addTokenListener:Ke=>function We(ct,Ke,xt,Lt){const{app:Xt}=ct,gn=Je(Xt);if(gn.tokenObservers=[...gn.tokenObservers,{next:xt,error:Lt,type:Ke}],gn.token&&Ye(gn.token)){const or=gn.token;Promise.resolve().then(()=>{xt({token:or.token}),Wt(ct)}).catch(()=>{})}gn.cachedTokenPromise.then(()=>Wt(ct))}(ct,"INTERNAL",Ke),removeTokenListener:Ke=>kt(ct.app,Ke)}}(ct.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ze.registerVersion)("@firebase/app-check","0.6.4")}();class nt{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},1205:(_n,yt,V)=>{"use strict";V.d(yt,{zQ:()=>st,rT:()=>je,f7:()=>tt,L6:()=>N,_Q:()=>Ge,lh:()=>Je,Qv:()=>Fe,nw:()=>ft});var a=V(4650),ee=V(7579),z=V(9646),Ce=V(9751),Te=V(8996),be=V(6451),ge=V(5363),De=V(3900),ke=V(4004),ve=V(6063);class ie extends ee.x{constructor(Me=1/0,Pe=1/0,Se=ve.l){super(),this._bufferSize=Me,this._windowTime=Pe,this._timestampProvider=Se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pe===1/0,this._bufferSize=Math.max(1,Me),this._windowTime=Math.max(1,Pe)}next(Me){const{isStopped:Pe,_buffer:Se,_infiniteTimeWindow:lt,_timestampProvider:Xe,_windowTime:ut}=this;Pe||(Se.push(Me),!lt&&Se.push(Xe.now()+ut)),this._trimBuffer(),super.next(Me)}_subscribe(Me){this._throwIfClosed(),this._trimBuffer();const Pe=this._innerSubscribe(Me),{_infiniteTimeWindow:Se,_buffer:lt}=this,Xe=lt.slice();for(let ut=0;ut<Xe.length&&!Me.closed;ut+=Se?1:2)Me.next(Xe[ut]);return this._checkFinalizedStatuses(Me),Pe}_trimBuffer(){const{_bufferSize:Me,_timestampProvider:Pe,_buffer:Se,_infiniteTimeWindow:lt}=this,Xe=(lt?1:2)*Me;if(Me<1/0&&Xe<Se.length&&Se.splice(0,Se.length-Xe),!lt){const ut=Pe.now();let ot=0;for(let Kt=1;Kt<Se.length&&Se[Kt]<=ut;Kt+=2)ot=Kt;ot&&Se.splice(0,ot+1)}}}var ce=V(3099);function xe(gt,Me,Pe){let Se,lt=!1;return gt&&"object"==typeof gt?({bufferSize:Se=1/0,windowTime:Me=1/0,refCount:lt=!1,scheduler:Pe}=gt):Se=null!=gt?gt:1/0,(0,ce.B)({connector:()=>new ie(Se,Me,Pe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:lt})}var ze=V(590),dt=V(576);function Mt(gt,Me){return(0,dt.m)(Me)?(0,De.w)(()=>gt,Me):(0,De.w)(()=>gt)}var Re=V(9468),ye=V(9300),de=V(2122),ht=V(2011),Be=V(6895),Ze=V(6217);V(9260);const Fe=new a.OlP("angularfire2.auth.use-emulator"),N=new a.OlP("angularfire2.auth.settings"),Ge=new a.OlP("angularfire2.auth.tenant-id"),je=new a.OlP("angularfire2.auth.langugage-code"),Je=new a.OlP("angularfire2.auth.use-device-language"),tt=new a.OlP("angularfire.auth.persistence"),ft=(gt,Me,Pe,Se,lt,Xe,ut,ot)=>(0,ht.cc)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const Kt=Me.runOutsideAngular(()=>gt.auth());if(Pe&&Kt.useEmulator(...Pe),Se&&(Kt.tenantId=Se),Kt.languageCode=lt,Xe&&Kt.useDeviceLanguage(),ut)for(const[Vt,Pt]of Object.entries(ut))Kt.settings[Vt]=Pt;return ot&&Kt.setPersistence(ot),Kt},[Pe,Se,lt,Xe,ut,ot]);let st=(()=>{class gt{constructor(Pe,Se,lt,Xe,ut,ot,Kt,Vt,Pt,Ot,$n,An){const Mn=new ee.x,Un=(0,z.of)(void 0).pipe((0,ge.Q)(ut.outsideAngular),(0,De.w)(()=>Xe.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9800)))),(0,ke.U)(()=>(0,ht.on)(Pe,Xe,Se)),(0,ke.U)(yn=>ft(yn,Xe,ot,Vt,Pt,Ot,Kt,$n)),xe({bufferSize:1,refCount:!1}));if((0,Be.PM)(lt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{Un.pipe((0,ze.P)()).subscribe();const er=Un.pipe((0,De.w)(mt=>mt.getRedirectResult().then(Nt=>Nt,()=>null)),de.iC,xe({bufferSize:1,refCount:!1})),cr=Un.pipe((0,De.w)(mt=>new Ce.y(Nt=>({unsubscribe:Xe.runOutsideAngular(()=>mt.onAuthStateChanged(St=>Nt.next(St),St=>Nt.error(St),()=>Nt.complete()))})))),At=Un.pipe((0,De.w)(mt=>new Ce.y(Nt=>({unsubscribe:Xe.runOutsideAngular(()=>mt.onIdTokenChanged(St=>Nt.next(St),St=>Nt.error(St),()=>Nt.complete()))}))));this.authState=er.pipe(Mt(cr),(0,Re.R)(ut.outsideAngular),(0,ge.Q)(ut.insideAngular)),this.user=er.pipe(Mt(At),(0,Re.R)(ut.outsideAngular),(0,ge.Q)(ut.insideAngular)),this.idToken=this.user.pipe((0,De.w)(mt=>mt?(0,Te.D)(mt.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,De.w)(mt=>mt?(0,Te.D)(mt.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,be.T)(er,Mn,this.authState.pipe((0,ye.h)(mt=>!mt))).pipe((0,ke.U)(mt=>null!=mt&&mt.user?mt:null),(0,Re.R)(ut.outsideAngular),(0,ge.Q)(ut.insideAngular))}return(0,ht.pX)(this,Un,Xe,{spy:{apply:(yn,er,cr)=>{(yn.startsWith("signIn")||yn.startsWith("createUser"))&&cr.then(At=>Mn.next(At))}}})}}return gt.\u0275fac=function(Pe){return new(Pe||gt)(a.LFG(ht.Dh),a.LFG(ht.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(de.HU),a.LFG(Fe,8),a.LFG(N,8),a.LFG(Ge,8),a.LFG(je,8),a.LFG(Je,8),a.LFG(tt,8),a.LFG(Ze.nm,8))},gt.\u0275prov=a.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"any"}),gt})()},5197:(_n,yt,V)=>{"use strict";V.d(yt,{KQ:()=>Nu,JS:()=>Jp});var a=V(4650),ee=V(4986),z=V(9751),Ce=V(9646),Te=V(6451),be=V(4004),ge=V(3099),De=V(3900),ke=V(5026),ve=V(1884),ie=V(4482),ce=V(5403),xe=V(8421),ze=V(4671),dt=V(5032),Mt=V(7669),de=V(2122),ht=V(2011),Ze=(V(9800),V(3942)),Ue=V(4859),Oe=V(5861),Fe=V(9681),N=V(2090),Ge=V(1877);const je="@firebase/database";let tt="";function ft(f){tt=f}class st{constructor(c){this.domStorage_=c,this.prefix_="firebase:"}set(c,d){null==d?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,N.Wl)(d))}get(c){const d=this.domStorage_.getItem(this.prefixedName_(c));return null==d?null:(0,N.cI)(d)}remove(c){this.domStorage_.removeItem(this.prefixedName_(c))}prefixedName_(c){return this.prefix_+c}toString(){return this.domStorage_.toString()}}class bt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(c,d){null==d?delete this.cache_[c]:this.cache_[c]=d}get(c){return(0,N.r3)(this.cache_,c)?this.cache_[c]:null}remove(c){delete this.cache_[c]}}const gt=function(f){try{if(typeof window<"u"&&typeof window[f]<"u"){const c=window[f];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new st(c)}}catch(c){}return new bt},Me=gt("localStorage"),Pe=gt("sessionStorage"),Se=new Ge.Yd("@firebase/database"),lt=function(){let f=1;return function(){return f++}}(),Xe=function(f){const c=(0,N.dS)(f),d=new N.gQ;d.update(c);const _=d.digest();return N.US.encodeByteArray(_)},ut=function(...f){let c="";for(let d=0;d<f.length;d++){const _=f[d];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?c+=ut.apply(null,_):c+="object"==typeof _?(0,N.Wl)(_):_,c+=" "}return c};let ot=null,Kt=!0;const Vt=function(f,c){(0,N.hu)(!c||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Se.logLevel=Ge.in.VERBOSE,ot=Se.log.bind(Se),c&&Pe.set("logging_enabled",!0)):"function"==typeof f?ot=f:(ot=null,Pe.remove("logging_enabled"))},Pt=function(...f){if(!0===Kt&&(Kt=!1,null===ot&&!0===Pe.get("logging_enabled")&&Vt(!0)),ot){const c=ut.apply(null,f);ot(c)}},Ot=function(f){return function(...c){Pt(f,...c)}},$n=function(...f){const c="FIREBASE INTERNAL ERROR: "+ut(...f);Se.error(c)},An=function(...f){const c=`FIREBASE FATAL ERROR: ${ut(...f)}`;throw Se.error(c),new Error(c)},Mn=function(...f){const c="FIREBASE WARNING: "+ut(...f);Se.warn(c)},yn=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},cr="[MIN_NAME]",At="[MAX_NAME]",mt=function(f,c){if(f===c)return 0;if(f===cr||c===At)return-1;if(c===cr||f===At)return 1;{const d=nn(f),_=nn(c);return null!==d?null!==_?d-_==0?f.length-c.length:d-_:-1:null!==_?1:f<c?-1:1}},Nt=function(f,c){return f===c?0:f<c?-1:1},St=function(f,c){if(c&&f in c)return c[f];throw new Error("Missing required key ("+f+") in object: "+(0,N.Wl)(c))},bn=function(f){if("object"!=typeof f||null===f)return(0,N.Wl)(f);const c=[];for(const _ in f)c.push(_);c.sort();let d="{";for(let _=0;_<c.length;_++)0!==_&&(d+=","),d+=(0,N.Wl)(c[_]),d+=":",d+=bn(f[c[_]]);return d+="}",d},on=function(f,c){const d=f.length;if(d<=c)return[f];const _=[];for(let A=0;A<d;A+=c)_.push(f.substring(A,A+c>d?d:A+c));return _};function In(f,c){for(const d in f)f.hasOwnProperty(d)&&c(d,f[d])}const dr=function(f){(0,N.hu)(!yn(f),"Invalid JSON number");const _=1023;let A,L,W,ae,Ne;0===f?(L=0,W=0,A=1/f==-1/0?1:0):(A=f<0,(f=Math.abs(f))>=Math.pow(2,1-_)?(ae=Math.min(Math.floor(Math.log(f)/Math.LN2),_),L=ae+_,W=Math.round(f*Math.pow(2,52-ae)-Math.pow(2,52))):(L=0,W=Math.round(f/Math.pow(2,-1074))));const it=[];for(Ne=52;Ne;Ne-=1)it.push(W%2?1:0),W=Math.floor(W/2);for(Ne=11;Ne;Ne-=1)it.push(L%2?1:0),L=Math.floor(L/2);it.push(A?1:0),it.reverse();const Jt=it.join("");let tn="";for(Ne=0;Ne<64;Ne+=8){let ln=parseInt(Jt.substr(Ne,8),2).toString(16);1===ln.length&&(ln="0"+ln),tn+=ln}return tn.toLowerCase()},hn=new RegExp("^-?(0*)\\d{1,10}$"),nn=function(f){if(hn.test(f)){const c=Number(f);if(c>=-2147483648&&c<=2147483647)return c}return null},yr=function(f){try{f()}catch(c){setTimeout(()=>{throw Mn("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},ni=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ri=function(f,c){const d=setTimeout(f,c);return"number"==typeof d&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(d):"object"==typeof d&&d.unref&&d.unref(),d};class xr{constructor(c,d){this.appName_=c,this.appCheckProvider=d,this.appCheck=null==d?void 0:d.getImmediate({optional:!0}),this.appCheck||null==d||d.get().then(_=>this.appCheck=_)}getToken(c){return this.appCheck?this.appCheck.getToken(c):new Promise((d,_)=>{setTimeout(()=>{this.appCheck?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(_=>_.addTokenListener(c))}notifyForInvalidToken(){Mn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ii{constructor(c,d,_){this.appName_=c,this.firebaseOptions_=d,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(A=>this.auth_=A)}getToken(c){return this.auth_?this.auth_.getToken(c).catch(d=>d&&"auth/token-not-initialized"===d.code?(Pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,_)=>{setTimeout(()=>{this.auth_?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(d=>d.addAuthTokenListener(c))}removeTokenChangeListener(c){this.authProvider_.get().then(d=>d.removeAuthTokenListener(c))}notifyForInvalidToken(){let c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mn(c)}}let rr=(()=>{class f{constructor(d){this.accessToken=d}getToken(d){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(d){d(this.accessToken)}removeTokenChangeListener(d){}notifyForInvalidToken(){}}return f.OWNER="owner",f})();const Ae=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ie="websocket",Ee="long_polling";class Ye{constructor(c,d,_,A,L=!1,W="",ae=!1,Ne=!1){this.secure=d,this.namespace=_,this.webSocketOnly=A,this.nodeAdmin=L,this.persistenceKey=W,this.includeNamespaceInQueryParams=ae,this.isUsingEmulator=Ne,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Me.get("host:"+c)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&Me.set("host:"+this._host,this.internalHost))}toString(){let c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ct(f,c,d){let _;if((0,N.hu)("string"==typeof c,"typeof type must == string"),(0,N.hu)("object"==typeof d,"typeof params must == object"),c===Ie)_=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(c!==Ee)throw new Error("Unknown connection type: "+c);_=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function Rt(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(d.ns=f.namespace);const A=[];return In(d,(L,W)=>{A.push(L+"="+W)}),_+A.join("&")}class wn{constructor(){this.counters_={}}incrementCounter(c,d=1){(0,N.r3)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=d}get(){return(0,N.p$)(this.counters_)}}const Qe={},qe={};function me(f){const c=f.toString();return Qe[c]||(Qe[c]=new wn),Qe[c]}class zt{constructor(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(c,d){this.closeAfterResponse=c,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(c,d){for(this.pendingResponses[c]=d;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let A=0;A<_.length;++A)_[A]&&yr(()=>{this.onMessage_(_[A])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mr{constructor(c,d,_,A,L,W,ae){this.connId=c,this.repoInfo=d,this.applicationId=_,this.appCheckToken=A,this.authToken=L,this.transportSessionId=W,this.lastSessionId=ae,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ot(c),this.stats_=me(d),this.urlFn=Ne=>(this.appCheckToken&&(Ne.ac=this.appCheckToken),Ct(d,Ee,Ne))}open(c,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new zt(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,N.Yr)()||"complete"===document.readyState)f();else{let c=!1;const d=function(){document.body?c||(c=!0,f()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ii((...L)=>{const[W,ae,Ne,it,Jt]=L;if(this.incrementIncomingBytes_(L),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===W)this.id=ae,this.password=Ne;else{if("close"!==W)throw new Error("Unrecognized command received: "+W);ae?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ae,()=>{this.onClosed_()})):this.onClosed_()}},(...L)=>{const[W,ae]=L;this.incrementIncomingBytes_(L),this.myPacketOrderer.handleResponse(W,ae)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ae.test(location.hostname)&&(_.r="f");const A=this.urlFn(_);this.log_("Connecting via long-poll to "+A),this.scriptTagHolder.addTag(A,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Mr.forceAllow_&&(Mr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(c){const d=(0,N.Wl)(c);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const _=(0,N.h$)(d),A=on(_,1840);for(let L=0;L<A.length;L++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,A.length,A[L]),this.curSegmentNum++}addDisconnectPingFrame(c,d){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=c,_.pw=d,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(c){const d=(0,N.Wl)(c).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class Ii{constructor(c,d,_,A){if(this.onDisconnect=_,this.urlFn=A,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=c,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=lt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=Ii.createIFrame_();let L="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(L='<script>document.domain="'+document.domain+'";<\/script>');const W="<html><body>"+L+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(W),this.myIFrame.doc.close()}catch(ae){Pt("frame writing exception"),ae.stack&&Pt(ae.stack),Pt(ae)}}}static createIFrame_(){const c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||Pt("No IE domain setting required")}catch(d){const _=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const c=this.onDisconnect;c&&(this.onDisconnect=null,c())}startLongPoll(c,d){for(this.myID=c,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;let d=this.urlFn(c),_="",A=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const W=this.pendingSegs.shift();_=_+"&seg"+A+"="+W.seg+"&ts"+A+"="+W.ts+"&d"+A+"="+W.d,A++}return d+=_,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(c,d,_){this.pendingSegs.push({seg:c,ts:d,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(c,d){this.outstandingRequests.add(d);const _=()=>{this.outstandingRequests.delete(d),this.newRequest_()},A=setTimeout(_,Math.floor(25e3));this.addTag(c,()=>{clearTimeout(A),_()})}addTag(c,d){(0,N.Yr)()?this.doNodeLongPoll(c,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=c,_.onload=_.onreadystatechange=function(){const A=_.readyState;(!A||"loaded"===A||"complete"===A)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),d())},_.onerror=()=>{Pt("Long-poll script failed to load: "+c),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch(_){}},Math.floor(1))}}let En=null;typeof MozWebSocket<"u"?En=MozWebSocket:typeof WebSocket<"u"&&(En=WebSocket);let Yn=(()=>{class f{constructor(d,_,A,L,W,ae,Ne){this.connId=d,this.applicationId=A,this.appCheckToken=L,this.authToken=W,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ot(this.connId),this.stats_=me(_),this.connURL=f.connectionURL_(_,ae,Ne,L,A),this.nodeAdmin=_.nodeAdmin}static connectionURL_(d,_,A,L,W){const ae={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&Ae.test(location.hostname)&&(ae.r="f"),_&&(ae.s=_),A&&(ae.ls=A),L&&(ae.ac=L),W&&(ae.p=W),Ct(d,Ie,ae)}open(d,_){this.onDisconnect=_,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Me.set("previous_websocket_failure",!0);try{let A;if((0,N.Yr)()){A={headers:{"User-Agent":`Firebase/5/${tt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(A.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(A.headers["X-Firebase-AppCheck"]=this.appCheckToken);const W=process.env,ae=0===this.connURL.indexOf("wss://")?W.HTTPS_PROXY||W.https_proxy:W.HTTP_PROXY||W.http_proxy;ae&&(A.proxy={origin:ae})}this.mySock=new En(this.connURL,[],A)}catch(A){this.log_("Error instantiating WebSocket.");const L=A.message||A.data;return L&&this.log_(L),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=A=>{this.handleIncomingFrame(A)},this.mySock.onerror=A=>{this.log_("WebSocket error.  Closing connection.");const L=A.message||A.data;L&&this.log_(L),this.onClosed_()}}start(){}static forceDisallow(){f.forceDisallow_=!0}static isAvailable(){let d=!1;if(typeof navigator<"u"&&navigator.userAgent){const A=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);A&&A.length>1&&parseFloat(A[1])<4.4&&(d=!0)}return!d&&null!==En&&!f.forceDisallow_}static previouslyFailed(){return Me.isInMemoryStorage||!0===Me.get("previous_websocket_failure")}markConnectionHealthy(){Me.remove("previous_websocket_failure")}appendFrame_(d){if(this.frames.push(d),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const A=(0,N.cI)(_);this.onMessage(A)}}handleNewFrameCount_(d){this.totalFrames=d,this.frames=[]}extractFrameCount_(d){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){const _=Number(d);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),d}handleIncomingFrame(d){if(null===this.mySock)return;const _=d.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const A=this.extractFrameCount_(_);null!==A&&this.appendFrame_(A)}}send(d){this.resetKeepAlive();const _=(0,N.Wl)(d);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const A=on(_,16384);A.length>1&&this.sendString_(String(A.length));for(let L=0;L<A.length;L++)this.sendString_(A[L])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(d){try{this.mySock.send(d)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f})(),Hr=(()=>{class f{constructor(d){this.initTransports_(d)}static get ALL_TRANSPORTS(){return[Mr,Yn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(d){const _=Yn&&Yn.isAvailable();let A=_&&!Yn.previouslyFailed();if(d.webSocketOnly&&(_||Mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),A=!0),A)this.transports_=[Yn];else{const L=this.transports_=[];for(const W of f.ALL_TRANSPORTS)W&&W.isAvailable()&&L.push(W);f.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return f.globalTransportInitialized_=!1,f})();class vn{constructor(c,d,_,A,L,W,ae,Ne,it,Jt){this.id=c,this.repoInfo_=d,this.applicationId_=_,this.appCheckToken_=A,this.authToken_=L,this.onMessage_=W,this.onReady_=ae,this.onDisconnect_=Ne,this.onKill_=it,this.lastSessionId=Jt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ot("c:"+this.id+":"),this.transportManager_=new Hr(d),this.log_("Connection created"),this.start_()}start_(){const c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,_)},Math.floor(0));const A=c.healthyTimeout||0;A>0&&(this.healthyTimeout_=ri(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(A)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(c){return d=>{c===this.conn_?this.onConnectionLost_(d):c===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(c){return d=>{2!==this.state_&&(c===this.rx_?this.onPrimaryMessageReceived_(d):c===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(c){this.sendData_({t:"d",d:c})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(c){if("t"in c){const d=c.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(c){const d=St("t",c),_=St("d",c);if("c"===d)this.onSecondaryControl_(_);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(c){const d=St("t",c),_=St("d",c);"c"===d?this.onControl_(_):"d"===d&&this.onDataMessage_(_)}onDataMessage_(c){this.onPrimaryResponse_(),this.onMessage_(c)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(c){const d=St("t",c);if("d"in c){const _=c.d;if("h"===d){const A=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(A.h=this.repoInfo_.host),this.onHandshake_(A)}else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let A=0;A<this.pendingDataMessages.length;++A)this.onDataMessage_(this.pendingDataMessages[A]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(_):"r"===d?this.onReset_(_):"e"===d?$n("Server Error: "+_):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$n("Unknown control packet command: "+d)}}onHandshake_(c){const d=c.ts,_=c.v,A=c.h;this.sessionId=c.s,this.repoInfo_.host=A,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==_&&Mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)}startUpgrade_(c){this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,_),ri(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(c,d){this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ri(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()}onConnectionLost_(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Me.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wn{put(c,d,_,A){}merge(c,d,_,A){}refreshAuthToken(c){}refreshAppCheckToken(c){}onDisconnectPut(c,d,_){}onDisconnectMerge(c,d,_){}onDisconnectCancel(c,d){}reportStats(c){}}class gr{constructor(c){this.allowedEvents_=c,this.listeners_={},(0,N.hu)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}trigger(c,...d){if(Array.isArray(this.listeners_[c])){const _=[...this.listeners_[c]];for(let A=0;A<_.length;A++)_[A].callback.apply(_[A].context,d)}}on(c,d,_){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:d,context:_});const A=this.getInitialEvent(c);A&&d.apply(_,A)}off(c,d,_){this.validateEventType_(c);const A=this.listeners_[c]||[];for(let L=0;L<A.length;L++)if(A[L].callback===d&&(!_||_===A[L].context))return void A.splice(L,1)}validateEventType_(c){(0,N.hu)(this.allowedEvents_.find(d=>d===c),"Unknown event: "+c)}}class ct extends gr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ct}getInitialEvent(c){return(0,N.hu)("online"===c,"Unknown event type: "+c),[this.online_]}currentlyOnline(){return this.online_}}const Ke=32,xt=768;class Lt{constructor(c,d){if(void 0===d){this.pieces_=c.split("/");let _=0;for(let A=0;A<this.pieces_.length;A++)this.pieces_[A].length>0&&(this.pieces_[_]=this.pieces_[A],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=d}toString(){let c="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(c+="/"+this.pieces_[d]);return c||"/"}}function Xt(){return new Lt("")}function gn(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function Zn(f){return f.pieces_.length-f.pieceNum_}function or(f){let c=f.pieceNum_;return c<f.pieces_.length&&c++,new Lt(f.pieces_,c)}function hr(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function si(f,c=0){return f.pieces_.slice(f.pieceNum_+c)}function di(f){if(f.pieceNum_>=f.pieces_.length)return null;const c=[];for(let d=f.pieceNum_;d<f.pieces_.length-1;d++)c.push(f.pieces_[d]);return new Lt(c,0)}function zr(f,c){const d=[];for(let _=f.pieceNum_;_<f.pieces_.length;_++)d.push(f.pieces_[_]);if(c instanceof Lt)for(let _=c.pieceNum_;_<c.pieces_.length;_++)d.push(c.pieces_[_]);else{const _=c.split("/");for(let A=0;A<_.length;A++)_[A].length>0&&d.push(_[A])}return new Lt(d,0)}function Tr(f){return f.pieceNum_>=f.pieces_.length}function hi(f,c){const d=gn(f),_=gn(c);if(null===d)return c;if(d===_)return hi(or(f),or(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+f+")")}function Hi(f,c){const d=si(f,0),_=si(c,0);for(let A=0;A<d.length&&A<_.length;A++){const L=mt(d[A],_[A]);if(0!==L)return L}return d.length===_.length?0:d.length<_.length?-1:1}function po(f,c){if(Zn(f)!==Zn(c))return!1;for(let d=f.pieceNum_,_=c.pieceNum_;d<=f.pieces_.length;d++,_++)if(f.pieces_[d]!==c.pieces_[_])return!1;return!0}function Ki(f,c){let d=f.pieceNum_,_=c.pieceNum_;if(Zn(f)>Zn(c))return!1;for(;d<f.pieces_.length;){if(f.pieces_[d]!==c.pieces_[_])return!1;++d,++_}return!0}class ps{constructor(c,d){this.errorPrefix_=d,this.parts_=si(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,N.ug)(this.parts_[_]);so(this)}}function so(f){if(f.byteLength_>xt)throw new Error(f.errorPrefix_+"has a key path longer than "+xt+" bytes ("+f.byteLength_+").");if(f.parts_.length>Ke)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ke+") or object contains a cycle "+gs(f))}function gs(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}class Ys extends gr{constructor(){let c,d;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(d="visibilitychange",c="hidden"):typeof document.mozHidden<"u"?(d="mozvisibilitychange",c="mozHidden"):typeof document.msHidden<"u"?(d="msvisibilitychange",c="msHidden"):typeof document.webkitHidden<"u"&&(d="webkitvisibilitychange",c="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const _=!document[c];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new Ys}getInitialEvent(c){return(0,N.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]}}const Qi=1e3;let Ns,ai=(()=>{class f extends Wn{constructor(d,_,A,L,W,ae,Ne,it){if(super(),this.repoInfo_=d,this.applicationId_=_,this.onDataUpdate_=A,this.onConnectStatus_=L,this.onServerInfoUpdate_=W,this.authTokenProvider_=ae,this.appCheckTokenProvider_=Ne,this.authOverride_=it,this.id=f.nextPersistentConnectionId_++,this.log_=Ot("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,it&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ys.getInstance().on("visible",this.onVisible_,this),-1===d.host.indexOf("fblocal")&&ct.getInstance().on("online",this.onOnline_,this)}sendRequest(d,_,A){const L=++this.requestNumber_,W={r:L,a:d,b:_};this.log_((0,N.Wl)(W)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(W),A&&(this.requestCBHash_[L]=A)}get(d){this.initConnection_();const _=new N.BH,L={action:"g",request:{p:d._path.toString(),q:d._queryObject},onComplete:ae=>{const Ne=ae.d;"ok"===ae.s?_.resolve(Ne):_.reject(Ne)}};return this.outstandingGets_.push(L),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(d,_,A,L){this.initConnection_();const W=d._queryIdentifier,ae=d._path.toString();this.log_("Listen called for "+ae+" "+W),this.listens.has(ae)||this.listens.set(ae,new Map),(0,N.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(ae).has(W),"listen() called twice for same path/queryId.");const Ne={onComplete:L,hashFn:_,query:d,tag:A};this.listens.get(ae).set(W,Ne),this.connected_&&this.sendListen_(Ne)}sendGet_(d){const _=this.outstandingGets_[d];this.sendRequest("g",_.request,A=>{delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(A)})}sendListen_(d){const _=d.query,A=_._path.toString(),L=_._queryIdentifier;this.log_("Listen on "+A+" for "+L);const W={p:A};d.tag&&(W.q=_._queryObject,W.t=d.tag),W.h=d.hashFn(),this.sendRequest("q",W,Ne=>{const it=Ne.d,Jt=Ne.s;f.warnOnListenWarnings_(it,_),(this.listens.get(A)&&this.listens.get(A).get(L))===d&&(this.log_("listen response",Ne),"ok"!==Jt&&this.removeListen_(A,L),d.onComplete&&d.onComplete(Jt,it))})}static warnOnListenWarnings_(d,_){if(d&&"object"==typeof d&&(0,N.r3)(d,"w")){const A=(0,N.DV)(d,"w");if(Array.isArray(A)&&~A.indexOf("no_index")){const L='".indexOn": "'+_._queryParams.getIndex().toString()+'"',W=_._path.toString();Mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${L} at ${W} to your security rules for better performance.`)}}}refreshAuthToken(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(d)}reduceReconnectDelayIfAdminCredential_(d){(d&&40===d.length||(0,N.GJ)(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(d){this.appCheckToken_=d,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const d=this.authToken_,_=(0,N.w9)(d)?"auth":"gauth",A={cred:d};null===this.authOverride_?A.noauth=!0:"object"==typeof this.authOverride_&&(A.authvar=this.authOverride_),this.sendRequest(_,A,L=>{const W=L.s,ae=L.d||"error";this.authToken_===d&&("ok"===W?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(W,ae))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},d=>{const _=d.s,A=d.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,A)})}unlisten(d,_){const A=d._path.toString(),L=d._queryIdentifier;this.log_("Unlisten called for "+A+" "+L),(0,N.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(A,L)&&this.connected_&&this.sendUnlisten_(A,L,d._queryObject,_)}sendUnlisten_(d,_,A,L){this.log_("Unlisten on "+d+" for "+_);const W={p:d};L&&(W.q=A,W.t=L),this.sendRequest("n",W)}onDisconnectPut(d,_,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",d,_,A):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:_,onComplete:A})}onDisconnectMerge(d,_,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",d,_,A):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:_,onComplete:A})}onDisconnectCancel(d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",d,null,_):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(d,_,A,L){const W={p:_,d:A};this.log_("onDisconnect "+d,W),this.sendRequest(d,W,ae=>{L&&setTimeout(()=>{L(ae.s,ae.d)},Math.floor(0))})}put(d,_,A,L){this.putInternal("p",d,_,A,L)}merge(d,_,A,L){this.putInternal("m",d,_,A,L)}putInternal(d,_,A,L,W){this.initConnection_();const ae={p:_,d:A};void 0!==W&&(ae.h=W),this.outstandingPuts_.push({action:d,request:ae,onComplete:L}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(d){const _=this.outstandingPuts_[d].action,A=this.outstandingPuts_[d].request,L=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(_,A,W=>{this.log_(_+" response",W),delete this.outstandingPuts_[d],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),L&&L(W.s,W.d)})}reportStats(d){if(this.connected_){const _={c:d};this.log_("reportStats",_),this.sendRequest("s",_,A=>{"ok"!==A.s&&this.log_("reportStats","Error sending stats: "+A.d)})}}onDataMessage_(d){if("r"in d){this.log_("from server: "+(0,N.Wl)(d));const _=d.r,A=this.requestCBHash_[_];A&&(delete this.requestCBHash_[_],A(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}}onDataPush_(d,_){this.log_("handleServerMessage",d,_),"d"===d?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===d?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===d?this.onListenRevoked_(_.p,_.q):"ac"===d?this.onAuthRevoked_(_.s,_.d):"apc"===d?this.onAppCheckRevoked_(_.s,_.d):"sd"===d?this.onSecurityDebugPacket_(_):$n("Unrecognized action received from server: "+(0,N.Wl)(d)+"\nAre you using the latest client?")}onReady_(d,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(d){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(d))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qi,this.realtime_||this.scheduleConnect_(0)),this.visible_=d}onOnline_(d){d?(this.log_("Browser went online."),this.reconnectDelay_=Qi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Qi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const d=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-d);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var d=this;return(0,Oe.Z)(function*(){if(d.shouldReconnect_()){d.log_("Making a connection attempt"),d.lastConnectionAttemptTime_=(new Date).getTime(),d.lastConnectionEstablishedTime_=null;const _=d.onDataMessage_.bind(d),A=d.onReady_.bind(d),L=d.onRealtimeDisconnect_.bind(d),W=d.id+":"+f.nextConnectionId_++,ae=d.lastSessionId;let Ne=!1,it=null;const Jt=function(){it?it.close():(Ne=!0,L())};d.realtime_={close:Jt,sendRequest:function(Jn){(0,N.hu)(it,"sendRequest call when we're not connected not allowed."),it.sendRequest(Jn)}};const ln=d.forceTokenRefresh_;d.forceTokenRefresh_=!1;try{const[Jn,mr]=yield Promise.all([d.authTokenProvider_.getToken(ln),d.appCheckTokenProvider_.getToken(ln)]);Ne?Pt("getToken() completed but was canceled"):(Pt("getToken() completed. Creating connection."),d.authToken_=Jn&&Jn.accessToken,d.appCheckToken_=mr&&mr.token,it=new vn(W,d.repoInfo_,d.applicationId_,d.appCheckToken_,d.authToken_,_,A,L,ui=>{Mn(ui+" ("+d.repoInfo_.toString()+")"),d.interrupt("server_kill")},ae))}catch(Jn){d.log_("Failed to get token: "+Jn),Ne||(d.repoInfo_.nodeAdmin&&Mn(Jn),Jt())}}})()}interrupt(d){Pt("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(d){Pt("Resuming connection for reason: "+d),delete this.interruptReasons_[d],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Qi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(d){const _=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let d=0;d<this.outstandingPuts_.length;d++){const _=this.outstandingPuts_[d];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(d,_){let A;A=_?_.map(W=>bn(W)).join("$"):"default";const L=this.removeListen_(d,A);L&&L.onComplete&&L.onComplete("permission_denied")}removeListen_(d,_){const A=new Lt(d).toString();let L;if(this.listens.has(A)){const W=this.listens.get(A);L=W.get(_),W.delete(_),0===W.size&&this.listens.delete(A)}else L=void 0;return L}onAuthRevoked_(d,_){Pt("Auth token revoked: "+d+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(d,_){Pt("App check token revoked: "+d+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===d||"permission_denied"===d)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const d of this.listens.values())for(const _ of d.values())this.sendListen_(_);for(let d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){const d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(let d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)}sendConnectStats_(){const d={};let _="js";(0,N.Yr)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+_+"."+tt.replace(/\./g,"-")]=1,(0,N.uI)()?d["framework.cordova"]=1:(0,N.b$)()&&(d["framework.reactnative"]=1),this.reportStats(d)}shouldReconnect_(){const d=ct.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&d}}return f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f})();class ur{constructor(c,d){this.name=c,this.node=d}static Wrap(c,d){return new ur(c,d)}}class Ps{getCompare(){return this.compare.bind(this)}indexedValueChanged(c,d){const _=new ur(cr,c),A=new ur(cr,d);return 0!==this.compare(_,A)}minPost(){return ur.MIN}}class ks extends Ps{static get __EMPTY_NODE(){return Ns}static set __EMPTY_NODE(c){Ns=c}compare(c,d){return mt(c.name,d.name)}isDefinedOn(c){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(c,d){return!1}minPost(){return ur.MIN}maxPost(){return new ur(At,Ns)}makePost(c,d){return(0,N.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new ur(c,Ns)}toString(){return".key"}}const jr=new ks;class xi{constructor(c,d,_,A,L=null){this.isReverse_=A,this.resultGenerator_=L,this.nodeStack_=[];let W=1;for(;!c.isEmpty();)if(W=d?_(c.key,d):1,A&&(W*=-1),W<0)c=this.isReverse_?c.left:c.right;else{if(0===W){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,c=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}}}let Cs,Mi=(()=>{class f{constructor(d,_,A,L,W){this.key=d,this.value=_,this.color=null!=A?A:f.RED,this.left=null!=L?L:_i.EMPTY_NODE,this.right=null!=W?W:_i.EMPTY_NODE}copy(d,_,A,L,W){return new f(null!=d?d:this.key,null!=_?_:this.value,null!=A?A:this.color,null!=L?L:this.left,null!=W?W:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)}reverseTraversal(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(d,_,A){let L=this;const W=A(d,L.key);return L=W<0?L.copy(null,null,null,L.left.insert(d,_,A),null):0===W?L.copy(null,_,null,null,null):L.copy(null,null,null,null,L.right.insert(d,_,A)),L.fixUp_()}removeMin_(){if(this.left.isEmpty())return _i.EMPTY_NODE;let d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.removeMin_(),null),d.fixUp_()}remove(d,_){let A,L;if(A=this,_(d,A.key)<0)!A.left.isEmpty()&&!A.left.isRed_()&&!A.left.left.isRed_()&&(A=A.moveRedLeft_()),A=A.copy(null,null,null,A.left.remove(d,_),null);else{if(A.left.isRed_()&&(A=A.rotateRight_()),!A.right.isEmpty()&&!A.right.isRed_()&&!A.right.left.isRed_()&&(A=A.moveRedRight_()),0===_(d,A.key)){if(A.right.isEmpty())return _i.EMPTY_NODE;L=A.right.min_(),A=A.copy(L.key,L.value,null,null,A.right.removeMin_())}A=A.copy(null,null,null,null,A.right.remove(d,_))}return A.fixUp_()}isRed_(){return this.color}fixUp_(){let d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d}moveRedLeft_(){let d=this.colorFlip_();return d.right.left.isRed_()&&(d=d.copy(null,null,null,null,d.right.rotateRight_()),d=d.rotateLeft_(),d=d.colorFlip_()),d}moveRedRight_(){let d=this.colorFlip_();return d.left.left.isRed_()&&(d=d.rotateRight_(),d=d.colorFlip_()),d}rotateLeft_(){const d=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)}rotateRight_(){const d=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)}colorFlip_(){const d=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,_)}checkMaxDepth_(){const d=this.check_();return Math.pow(2,d)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)}}return f.RED=!0,f.BLACK=!1,f})();class _i{constructor(c,d=_i.EMPTY_NODE){this.comparator_=c,this.root_=d}insert(c,d){return new _i(this.comparator_,this.root_.insert(c,d,this.comparator_).copy(null,null,Mi.BLACK,null,null))}remove(c){return new _i(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,Mi.BLACK,null,null))}get(c){let d,_=this.root_;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d)return _.value;d<0?_=_.left:d>0&&(_=_.right)}return null}getPredecessorKey(c){let d,_=this.root_,A=null;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d){if(_.left.isEmpty())return A?A.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}d<0?_=_.left:d>0&&(A=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(c){return this.root_.inorderTraversal(c)}reverseTraversal(c){return this.root_.reverseTraversal(c)}getIterator(c){return new xi(this.root_,null,this.comparator_,!1,c)}getIteratorFrom(c,d){return new xi(this.root_,c,this.comparator_,!1,d)}getReverseIteratorFrom(c,d){return new xi(this.root_,c,this.comparator_,!0,d)}getReverseIterator(c){return new xi(this.root_,null,this.comparator_,!0,c)}}function qs(f,c){return mt(f.name,c.name)}function ns(f,c){return mt(f,c)}_i.EMPTY_NODE=new class ys{copy(c,d,_,A,L){return this}insert(c,d,_){return new Mi(c,d,null)}remove(c,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ao=function(f){return"number"==typeof f?"number:"+dr(f):"string:"+f},ss=function(f){if(f.isLeafNode()){const c=f.val();(0,N.hu)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,N.r3)(c,".sv"),"Priority must be a string or number.")}else(0,N.hu)(f===Cs||f.isEmpty(),"priority of unexpected type.");(0,N.hu)(f===Cs||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Fs,zs,vo,Nr=(()=>{class f{constructor(d,_=f.__childrenNodeConstructor.EMPTY_NODE){this.value_=d,this.priorityNode_=_,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ss(this.priorityNode_)}static set __childrenNodeConstructor(d){Fs=d}static get __childrenNodeConstructor(){return Fs}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(d){return new f(this.value_,d)}getImmediateChild(d){return".priority"===d?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}getChild(d){return Tr(d)?this:".priority"===gn(d)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(d,_){return null}updateImmediateChild(d,_){return".priority"===d?this.updatePriority(_):_.isEmpty()&&".priority"!==d?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,_).updatePriority(this.priorityNode_)}updateChild(d,_){const A=gn(d);return null===A?_:_.isEmpty()&&".priority"!==A?this:((0,N.hu)(".priority"!==A||1===Zn(d),".priority must be the last token in a path"),this.updateImmediateChild(A,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(or(d),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(d,_){return!1}val(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let d="";this.priorityNode_.isEmpty()||(d+="priority:"+Ao(this.priorityNode_.val())+":");const _=typeof this.value_;d+=_+":",d+="number"===_?dr(this.value_):this.value_,this.lazyHash_=Xe(d)}return this.lazyHash_}getValue(){return this.value_}compareTo(d){return d===f.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof f.__childrenNodeConstructor?-1:((0,N.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))}compareToLeafNode_(d){const _=typeof d.value_,A=typeof this.value_,L=f.VALUE_TYPE_ORDER.indexOf(_),W=f.VALUE_TYPE_ORDER.indexOf(A);return(0,N.hu)(L>=0,"Unknown leaf type: "+_),(0,N.hu)(W>=0,"Unknown leaf type: "+A),L===W?"object"===A?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:W-L}withIndex(){return this}isIndexed(){return!0}equals(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))}}return f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f})();const Dr=new class Zs extends Ps{compare(c,d){const _=c.node.getPriority(),A=d.node.getPriority(),L=_.compareTo(A);return 0===L?mt(c.name,d.name):L}isDefinedOn(c){return!c.getPriority().isEmpty()}indexedValueChanged(c,d){return!c.getPriority().equals(d.getPriority())}minPost(){return ur.MIN}maxPost(){return new ur(At,new Nr("[PRIORITY-POST]",vo))}makePost(c,d){const _=zs(c);return new ur(d,new Nr("[PRIORITY-POST]",_))}toString(){return".priority"}},Wo=Math.log(2);class Ko{constructor(c){this.count=parseInt(Math.log(c+1)/Wo,10),this.current_=this.count-1;const A=(L=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=c+1&A}nextBitIsOne(){const c=!(this.bits_&1<<this.current_);return this.current_--,c}}const vs=function(f,c,d,_){f.sort(c);const A=function(Ne,it){const Jt=it-Ne;let tn,ln;if(0===Jt)return null;if(1===Jt)return tn=f[Ne],ln=d?d(tn):tn,new Mi(ln,tn.node,Mi.BLACK,null,null);{const Jn=parseInt(Jt/2,10)+Ne,mr=A(Ne,Jn),ui=A(Jn+1,it);return tn=f[Jn],ln=d?d(tn):tn,new Mi(ln,tn.node,Mi.BLACK,mr,ui)}},ae=function(Ne){let it=null,Jt=null,tn=f.length;const ln=function(mr,ui){const Do=tn-mr,Ta=tn;tn-=mr;const fu=A(Do+1,Ta),ku=f[Do],oh=d?d(ku):ku;Jn(new Mi(oh,ku.node,ui,null,fu))},Jn=function(mr){it?(it.left=mr,it=mr):(Jt=mr,it=mr)};for(let mr=0;mr<Ne.count;++mr){const ui=Ne.nextBitIsOne(),Do=Math.pow(2,Ne.count-(mr+1));ui?ln(Do,Mi.BLACK):(ln(Do,Mi.BLACK),ln(Do,Mi.RED))}return Jt}(new Ko(f.length));return new _i(_||c,ae)};let Ei;const ki={};class Ji{constructor(c,d){this.indexes_=c,this.indexSet_=d}static get Default(){return(0,N.hu)(ki&&Dr,"ChildrenNode.ts has not been loaded"),Ei=Ei||new Ji({".priority":ki},{".priority":Dr}),Ei}get(c){const d=(0,N.DV)(this.indexes_,c);if(!d)throw new Error("No index defined for "+c);return d instanceof _i?d:null}hasIndex(c){return(0,N.r3)(this.indexSet_,c.toString())}addIndex(c,d){(0,N.hu)(c!==jr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let A=!1;const L=d.getIterator(ur.Wrap);let ae,W=L.getNext();for(;W;)A=A||c.isDefinedOn(W.node),_.push(W),W=L.getNext();ae=A?vs(_,c.getCompare()):ki;const Ne=c.toString(),it=Object.assign({},this.indexSet_);it[Ne]=c;const Jt=Object.assign({},this.indexes_);return Jt[Ne]=ae,new Ji(Jt,it)}addToIndexes(c,d){const _=(0,N.UI)(this.indexes_,(A,L)=>{const W=(0,N.DV)(this.indexSet_,L);if((0,N.hu)(W,"Missing index implementation for "+L),A===ki){if(W.isDefinedOn(c.node)){const ae=[],Ne=d.getIterator(ur.Wrap);let it=Ne.getNext();for(;it;)it.name!==c.name&&ae.push(it),it=Ne.getNext();return ae.push(c),vs(ae,W.getCompare())}return ki}{const ae=d.get(c.name);let Ne=A;return ae&&(Ne=Ne.remove(new ur(c.name,ae))),Ne.insert(c,c.node)}});return new Ji(_,this.indexSet_)}removeFromIndexes(c,d){const _=(0,N.UI)(this.indexes_,A=>{if(A===ki)return A;{const L=d.get(c.name);return L?A.remove(new ur(c.name,L)):A}});return new Ji(_,this.indexSet_)}}let _s,fr=(()=>{class f{constructor(d,_,A){this.children_=d,this.priorityNode_=_,this.indexMap_=A,this.lazyHash_=null,this.priorityNode_&&ss(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _s||(_s=new f(new _i(ns),null,Ji.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_s}updatePriority(d){return this.children_.isEmpty()?this:new f(this.children_,d,this.indexMap_)}getImmediateChild(d){if(".priority"===d)return this.getPriority();{const _=this.children_.get(d);return null===_?_s:_}}getChild(d){const _=gn(d);return null===_?this:this.getImmediateChild(_).getChild(or(d))}hasChild(d){return null!==this.children_.get(d)}updateImmediateChild(d,_){if((0,N.hu)(_,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(_);{const A=new ur(d,_);let L,W;_.isEmpty()?(L=this.children_.remove(d),W=this.indexMap_.removeFromIndexes(A,this.children_)):(L=this.children_.insert(d,_),W=this.indexMap_.addToIndexes(A,this.children_));const ae=L.isEmpty()?_s:this.priorityNode_;return new f(L,ae,W)}}updateChild(d,_){const A=gn(d);if(null===A)return _;{(0,N.hu)(".priority"!==gn(d)||1===Zn(d),".priority must be the last token in a path");const L=this.getImmediateChild(A).updateChild(or(d),_);return this.updateImmediateChild(A,L)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(d){if(this.isEmpty())return null;const _={};let A=0,L=0,W=!0;if(this.forEachChild(Dr,(ae,Ne)=>{_[ae]=Ne.val(d),A++,W&&f.INTEGER_REGEXP_.test(ae)?L=Math.max(L,Number(ae)):W=!1}),!d&&W&&L<2*A){const ae=[];for(const Ne in _)ae[Ne]=_[Ne];return ae}return d&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let d="";this.getPriority().isEmpty()||(d+="priority:"+Ao(this.getPriority().val())+":"),this.forEachChild(Dr,(_,A)=>{const L=A.hash();""!==L&&(d+=":"+_+":"+L)}),this.lazyHash_=""===d?"":Xe(d)}return this.lazyHash_}getPredecessorChildName(d,_,A){const L=this.resolveIndex_(A);if(L){const W=L.getPredecessorKey(new ur(d,_));return W?W.name:null}return this.children_.getPredecessorKey(d)}getFirstChildName(d){const _=this.resolveIndex_(d);if(_){const A=_.minKey();return A&&A.name}return this.children_.minKey()}getFirstChild(d){const _=this.getFirstChildName(d);return _?new ur(_,this.children_.get(_)):null}getLastChildName(d){const _=this.resolveIndex_(d);if(_){const A=_.maxKey();return A&&A.name}return this.children_.maxKey()}getLastChild(d){const _=this.getLastChildName(d);return _?new ur(_,this.children_.get(_)):null}forEachChild(d,_){const A=this.resolveIndex_(d);return A?A.inorderTraversal(L=>_(L.name,L.node)):this.children_.inorderTraversal(_)}getIterator(d){return this.getIteratorFrom(d.minPost(),d)}getIteratorFrom(d,_){const A=this.resolveIndex_(_);if(A)return A.getIteratorFrom(d,L=>L);{const L=this.children_.getIteratorFrom(d.name,ur.Wrap);let W=L.peek();for(;null!=W&&_.compare(W,d)<0;)L.getNext(),W=L.peek();return L}}getReverseIterator(d){return this.getReverseIteratorFrom(d.maxPost(),d)}getReverseIteratorFrom(d,_){const A=this.resolveIndex_(_);if(A)return A.getReverseIteratorFrom(d,L=>L);{const L=this.children_.getReverseIteratorFrom(d.name,ur.Wrap);let W=L.peek();for(;null!=W&&_.compare(W,d)>0;)L.getNext(),W=L.peek();return L}}compareTo(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===Mo?-1:0}withIndex(d){if(d===jr||this.indexMap_.hasIndex(d))return this;{const _=this.indexMap_.addIndex(d,this.children_);return new f(this.children_,this.priorityNode_,_)}}isIndexed(d){return d===jr||this.indexMap_.hasIndex(d)}equals(d){if(d===this)return!0;if(d.isLeafNode())return!1;{const _=d;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const A=this.getIterator(Dr),L=_.getIterator(Dr);let W=A.getNext(),ae=L.getNext();for(;W&&ae;){if(W.name!==ae.name||!W.node.equals(ae.node))return!1;W=A.getNext(),ae=L.getNext()}return null===W&&null===ae}return!1}return!1}}resolveIndex_(d){return d===jr?null:this.indexMap_.get(d.toString())}}return f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f})();const Mo=new class xo extends fr{constructor(){super(new _i(ns),fr.EMPTY_NODE,Ji.Default)}compareTo(c){return c===this?0:1}equals(c){return c===this}getPriority(){return this}getImmediateChild(c){return fr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ur,{MIN:{value:new ur(cr,fr.EMPTY_NODE)},MAX:{value:new ur(At,Mo)}}),ks.__EMPTY_NODE=fr.EMPTY_NODE,Nr.__childrenNodeConstructor=fr,function yo(f){Cs=f}(Mo),function Go(f){vo=f}(Mo);const Ir=!0;function li(f,c=null){if(null===f)return fr.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(c=f[".priority"]),(0,N.hu)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new Nr(f,li(c));if(f instanceof Array||!Ir){let d=fr.EMPTY_NODE;return In(f,(_,A)=>{if((0,N.r3)(f,_)&&"."!==_.substring(0,1)){const L=li(A);(L.isLeafNode()||!L.isEmpty())&&(d=d.updateImmediateChild(_,L))}}),d.updatePriority(li(c))}{const d=[];let _=!1;if(In(f,(W,ae)=>{if("."!==W.substring(0,1)){const Ne=li(ae);Ne.isEmpty()||(_=_||!Ne.getPriority().isEmpty(),d.push(new ur(W,Ne)))}}),0===d.length)return fr.EMPTY_NODE;const L=vs(d,qs,W=>W.name,ns);if(_){const W=vs(d,Dr.getCompare());return new fr(L,li(c),new Ji({".priority":W},{".priority":Dr}))}return new fr(L,li(c),Ji.Default)}}!function ci(f){zs=f}(li);class Xs extends Ps{constructor(c){super(),this.indexPath_=c,(0,N.hu)(!Tr(c)&&".priority"!==gn(c),"Can't create PathIndex with empty path or .priority key")}extractChild(c){return c.getChild(this.indexPath_)}isDefinedOn(c){return!c.getChild(this.indexPath_).isEmpty()}compare(c,d){const _=this.extractChild(c.node),A=this.extractChild(d.node),L=_.compareTo(A);return 0===L?mt(c.name,d.name):L}makePost(c,d){const _=li(c),A=fr.EMPTY_NODE.updateChild(this.indexPath_,_);return new ur(d,A)}maxPost(){const c=fr.EMPTY_NODE.updateChild(this.indexPath_,Mo);return new ur(At,c)}toString(){return si(this.indexPath_,0).join("/")}}const Ds=new class Qs extends Ps{compare(c,d){const _=c.node.compareTo(d.node);return 0===_?mt(c.name,d.name):_}isDefinedOn(c){return!0}indexedValueChanged(c,d){return!c.equals(d)}minPost(){return ur.MIN}maxPost(){return ur.MAX}makePost(c,d){const _=li(c);return new ur(d,_)}toString(){return".value"}};function xa(f){return{type:"value",snapshotNode:f}}function Ss(f,c){return{type:"child_added",snapshotNode:c,childName:f}}function Ts(f,c){return{type:"child_removed",snapshotNode:c,childName:f}}function g(f,c,d){return{type:"child_changed",snapshotNode:c,childName:f,oldSnap:d}}class h{constructor(c){this.index_=c}updateChild(c,d,_,A,L,W){(0,N.hu)(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ae=c.getImmediateChild(d);return ae.getChild(A).equals(_.getChild(A))&&ae.isEmpty()===_.isEmpty()||(null!=W&&(_.isEmpty()?c.hasChild(d)?W.trackChildChange(Ts(d,ae)):(0,N.hu)(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ae.isEmpty()?W.trackChildChange(Ss(d,_)):W.trackChildChange(g(d,_,ae))),c.isLeafNode()&&_.isEmpty())?c:c.updateImmediateChild(d,_).withIndex(this.index_)}updateFullNode(c,d,_){return null!=_&&(c.isLeafNode()||c.forEachChild(Dr,(A,L)=>{d.hasChild(A)||_.trackChildChange(Ts(A,L))}),d.isLeafNode()||d.forEachChild(Dr,(A,L)=>{if(c.hasChild(A)){const W=c.getImmediateChild(A);W.equals(L)||_.trackChildChange(g(A,L,W))}else _.trackChildChange(Ss(A,L))})),d.withIndex(this.index_)}updatePriority(c,d){return c.isEmpty()?fr.EMPTY_NODE:c.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class D{constructor(c){this.indexedFilter_=new h(c.getIndex()),this.index_=c.getIndex(),this.startPost_=D.getStartPost_(c),this.endPost_=D.getEndPost_(c),this.startIsInclusive_=!c.startAfterSet_,this.endIsInclusive_=!c.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(c){const d=this.startIsInclusive_?this.index_.compare(this.getStartPost(),c)<=0:this.index_.compare(this.getStartPost(),c)<0,_=this.endIsInclusive_?this.index_.compare(c,this.getEndPost())<=0:this.index_.compare(c,this.getEndPost())<0;return d&&_}updateChild(c,d,_,A,L,W){return this.matches(new ur(d,_))||(_=fr.EMPTY_NODE),this.indexedFilter_.updateChild(c,d,_,A,L,W)}updateFullNode(c,d,_){d.isLeafNode()&&(d=fr.EMPTY_NODE);let A=d.withIndex(this.index_);A=A.updatePriority(fr.EMPTY_NODE);const L=this;return d.forEachChild(Dr,(W,ae)=>{L.matches(new ur(W,ae))||(A=A.updateImmediateChild(W,fr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,A,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(c){if(c.hasStart()){const d=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),d)}return c.getIndex().minPost()}static getEndPost_(c){if(c.hasEnd()){const d=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),d)}return c.getIndex().maxPost()}}class q{constructor(c){this.withinDirectionalStart=d=>this.reverse_?this.withinEndPost(d):this.withinStartPost(d),this.withinDirectionalEnd=d=>this.reverse_?this.withinStartPost(d):this.withinEndPost(d),this.withinStartPost=d=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),d);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=d=>{const _=this.index_.compare(d,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new D(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft(),this.startIsInclusive_=!c.startAfterSet_,this.endIsInclusive_=!c.endBeforeSet_}updateChild(c,d,_,A,L,W){return this.rangedFilter_.matches(new ur(d,_))||(_=fr.EMPTY_NODE),c.getImmediateChild(d).equals(_)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,d,_,A,L,W):this.fullLimitUpdateChild_(c,d,_,L,W)}updateFullNode(c,d,_){let A;if(d.isLeafNode()||d.isEmpty())A=fr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let L;A=fr.EMPTY_NODE.withIndex(this.index_),L=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let W=0;for(;L.hasNext()&&W<this.limit_;){const ae=L.getNext();if(this.withinDirectionalStart(ae)){if(!this.withinDirectionalEnd(ae))break;A=A.updateImmediateChild(ae.name,ae.node),W++}}}else{let L;A=d.withIndex(this.index_),A=A.updatePriority(fr.EMPTY_NODE),L=this.reverse_?A.getReverseIterator(this.index_):A.getIterator(this.index_);let W=0;for(;L.hasNext();){const ae=L.getNext();W<this.limit_&&this.withinDirectionalStart(ae)&&this.withinDirectionalEnd(ae)?W++:A=A.updateImmediateChild(ae.name,fr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,A,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(c,d,_,A,L){let W;if(this.reverse_){const tn=this.index_.getCompare();W=(ln,Jn)=>tn(Jn,ln)}else W=this.index_.getCompare();const ae=c;(0,N.hu)(ae.numChildren()===this.limit_,"");const Ne=new ur(d,_),it=this.reverse_?ae.getFirstChild(this.index_):ae.getLastChild(this.index_),Jt=this.rangedFilter_.matches(Ne);if(ae.hasChild(d)){const tn=ae.getImmediateChild(d);let ln=A.getChildAfterChild(this.index_,it,this.reverse_);for(;null!=ln&&(ln.name===d||ae.hasChild(ln.name));)ln=A.getChildAfterChild(this.index_,ln,this.reverse_);const Jn=null==ln?1:W(ln,Ne);if(Jt&&!_.isEmpty()&&Jn>=0)return null!=L&&L.trackChildChange(g(d,_,tn)),ae.updateImmediateChild(d,_);{null!=L&&L.trackChildChange(Ts(d,tn));const ui=ae.updateImmediateChild(d,fr.EMPTY_NODE);return null!=ln&&this.rangedFilter_.matches(ln)?(null!=L&&L.trackChildChange(Ss(ln.name,ln.node)),ui.updateImmediateChild(ln.name,ln.node)):ui}}return _.isEmpty()?c:Jt&&W(it,Ne)>=0?(null!=L&&(L.trackChildChange(Ts(it.name,it.node)),L.trackChildChange(Ss(d,_))),ae.updateImmediateChild(d,_).updateImmediateChild(it.name,fr.EMPTY_NODE)):c}}class et{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:At}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dr}copy(){const c=new et;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.startAfterSet_=this.startAfterSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.endBeforeSet_=this.endBeforeSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c}}function Or(f,c,d){const _=f.copy();return _.startSet_=!0,void 0===c&&(c=null),_.indexStartValue_=c,null!=d?(_.startNameSet_=!0,_.indexStartName_=d):(_.startNameSet_=!1,_.indexStartName_=""),_}function Pr(f,c,d){const _=f.copy();return _.endSet_=!0,void 0===c&&(c=null),_.indexEndValue_=c,void 0!==d?(_.endNameSet_=!0,_.indexEndName_=d):(_.endNameSet_=!1,_.indexEndName_=""),_}function os(f,c){const d=f.copy();return d.index_=c,d}function qr(f){const c={};if(f.isDefault())return c;let d;if(f.index_===Dr?d="$priority":f.index_===Ds?d="$value":f.index_===jr?d="$key":((0,N.hu)(f.index_ instanceof Xs,"Unrecognized index type!"),d=f.index_.toString()),c.orderBy=(0,N.Wl)(d),f.startSet_){const _=f.startAfterSet_?"startAfter":"startAt";c[_]=(0,N.Wl)(f.indexStartValue_),f.startNameSet_&&(c[_]+=","+(0,N.Wl)(f.indexStartName_))}if(f.endSet_){const _=f.endBeforeSet_?"endBefore":"endAt";c[_]=(0,N.Wl)(f.indexEndValue_),f.endNameSet_&&(c[_]+=","+(0,N.Wl)(f.indexEndName_))}return f.limitSet_&&(f.isViewFromLeft()?c.limitToFirst=f.limit_:c.limitToLast=f.limit_),c}function Fi(f){const c={};if(f.startSet_&&(c.sp=f.indexStartValue_,f.startNameSet_&&(c.sn=f.indexStartName_),c.sin=!f.startAfterSet_),f.endSet_&&(c.ep=f.indexEndValue_,f.endNameSet_&&(c.en=f.indexEndName_),c.ein=!f.endBeforeSet_),f.limitSet_){c.l=f.limit_;let d=f.viewFrom_;""===d&&(d=f.isViewFromLeft()?"l":"r"),c.vf=d}return f.index_!==Dr&&(c.i=f.index_.toString()),c}class As extends Wn{constructor(c,d,_,A){super(),this.repoInfo_=c,this.onDataUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=A,this.log_=Ot("p:rest:"),this.listens_={}}reportStats(c){throw new Error("Method not implemented.")}static getListenId_(c,d){return void 0!==d?"tag$"+d:((0,N.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())}listen(c,d,_,A){const L=c._path.toString();this.log_("Listen called for "+L+" "+c._queryIdentifier);const W=As.getListenId_(c,_),ae={};this.listens_[W]=ae;const Ne=qr(c._queryParams);this.restRequest_(L+".json",Ne,(it,Jt)=>{let tn=Jt;if(404===it&&(tn=null,it=null),null===it&&this.onDataUpdate_(L,tn,!1,_),(0,N.DV)(this.listens_,W)===ae){let ln;ln=it?401===it?"permission_denied":"rest_error:"+it:"ok",A(ln,null)}})}unlisten(c,d){const _=As.getListenId_(c,d);delete this.listens_[_]}get(c){const d=qr(c._queryParams),_=c._path.toString(),A=new N.BH;return this.restRequest_(_+".json",d,(L,W)=>{let ae=W;404===L&&(ae=null,L=null),null===L?(this.onDataUpdate_(_,ae,!1,null),A.resolve(ae)):A.reject(new Error(ae))}),A.promise}refreshAuthToken(c){}restRequest_(c,d={},_){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([A,L])=>{A&&A.accessToken&&(d.auth=A.accessToken),L&&L.token&&(d.ac=L.token);const W=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+c+"?ns="+this.repoInfo_.namespace+(0,N.xO)(d);this.log_("Sending REST request for "+W);const ae=new XMLHttpRequest;ae.onreadystatechange=()=>{if(_&&4===ae.readyState){this.log_("REST Response for "+W+" received. status:",ae.status,"response:",ae.responseText);let Ne=null;if(ae.status>=200&&ae.status<300){try{Ne=(0,N.cI)(ae.responseText)}catch(it){Mn("Failed to parse JSON response for "+W+": "+ae.responseText)}_(null,Ne)}else 401!==ae.status&&404!==ae.status&&Mn("Got unsuccessful REST response for "+W+" Status: "+ae.status),_(ae.status);_=null}},ae.open("GET",W,!0),ae.send()})}}class Jo{constructor(){this.rootNode_=fr.EMPTY_NODE}getNode(c){return this.rootNode_.getChild(c)}updateSnapshot(c,d){this.rootNode_=this.rootNode_.updateChild(c,d)}}function as(){return{value:null,children:new Map}}function Ro(f,c,d){if(Tr(c))f.value=d,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(c,d);else{const _=gn(c);f.children.has(_)||f.children.set(_,as()),Ro(f.children.get(_),c=or(c),d)}}function ea(f,c){if(Tr(c))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;{const d=f.value;return f.value=null,d.forEachChild(Dr,(_,A)=>{Ro(f,new Lt(_),A)}),ea(f,c)}}if(f.children.size>0){const d=gn(c);return c=or(c),f.children.has(d)&&ea(f.children.get(d),c)&&f.children.delete(d),0===f.children.size}return!0}function Ma(f,c,d){null!==f.value?d(c,f.value):function Xa(f,c){f.children.forEach((d,_)=>{c(_,d)})}(f,(_,A)=>{Ma(A,new Lt(c.toString()+"/"+_),d)})}class Oo{constructor(c){this.collection_=c,this.last_=null}get(){const c=this.collection_.get(),d=Object.assign({},c);return this.last_&&In(this.last_,(_,A)=>{d[_]=d[_]-A}),this.last_=c,d}}class Ml{constructor(c,d){this.server_=d,this.statsToReport_={},this.statsListener_=new Oo(c);const _=1e4+2e4*Math.random();ri(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const c=this.statsListener_.get(),d={};let _=!1;In(c,(A,L)=>{L>0&&(0,N.r3)(this.statsToReport_,A)&&(d[A]=L,_=!0)}),_&&this.server_.reportStats(d),ri(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ls=(()=>{return(f=Ls||(Ls={}))[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ls;var f})();function Ra(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}class Js{constructor(c,d,_){this.path=c,this.affectedTree=d,this.revert=_,this.type=Ls.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(c){if(Tr(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new Lt(c));return new Js(Xt(),d,this.revert)}}return(0,N.hu)(gn(this.path)===c,"operationForChild called for unrelated child."),new Js(or(this.path),this.affectedTree,this.revert)}}class da{constructor(c,d){this.source=c,this.path=d,this.type=Ls.LISTEN_COMPLETE}operationForChild(c){return Tr(this.path)?new da(this.source,Xt()):new da(this.source,or(this.path))}}class _o{constructor(c,d,_){this.source=c,this.path=d,this.snap=_,this.type=Ls.OVERWRITE}operationForChild(c){return Tr(this.path)?new _o(this.source,Xt(),this.snap.getImmediateChild(c)):new _o(this.source,or(this.path),this.snap)}}class Eo{constructor(c,d,_){this.source=c,this.path=d,this.children=_,this.type=Ls.MERGE}operationForChild(c){if(Tr(this.path)){const d=this.children.subtree(new Lt(c));return d.isEmpty()?null:d.value?new _o(this.source,Xt(),d.value):new Eo(this.source,Xt(),d)}return(0,N.hu)(gn(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new Eo(this.source,or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bo{constructor(c,d,_){this.node_=c,this.fullyInitialized_=d,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(c){if(Tr(c))return this.isFullyInitialized()&&!this.filtered_;const d=gn(c);return this.isCompleteForChild(d)}isCompleteForChild(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)}getNode(){return this.node_}}class Zi{constructor(c){this.query_=c,this.index_=this.query_._queryParams.getIndex()}}function fi(f,c,d,_,A,L){const W=_.filter(ae=>ae.type===d);W.sort((ae,Ne)=>function Ri(f,c,d){if(null==c.childName||null==d.childName)throw(0,N.g5)("Should only compare child_ events.");const _=new ur(c.childName,c.snapshotNode),A=new ur(d.childName,d.snapshotNode);return f.index_.compare(_,A)}(f,ae,Ne)),W.forEach(ae=>{const Ne=function $o(f,c,d){return"value"===c.type||"child_removed"===c.type||(c.prevName=d.getPredecessorChildName(c.childName,c.snapshotNode,f.index_)),c}(f,ae,L);A.forEach(it=>{it.respondsTo(ae.type)&&c.push(it.createEvent(Ne,f.query_))})})}function pl(f,c){return{eventCache:f,serverCache:c}}function Es(f,c,d,_){return pl(new Bo(c,d,_),f.serverCache)}function Qa(f,c,d,_){return pl(f.eventCache,new Bo(c,d,_))}function gl(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function Vo(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}let ha;class K{constructor(c,d=(()=>(ha||(ha=new _i(Nt)),ha))()){this.value=c,this.children=d}static fromObject(c){let d=new K(null);return In(c,(_,A)=>{d=d.set(new Lt(_),A)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(c,d){if(null!=this.value&&d(this.value))return{path:Xt(),value:this.value};if(Tr(c))return null;{const _=gn(c),A=this.children.get(_);if(null!==A){const L=A.findRootMostMatchingPathAndValue(or(c),d);return null!=L?{path:zr(new Lt(_),L.path),value:L.value}:null}return null}}findRootMostValueAndPath(c){return this.findRootMostMatchingPathAndValue(c,()=>!0)}subtree(c){if(Tr(c))return this;{const d=gn(c),_=this.children.get(d);return null!==_?_.subtree(or(c)):new K(null)}}set(c,d){if(Tr(c))return new K(d,this.children);{const _=gn(c),L=(this.children.get(_)||new K(null)).set(or(c),d),W=this.children.insert(_,L);return new K(this.value,W)}}remove(c){if(Tr(c))return this.children.isEmpty()?new K(null):new K(null,this.children);{const d=gn(c),_=this.children.get(d);if(_){const A=_.remove(or(c));let L;return L=A.isEmpty()?this.children.remove(d):this.children.insert(d,A),null===this.value&&L.isEmpty()?new K(null):new K(this.value,L)}return this}}get(c){if(Tr(c))return this.value;{const d=gn(c),_=this.children.get(d);return _?_.get(or(c)):null}}setTree(c,d){if(Tr(c))return d;{const _=gn(c),L=(this.children.get(_)||new K(null)).setTree(or(c),d);let W;return W=L.isEmpty()?this.children.remove(_):this.children.insert(_,L),new K(this.value,W)}}fold(c){return this.fold_(Xt(),c)}fold_(c,d){const _={};return this.children.inorderTraversal((A,L)=>{_[A]=L.fold_(zr(c,A),d)}),d(c,this.value,_)}findOnPath(c,d){return this.findOnPath_(c,Xt(),d)}findOnPath_(c,d,_){const A=!!this.value&&_(d,this.value);if(A)return A;if(Tr(c))return null;{const L=gn(c),W=this.children.get(L);return W?W.findOnPath_(or(c),zr(d,L),_):null}}foreachOnPath(c,d){return this.foreachOnPath_(c,Xt(),d)}foreachOnPath_(c,d,_){if(Tr(c))return this;{this.value&&_(d,this.value);const A=gn(c),L=this.children.get(A);return L?L.foreachOnPath_(or(c),zr(d,A),_):new K(null)}}foreach(c){this.foreach_(Xt(),c)}foreach_(c,d){this.children.inorderTraversal((_,A)=>{A.foreach_(zr(c,_),d)}),this.value&&d(c,this.value)}foreachChild(c){this.children.inorderTraversal((d,_)=>{_.value&&c(d,_.value)})}}class U{constructor(c){this.writeTree_=c}static empty(){return new U(new K(null))}}function se(f,c,d){if(Tr(c))return new U(new K(d));{const _=f.writeTree_.findRootMostValueAndPath(c);if(null!=_){const A=_.path;let L=_.value;const W=hi(A,c);return L=L.updateChild(W,d),new U(f.writeTree_.set(A,L))}{const A=new K(d),L=f.writeTree_.setTree(c,A);return new U(L)}}}function we(f,c,d){let _=f;return In(d,(A,L)=>{_=se(_,zr(c,A),L)}),_}function Bt(f,c){if(Tr(c))return U.empty();{const d=f.writeTree_.setTree(c,new K(null));return new U(d)}}function Qt(f,c){return null!=Vn(f,c)}function Vn(f,c){const d=f.writeTree_.findRootMostValueAndPath(c);return null!=d?f.writeTree_.get(d.path).getChild(hi(d.path,c)):null}function Wr(f){const c=[],d=f.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(Dr,(_,A)=>{c.push(new ur(_,A))}):f.writeTree_.children.inorderTraversal((_,A)=>{null!=A.value&&c.push(new ur(_,A.value))}),c}function Yt(f,c){if(Tr(c))return f;{const d=Vn(f,c);return new U(null!=d?new K(d):f.writeTree_.subtree(c))}}function vr(f){return f.writeTree_.isEmpty()}function sr(f,c){return Li(Xt(),f.writeTree_,c)}function Li(f,c,d){if(null!=c.value)return d.updateChild(f,c.value);{let _=null;return c.children.inorderTraversal((A,L)=>{".priority"===A?((0,N.hu)(null!==L.value,"Priority writes must always be leaf nodes"),_=L.value):d=Li(zr(f,A),L,d)}),!d.getChild(f).isEmpty()&&null!==_&&(d=d.updateChild(zr(f,".priority"),_)),d}}function Dn(f,c){return ga(c,f)}function rn(f,c){if(f.snap)return Ki(f.path,c);for(const d in f.children)if(f.children.hasOwnProperty(d)&&Ki(zr(f.path,d),c))return!0;return!1}function Gs(f){return f.visible}function Oa(f,c,d){let _=U.empty();for(let A=0;A<f.length;++A){const L=f[A];if(c(L)){const W=L.path;let ae;if(L.snap)Ki(d,W)?(ae=hi(d,W),_=se(_,ae,L.snap)):Ki(W,d)&&(ae=hi(W,d),_=se(_,Xt(),L.snap.getChild(ae)));else{if(!L.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(Ki(d,W))ae=hi(d,W),_=we(_,ae,L.children);else if(Ki(W,d))if(ae=hi(W,d),Tr(ae))_=we(_,Xt(),L.children);else{const Ne=(0,N.DV)(L.children,gn(ae));if(Ne){const it=Ne.getChild(or(ae));_=se(_,Xt(),it)}}}}}return _}function Pa(f,c,d,_,A){if(_||A){const L=Yt(f.visibleWrites,c);return!A&&vr(L)?d:A||null!=d||Qt(L,Xt())?sr(Oa(f.allWrites,function(it){return(it.visible||A)&&(!_||!~_.indexOf(it.writeId))&&(Ki(it.path,c)||Ki(c,it.path))},c),d||fr.EMPTY_NODE):null}{const L=Vn(f.visibleWrites,c);if(null!=L)return L;{const W=Yt(f.visibleWrites,c);return vr(W)?d:null!=d||Qt(W,Xt())?sr(W,d||fr.EMPTY_NODE):null}}}function oo(f,c,d,_){return Pa(f.writeTree,f.treePath,c,d,_)}function fa(f,c){return function ml(f,c,d){let _=fr.EMPTY_NODE;const A=Vn(f.visibleWrites,c);if(A)return A.isLeafNode()||A.forEachChild(Dr,(L,W)=>{_=_.updateImmediateChild(L,W)}),_;if(d){const L=Yt(f.visibleWrites,c);return d.forEachChild(Dr,(W,ae)=>{const Ne=sr(Yt(L,new Lt(W)),ae);_=_.updateImmediateChild(W,Ne)}),Wr(L).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}return Wr(Yt(f.visibleWrites,c)).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}(f.writeTree,f.treePath,c)}function Ar(f,c,d,_){return function na(f,c,d,_,A){(0,N.hu)(_||A,"Either existingEventSnap or existingServerSnap must exist");const L=zr(c,d);if(Qt(f.visibleWrites,L))return null;{const W=Yt(f.visibleWrites,L);return vr(W)?A.getChild(d):sr(W,A.getChild(d))}}(f.writeTree,f.treePath,c,d,_)}function eo(f,c){return function Na(f,c){return Vn(f.visibleWrites,c)}(f.writeTree,zr(f.treePath,c))}function pi(f,c,d){return function Ja(f,c,d,_){const A=zr(c,d),L=Vn(f.visibleWrites,A);return null!=L?L:_.isCompleteForChild(d)?sr(Yt(f.visibleWrites,A),_.getNode().getImmediateChild(d)):null}(f.writeTree,f.treePath,c,d)}function ar(f,c){return ga(zr(f.treePath,c),f.writeTree)}function ga(f,c){return{treePath:f,writeTree:c}}class Zr{constructor(){this.changeMap=new Map}trackChildChange(c){const d=c.type,_=c.childName;(0,N.hu)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==_,"Only non-priority child changes can be tracked.");const A=this.changeMap.get(_);if(A){const L=A.type;if("child_added"===d&&"child_removed"===L)this.changeMap.set(_,g(_,c.snapshotNode,A.snapshotNode));else if("child_removed"===d&&"child_added"===L)this.changeMap.delete(_);else if("child_removed"===d&&"child_changed"===L)this.changeMap.set(_,Ts(_,A.oldSnap));else if("child_changed"===d&&"child_added"===L)this.changeMap.set(_,Ss(_,c.snapshotNode));else{if("child_changed"!==d||"child_changed"!==L)throw(0,N.g5)("Illegal combination of changes: "+c+" occurred after "+A);this.changeMap.set(_,g(_,c.snapshotNode,A.oldSnap))}}else this.changeMap.set(_,c)}getChanges(){return Array.from(this.changeMap.values())}}const gi=new class Uu{getCompleteChild(c){return null}getChildAfterChild(c,d,_){return null}};class Ln{constructor(c,d,_=null){this.writes_=c,this.viewCache_=d,this.optCompleteServerCache_=_}getCompleteChild(c){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(c))return d.getNode().getImmediateChild(c);{const _=null!=this.optCompleteServerCache_?new Bo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pi(this.writes_,c,_)}}getChildAfterChild(c,d,_){const A=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vo(this.viewCache_),L=function pa(f,c,d,_,A,L){return function ka(f,c,d,_,A,L,W){let ae;const Ne=Yt(f.visibleWrites,c),it=Vn(Ne,Xt());if(null!=it)ae=it;else{if(null==d)return[];ae=sr(Ne,d)}if(ae=ae.withIndex(W),ae.isEmpty()||ae.isLeafNode())return[];{const Jt=[],tn=W.getCompare(),ln=L?ae.getReverseIteratorFrom(_,W):ae.getIteratorFrom(_,W);let Jn=ln.getNext();for(;Jn&&Jt.length<A;)0!==tn(Jn,_)&&Jt.push(Jn),Jn=ln.getNext();return Jt}}(f.writeTree,f.treePath,c,d,_,A,L)}(this.writes_,A,d,1,_,c);return 0===L.length?null:L[0]}}function La(f,c,d,_,A,L){const W=c.eventCache;if(null!=eo(_,d))return c;{let ae,Ne;if(Tr(d))if((0,N.hu)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){const it=Vo(c),tn=fa(_,it instanceof fr?it:fr.EMPTY_NODE);ae=f.filter.updateFullNode(c.eventCache.getNode(),tn,L)}else{const it=oo(_,Vo(c));ae=f.filter.updateFullNode(c.eventCache.getNode(),it,L)}else{const it=gn(d);if(".priority"===it){(0,N.hu)(1===Zn(d),"Can't have a priority with additional path components");const Jt=W.getNode();Ne=c.serverCache.getNode();const tn=Ar(_,d,Jt,Ne);ae=null!=tn?f.filter.updatePriority(Jt,tn):W.getNode()}else{const Jt=or(d);let tn;if(W.isCompleteForChild(it)){Ne=c.serverCache.getNode();const ln=Ar(_,d,W.getNode(),Ne);tn=null!=ln?W.getNode().getImmediateChild(it).updateChild(Jt,ln):W.getNode().getImmediateChild(it)}else tn=pi(_,it,c.serverCache);ae=null!=tn?f.filter.updateChild(W.getNode(),it,tn,Jt,A,L):W.getNode()}}return Es(c,ae,W.isFullyInitialized()||Tr(d),f.filter.filtersNodes())}}function ma(f,c,d,_,A,L,W,ae){const Ne=c.serverCache;let it;const Jt=W?f.filter:f.filter.getIndexedFilter();if(Tr(d))it=Jt.updateFullNode(Ne.getNode(),_,null);else if(Jt.filtersNodes()&&!Ne.isFiltered()){const Jn=Ne.getNode().updateChild(d,_);it=Jt.updateFullNode(Ne.getNode(),Jn,null)}else{const Jn=gn(d);if(!Ne.isCompleteForPath(d)&&Zn(d)>1)return c;const mr=or(d),Do=Ne.getNode().getImmediateChild(Jn).updateChild(mr,_);it=".priority"===Jn?Jt.updatePriority(Ne.getNode(),Do):Jt.updateChild(Ne.getNode(),Jn,Do,mr,gi,null)}const tn=Qa(c,it,Ne.isFullyInitialized()||Tr(d),Jt.filtersNodes());return La(f,tn,d,A,new Ln(A,tn,L),ae)}function rs(f,c,d,_,A,L,W){const ae=c.eventCache;let Ne,it;const Jt=new Ln(A,c,L);if(Tr(d))it=f.filter.updateFullNode(c.eventCache.getNode(),_,W),Ne=Es(c,it,!0,f.filter.filtersNodes());else{const tn=gn(d);if(".priority"===tn)it=f.filter.updatePriority(c.eventCache.getNode(),_),Ne=Es(c,it,ae.isFullyInitialized(),ae.isFiltered());else{const ln=or(d),Jn=ae.getNode().getImmediateChild(tn);let mr;if(Tr(ln))mr=_;else{const ui=Jt.getCompleteChild(tn);mr=null!=ui?".priority"===hr(ln)&&ui.getChild(di(ln)).isEmpty()?ui:ui.updateChild(ln,_):fr.EMPTY_NODE}Ne=Jn.equals(mr)?c:Es(c,f.filter.updateChild(ae.getNode(),tn,mr,ln,Jt,W),ae.isFullyInitialized(),f.filter.filtersNodes())}}return Ne}function Rl(f,c){return f.eventCache.isCompleteForChild(c)}function is(f,c,d){return d.foreach((_,A)=>{c=c.updateChild(_,A)}),c}function tl(f,c,d,_,A,L,W,ae){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;let it,Ne=c;it=Tr(d)?_:new K(null).setTree(d,_);const Jt=c.serverCache.getNode();return it.children.inorderTraversal((tn,ln)=>{if(Jt.hasChild(tn)){const mr=is(0,c.serverCache.getNode().getImmediateChild(tn),ln);Ne=ma(f,Ne,new Lt(tn),mr,A,L,W,ae)}}),it.children.inorderTraversal((tn,ln)=>{const Jn=!c.serverCache.isCompleteForChild(tn)&&null===ln.value;if(!Jt.hasChild(tn)&&!Jn){const ui=is(0,c.serverCache.getNode().getImmediateChild(tn),ln);Ne=ma(f,Ne,new Lt(tn),ui,A,L,W,ae)}}),Ne}class ra{constructor(c,d){this.query_=c,this.eventRegistrations_=[];const _=this.query_._queryParams,A=new h(_.getIndex()),L=function an(f){return f.loadsAllData()?new h(f.getIndex()):f.hasLimit()?new q(f):new D(f)}(_);this.processor_=function Bi(f){return{filter:f}}(L);const W=d.serverCache,ae=d.eventCache,Ne=A.updateFullNode(fr.EMPTY_NODE,W.getNode(),null),it=L.updateFullNode(fr.EMPTY_NODE,ae.getNode(),null),Jt=new Bo(Ne,W.isFullyInitialized(),A.filtersNodes()),tn=new Bo(it,ae.isFullyInitialized(),L.filtersNodes());this.viewCache_=pl(tn,Jt),this.eventGenerator_=new Zi(this.query_)}get query(){return this.query_}}function lo(f,c){const d=Vo(f.viewCache_);return d&&(f.query._queryParams.loadsAllData()||!Tr(c)&&!d.getImmediateChild(gn(c)).isEmpty())?d.getChild(c):null}function nl(f){return 0===f.eventRegistrations_.length}function ya(f,c,d){const _=[];if(d){(0,N.hu)(null==c,"A cancel should cancel all event registrations.");const A=f.query._path;f.eventRegistrations_.forEach(L=>{const W=L.createCancelEvent(d,A);W&&_.push(W)})}if(c){let A=[];for(let L=0;L<f.eventRegistrations_.length;++L){const W=f.eventRegistrations_[L];if(W.matches(c)){if(c.hasAnyCallback()){A=A.concat(f.eventRegistrations_.slice(L+1));break}}else A.push(W)}f.eventRegistrations_=A}else f.eventRegistrations_=[];return _}function Si(f,c,d,_){c.type===Ls.MERGE&&null!==c.source.queryId&&((0,N.hu)(Vo(f.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(gl(f.viewCache_),"Missing event cache, even though we have a server cache"));const A=f.viewCache_,L=function Bs(f,c,d,_,A){const L=new Zr;let W,ae;if(d.type===Ls.OVERWRITE){const it=d;it.source.fromUser?W=rs(f,c,it.path,it.snap,_,A,L):((0,N.hu)(it.source.fromServer,"Unknown source."),ae=it.source.tagged||c.serverCache.isFiltered()&&!Tr(it.path),W=ma(f,c,it.path,it.snap,_,A,ae,L))}else if(d.type===Ls.MERGE){const it=d;it.source.fromUser?W=function yu(f,c,d,_,A,L,W){let ae=c;return _.foreach((Ne,it)=>{const Jt=zr(d,Ne);Rl(c,gn(Jt))&&(ae=rs(f,ae,Jt,it,A,L,W))}),_.foreach((Ne,it)=>{const Jt=zr(d,Ne);Rl(c,gn(Jt))||(ae=rs(f,ae,Jt,it,A,L,W))}),ae}(f,c,it.path,it.children,_,A,L):((0,N.hu)(it.source.fromServer,"Unknown source."),ae=it.source.tagged||c.serverCache.isFiltered(),W=tl(f,c,it.path,it.children,_,A,ae,L))}else if(d.type===Ls.ACK_USER_WRITE){const it=d;W=it.revert?function us(f,c,d,_,A,L){let W;if(null!=eo(_,d))return c;{const ae=new Ln(_,c,A),Ne=c.eventCache.getNode();let it;if(Tr(d)||".priority"===gn(d)){let Jt;if(c.serverCache.isFullyInitialized())Jt=oo(_,Vo(c));else{const tn=c.serverCache.getNode();(0,N.hu)(tn instanceof fr,"serverChildren would be complete if leaf node"),Jt=fa(_,tn)}it=f.filter.updateFullNode(Ne,Jt,L)}else{const Jt=gn(d);let tn=pi(_,Jt,c.serverCache);null==tn&&c.serverCache.isCompleteForChild(Jt)&&(tn=Ne.getImmediateChild(Jt)),it=null!=tn?f.filter.updateChild(Ne,Jt,tn,or(d),ae,L):c.eventCache.getNode().hasChild(Jt)?f.filter.updateChild(Ne,Jt,fr.EMPTY_NODE,or(d),ae,L):Ne,it.isEmpty()&&c.serverCache.isFullyInitialized()&&(W=oo(_,Vo(c)),W.isLeafNode()&&(it=f.filter.updateFullNode(it,W,L)))}return W=c.serverCache.isFullyInitialized()||null!=eo(_,Xt()),Es(c,it,W,f.filter.filtersNodes())}}(f,c,it.path,_,A,L):function ao(f,c,d,_,A,L,W){if(null!=eo(A,d))return c;const ae=c.serverCache.isFiltered(),Ne=c.serverCache;if(null!=_.value){if(Tr(d)&&Ne.isFullyInitialized()||Ne.isCompleteForPath(d))return ma(f,c,d,Ne.getNode().getChild(d),A,L,ae,W);if(Tr(d)){let it=new K(null);return Ne.getNode().forEachChild(jr,(Jt,tn)=>{it=it.set(new Lt(Jt),tn)}),tl(f,c,d,it,A,L,ae,W)}return c}{let it=new K(null);return _.foreach((Jt,tn)=>{const ln=zr(d,Jt);Ne.isCompleteForPath(ln)&&(it=it.set(Jt,Ne.getNode().getChild(ln)))}),tl(f,c,d,it,A,L,ae,W)}}(f,c,it.path,it.affectedTree,_,A,L)}else{if(d.type!==Ls.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+d.type);W=function Ol(f,c,d,_,A){const L=c.serverCache;return La(f,Qa(c,L.getNode(),L.isFullyInitialized()||Tr(d),L.isFiltered()),d,_,gi,A)}(f,c,d.path,_,L)}const Ne=L.getChanges();return function el(f,c,d){const _=c.eventCache;if(_.isFullyInitialized()){const A=_.getNode().isLeafNode()||_.getNode().isEmpty(),L=gl(f);(d.length>0||!f.eventCache.isFullyInitialized()||A&&!_.getNode().equals(L)||!_.getNode().getPriority().equals(L.getPriority()))&&d.push(xa(gl(c)))}}(c,W,Ne),{viewCache:W,changes:Ne}}(f.processor_,A,c,d,_);return function Fa(f,c){(0,N.hu)(c.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(c.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,L.viewCache),(0,N.hu)(L.viewCache.serverCache.isFullyInitialized()||!A.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=L.viewCache,Ba(f,L.changes,L.viewCache.eventCache.getNode(),null)}function Ba(f,c,d,_){return function ls(f,c,d,_){const A=[],L=[];return c.forEach(W=>{"child_changed"===W.type&&f.index_.indexedValueChanged(W.oldSnap,W.snapshotNode)&&L.push(function I(f,c){return{type:"child_moved",snapshotNode:c,childName:f}}(W.childName,W.snapshotNode))}),fi(f,A,"child_removed",c,_,d),fi(f,A,"child_added",c,_,d),fi(f,A,"child_moved",L,_,d),fi(f,A,"child_changed",c,_,d),fi(f,A,"value",c,_,d),A}(f.eventGenerator_,c,d,_?[_]:f.eventRegistrations_)}let vl,sa;class eu{constructor(){this.views=new Map}}function No(f,c,d,_){const A=c.source.queryId;if(null!==A){const L=f.views.get(A);return(0,N.hu)(null!=L,"SyncTree gave us an op for an invalid query."),Si(L,c,d,_)}{let L=[];for(const W of f.views.values())L=L.concat(Si(W,c,d,_));return L}}function tu(f,c,d,_,A){const W=f.views.get(c._queryIdentifier);if(!W){let ae=oo(d,A?_:null),Ne=!1;ae?Ne=!0:_ instanceof fr?(ae=fa(d,_),Ne=!1):(ae=fr.EMPTY_NODE,Ne=!1);const it=pl(new Bo(ae,Ne,!1),new Bo(_,A,!1));return new ra(c,it)}return W}function rl(f){const c=[];for(const d of f.views.values())d.query._queryParams.loadsAllData()||c.push(d);return c}function Pi(f,c){let d=null;for(const _ of f.views.values())d=d||lo(_,c);return d}function ia(f,c){return c._queryParams.loadsAllData()?$a(f):f.views.get(c._queryIdentifier)}function cs(f,c){return null!=ia(f,c)}function $s(f){return null!=$a(f)}function $a(f){for(const c of f.views.values())if(c.query._queryParams.loadsAllData())return c;return null}let vu=1;class _u{constructor(c){this.listenProvider_=c,this.syncPointTree_=new K(null),this.pendingWriteTree_=function yl(){return{visibleWrites:U.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nu(f,c,d,_,A){return function Nn(f,c,d,_,A){(0,N.hu)(_>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===A&&(A=!0),f.allWrites.push({path:c,snap:d,writeId:_,visible:A}),A&&(f.visibleWrites=se(f.visibleWrites,c,d)),f.lastWriteId=_}(f.pendingWriteTree_,c,d,_,A),A?Bn(f,new _o({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,d)):[]}function T(f,c,d=!1){const _=function fn(f,c){for(let d=0;d<f.allWrites.length;d++){const _=f.allWrites[d];if(_.writeId===c)return _}return null}(f.pendingWriteTree_,c);if(function $t(f,c){const d=f.allWrites.findIndex(ae=>ae.writeId===c);(0,N.hu)(d>=0,"removeWrite called with nonexistent writeId.");const _=f.allWrites[d];f.allWrites.splice(d,1);let A=_.visible,L=!1,W=f.allWrites.length-1;for(;A&&W>=0;){const ae=f.allWrites[W];ae.visible&&(W>=d&&rn(ae,_.path)?A=!1:Ki(_.path,ae.path)&&(L=!0)),W--}return!!A&&(L?(function Oi(f){f.visibleWrites=Oa(f.allWrites,Gs,Xt()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(_.snap?f.visibleWrites=Bt(f.visibleWrites,_.path):In(_.children,Ne=>{f.visibleWrites=Bt(f.visibleWrites,zr(_.path,Ne))}),!0))}(f.pendingWriteTree_,c)){let L=new K(null);return null!=_.snap?L=L.set(Xt(),!0):In(_.children,W=>{L=L.set(new Lt(W),!0)}),Bn(f,new Js(_.path,L,d))}return[]}function M(f,c,d){return Bn(f,new _o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,d))}function ne(f,c,d,_,A=!1){const L=c._path,W=f.syncPointTree_.get(L);let ae=[];if(W&&("default"===c._queryIdentifier||cs(W,c))){const Ne=function Xi(f,c,d,_){const A=c._queryIdentifier,L=[];let W=[];const ae=$s(f);if("default"===A)for(const[Ne,it]of f.views.entries())W=W.concat(ya(it,d,_)),nl(it)&&(f.views.delete(Ne),it.query._queryParams.loadsAllData()||L.push(it.query));else{const Ne=f.views.get(A);Ne&&(W=W.concat(ya(Ne,d,_)),nl(Ne)&&(f.views.delete(A),Ne.query._queryParams.loadsAllData()||L.push(Ne.query)))}return ae&&!$s(f)&&L.push(new(function to(){return(0,N.hu)(vl,"Reference.ts has not been loaded"),vl}())(c._repo,c._path)),{removed:L,events:W}}(W,c,d,_);(function Pl(f){return 0===f.views.size})(W)&&(f.syncPointTree_=f.syncPointTree_.remove(L));const it=Ne.removed;if(ae=Ne.events,!A){const Jt=-1!==it.findIndex(ln=>ln._queryParams.loadsAllData()),tn=f.syncPointTree_.findOnPath(L,(ln,Jn)=>$s(Jn));if(Jt&&!tn){const ln=f.syncPointTree_.subtree(L);if(!ln.isEmpty()){const Jn=function Tt(f){return f.fold((c,d,_)=>{if(d&&$s(d))return[$a(d)];{let A=[];return d&&(A=rl(d)),In(_,(L,W)=>{A=A.concat(W)}),A}})}(ln);for(let mr=0;mr<Jn.length;++mr){const ui=Jn[mr],Do=ui.query,Ta=Is(f,ui);f.listenProvider_.startListening(mn(Do),B(f,Do),Ta.hashFn,Ta.onComplete)}}}!tn&&it.length>0&&!_&&(Jt?f.listenProvider_.stopListening(mn(c),null):it.forEach(ln=>{const Jn=f.queryToTagMap.get(H(ln));f.listenProvider_.stopListening(mn(ln),Jn)}))}!function Xn(f,c){for(let d=0;d<c.length;++d){const _=c[d];if(!_._queryParams.loadsAllData()){const A=H(_),L=f.queryToTagMap.get(A);f.queryToTagMap.delete(A),f.tagToQueryMap.delete(L)}}}(f,it)}return ae}function ue(f,c,d,_){const A=te(f,_);if(null!=A){const L=Ve(A),W=L.path,ae=L.queryId,Ne=hi(W,c);return vt(f,W,new _o(Ra(ae),Ne,d))}return[]}function Ut(f,c,d,_=!1){const A=c._path;let L=null,W=!1;f.syncPointTree_.foreachOnPath(A,(ln,Jn)=>{const mr=hi(ln,A);L=L||Pi(Jn,mr),W=W||$s(Jn)});let Ne,ae=f.syncPointTree_.get(A);ae?(W=W||$s(ae),L=L||Pi(ae,Xt())):(ae=new eu,f.syncPointTree_=f.syncPointTree_.set(A,ae)),null!=L?Ne=!0:(Ne=!1,L=fr.EMPTY_NODE,f.syncPointTree_.subtree(A).foreachChild((Jn,mr)=>{const ui=Pi(mr,Xt());ui&&(L=L.updateImmediateChild(Jn,ui))}));const it=cs(ae,c);if(!it&&!c._queryParams.loadsAllData()){const ln=H(c);(0,N.hu)(!f.queryToTagMap.has(ln),"View does not exist, but we have a tag");const Jn=function jn(){return vu++}();f.queryToTagMap.set(ln,Jn),f.tagToQueryMap.set(Jn,ln)}let tn=function no(f,c,d,_,A,L){const W=tu(f,c,_,A,L);return f.views.has(c._queryIdentifier)||f.views.set(c._queryIdentifier,W),function Jl(f,c){f.eventRegistrations_.push(c)}(W,d),function va(f,c){const d=f.viewCache_.eventCache,_=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(Dr,(L,W)=>{_.push(Ss(L,W))}),d.isFullyInitialized()&&_.push(xa(d.getNode())),Ba(f,_,d.getNode(),c)}(W,d)}(ae,c,d,Dn(f.pendingWriteTree_,A),L,Ne);if(!it&&!W&&!_){const ln=ia(ae,c);tn=tn.concat(function wr(f,c,d){const _=c._path,A=B(f,c),L=Is(f,d),W=f.listenProvider_.startListening(mn(c),A,L.hashFn,L.onComplete),ae=f.syncPointTree_.subtree(_);if(A)(0,N.hu)(!$s(ae.value),"If we're adding a query, it shouldn't be shadowed");else{const Ne=ae.fold((it,Jt,tn)=>{if(!Tr(it)&&Jt&&$s(Jt))return[$a(Jt).query];{let ln=[];return Jt&&(ln=ln.concat(rl(Jt).map(Jn=>Jn.query))),In(tn,(Jn,mr)=>{ln=ln.concat(mr)}),ln}});for(let it=0;it<Ne.length;++it){const Jt=Ne[it];f.listenProvider_.stopListening(mn(Jt),B(f,Jt))}}return W}(f,c,ln))}return tn}function Sn(f,c,d){const A=f.pendingWriteTree_,L=f.syncPointTree_.findOnPath(c,(W,ae)=>{const it=Pi(ae,hi(W,c));if(it)return it});return Pa(A,c,L,d,!0)}function Bn(f,c){return ti(c,f.syncPointTree_,null,Dn(f.pendingWriteTree_,Xt()))}function ti(f,c,d,_){if(Tr(f.path))return Vr(f,c,d,_);{const A=c.get(Xt());null==d&&null!=A&&(d=Pi(A,Xt()));let L=[];const W=gn(f.path),ae=f.operationForChild(W),Ne=c.children.get(W);if(Ne&&ae){const it=d?d.getImmediateChild(W):null,Jt=ar(_,W);L=L.concat(ti(ae,Ne,it,Jt))}return A&&(L=L.concat(No(A,f,_,d))),L}}function Vr(f,c,d,_){const A=c.get(Xt());null==d&&null!=A&&(d=Pi(A,Xt()));let L=[];return c.children.inorderTraversal((W,ae)=>{const Ne=d?d.getImmediateChild(W):null,it=ar(_,W),Jt=f.operationForChild(W);Jt&&(L=L.concat(Vr(Jt,ae,Ne,it)))}),A&&(L=L.concat(No(A,f,_,d))),L}function Is(f,c){const d=c.query,_=B(f,d);return{hashFn:()=>(function jt(f){return f.viewCache_.serverCache.getNode()}(c)||fr.EMPTY_NODE).hash(),onComplete:A=>{if("ok"===A)return _?function j(f,c,d){const _=te(f,d);if(_){const A=Ve(_),L=A.path,W=A.queryId,ae=hi(L,c);return vt(f,L,new da(Ra(W),ae))}return[]}(f,d._path,_):function R(f,c){return Bn(f,new da({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c))}(f,d._path);{const L=function Cn(f,c){let d="Unknown Error";"too_big"===f?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?d="Client doesn't have permission to access the desired data.":"unavailable"===f&&(d="The service is unavailable");const _=new Error(f+" at "+c._path.toString()+": "+d);return _.code=f.toUpperCase(),_}(A,d);return ne(f,d,null,L)}}}}function B(f,c){const d=H(c);return f.queryToTagMap.get(d)}function H(f){return f._path.toString()+"$"+f._queryIdentifier}function te(f,c){return f.tagToQueryMap.get(c)}function Ve(f){const c=f.indexOf("$");return(0,N.hu)(-1!==c&&c<f.length-1,"Bad queryKey."),{queryId:f.substr(c+1),path:new Lt(f.substr(0,c))}}function vt(f,c,d){const _=f.syncPointTree_.get(c);return(0,N.hu)(_,"Missing sync point for query tag that we're tracking"),No(_,d,Dn(f.pendingWriteTree_,c),null)}function mn(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function Nl(){return(0,N.hu)(sa,"Reference.ts has not been loaded"),sa}())(f._repo,f._path):f}class Kr{constructor(c){this.node_=c}getImmediateChild(c){const d=this.node_.getImmediateChild(c);return new Kr(d)}node(){return this.node_}}class tr{constructor(c,d){this.syncTree_=c,this.path_=d}getImmediateChild(c){const d=zr(this.path_,c);return new tr(this.syncTree_,d)}node(){return Sn(this.syncTree_,this.path_)}}const Io=function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f},zi=function(f,c,d){return f&&"object"==typeof f?((0,N.hu)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?Gi(f[".sv"],c,d):"object"==typeof f[".sv"]?Va(f[".sv"],c):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},Gi=function(f,c,d){if("timestamp"===f)return d.timestamp;(0,N.hu)(!1,"Unexpected server value: "+f)},Va=function(f,c,d){f.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));const _=f.increment;"number"!=typeof _&&(0,N.hu)(!1,"Unexpected increment value: "+_);const A=c.node();if((0,N.hu)(null!==A&&typeof A<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!A.isLeafNode())return _;const W=A.getValue();return"number"!=typeof W?_:W+_},Ua=function(f,c,d,_){return Ws(c,new tr(d,f),_)},wo=function(f,c,d){return Ws(f,new Kr(c),d)};function Ws(f,c,d){const _=f.getPriority().val(),A=zi(_,c.getImmediateChild(".priority"),d);let L;if(f.isLeafNode()){const W=f,ae=zi(W.getValue(),c,d);return ae!==W.getValue()||A!==W.getPriority().val()?new Nr(ae,li(A)):f}{const W=f;return L=W,A!==W.getPriority().val()&&(L=L.updatePriority(new Nr(A))),W.forEachChild(Dr,(ae,Ne)=>{const it=Ws(Ne,c.getImmediateChild(ae),d);it!==Ne&&(L=L.updateImmediateChild(ae,it))}),L}}class ru{constructor(c="",d=null,_={children:{},childCount:0}){this.name=c,this.parent=d,this.node=_}}function _a(f,c){let d=c instanceof Lt?c:new Lt(c),_=f,A=gn(d);for(;null!==A;){const L=(0,N.DV)(_.node.children,A)||{children:{},childCount:0};_=new ru(A,_,L),d=or(d),A=gn(d)}return _}function bo(f){return f.node.value}function ju(f,c){f.node.value=c,Sc(f)}function _l(f){return f.node.childCount>0}function il(f,c){In(f.node.children,(d,_)=>{c(new ru(d,f,_))})}function Il(f,c,d,_){d&&!_&&c(f),il(f,A=>{Il(A,c,!0,_)}),d&&_&&c(f)}function sl(f){return new Lt(null===f.parent?f.name:sl(f.parent)+"/"+f.name)}function Sc(f){null!==f.parent&&function Ea(f,c,d){const _=function El(f){return void 0===bo(f)&&!_l(f)}(d),A=(0,N.r3)(f.node.children,c);_&&A?(delete f.node.children[c],f.node.childCount--,Sc(f)):!_&&!A&&(f.node.children[c]=d.node,f.node.childCount++,Sc(f))}(f.parent,f.name,f)}const Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Tc=/[\[\].#$\u0000-\u001F\u007F]/,pd=10485760,Ac=function(f){return"string"==typeof f&&0!==f.length&&!Kd.test(f)},xc=function(f){return"string"==typeof f&&0!==f.length&&!Tc.test(f)},iu=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!yn(f)||f&&"object"==typeof f&&(0,N.r3)(f,".sv")},Ia=function(f,c,d,_){_&&void 0===c||kl((0,N.gK)(f,"value"),c,d)},kl=function(f,c,d){const _=d instanceof Lt?new ps(d,f):d;if(void 0===c)throw new Error(f+"contains undefined "+gs(_));if("function"==typeof c)throw new Error(f+"contains a function "+gs(_)+" with contents = "+c.toString());if(yn(c))throw new Error(f+"contains "+c.toString()+" "+gs(_));if("string"==typeof c&&c.length>pd/3&&(0,N.ug)(c)>pd)throw new Error(f+"contains a string greater than "+pd+" utf8 bytes "+gs(_)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){let A=!1,L=!1;if(In(c,(W,ae)=>{if(".value"===W)A=!0;else if(".priority"!==W&&".sv"!==W&&(L=!0,!Ac(W)))throw new Error(f+" contains an invalid key ("+W+") "+gs(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Yi(f,c){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(c),f.byteLength_+=(0,N.ug)(c),so(f)})(_,W),kl(f,ae,_),function ts(f){const c=f.parts_.pop();f.byteLength_-=(0,N.ug)(c),f.parts_.length>0&&(f.byteLength_-=1)}(_)}),A&&L)throw new Error(f+' contains ".value" child '+gs(_)+" in addition to actual children.")}},Mc=function(f,c,d,_){if(_&&void 0===c)return;const A=(0,N.gK)(f,"values");if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(A+" must be an object containing the children to replace.");const L=[];In(c,(W,ae)=>{const Ne=new Lt(W);if(kl(A,ae,zr(d,Ne)),".priority"===hr(Ne)&&!iu(ae))throw new Error(A+"contains an invalid value for '"+Ne.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");L.push(Ne)}),function(f,c){let d,_;for(d=0;d<c.length;d++){_=c[d];const L=si(_);for(let W=0;W<L.length;W++)if((".priority"!==L[W]||W!==L.length-1)&&!Ac(L[W]))throw new Error(f+"contains an invalid key ("+L[W]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}c.sort(Hi);let A=null;for(d=0;d<c.length;d++){if(_=c[d],null!==A&&Ki(A,_))throw new Error(f+"contains a path "+A.toString()+" that is ancestor of another path "+_.toString());A=_}}(A,L)},$i=function(f,c,d){if(!d||void 0!==c){if(yn(c))throw new Error((0,N.gK)(f,"priority")+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!iu(c))throw new Error((0,N.gK)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Eu=function(f,c,d,_){if(!(_&&void 0===d||Ac(d)))throw new Error((0,N.gK)(f,c)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vi=function(f,c,d,_){if(!(_&&void 0===d||xc(d)))throw new Error((0,N.gK)(f,c)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},wl=function(f,c,d,_){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Vi(f,c,d,_)},qo=function(f,c){if(".info"===gn(c))throw new Error(f+" failed = Can't modify data under /.info/")},zu=function(f,c){const d=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!Ac(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==d.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),xc(f)}(d))throw new Error((0,N.gK)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Iu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rc(f,c){let d=null;for(let _=0;_<c.length;_++){const A=c[_],L=A.getPath();null!==d&&!po(L,d.path)&&(f.eventLists_.push(d),d=null),null===d&&(d={events:[],path:L}),d.events.push(A)}d&&f.eventLists_.push(d)}function Gu(f,c,d){Rc(f,d),Di(f,_=>po(_,c))}function Br(f,c,d){Rc(f,d),Di(f,_=>Ki(_,c)||Ki(c,_))}function Di(f,c){f.recursionDepth_++;let d=!0;for(let _=0;_<f.eventLists_.length;_++){const A=f.eventLists_[_];A&&(c(A.path)?(wu(f.eventLists_[_]),f.eventLists_[_]=null):d=!1)}d&&(f.eventLists_=[]),f.recursionDepth_--}function wu(f){for(let c=0;c<f.events.length;c++){const d=f.events[c];if(null!==d){f.events[c]=null;const _=d.getEventRunner();ot&&Pt("event: "+d.toString()),yr(_)}}}const uo="repo_interrupt",Wu=25;class Ku{constructor(c,d,_,A){this.repoInfo_=c,this.forceRestClient_=d,this.authTokenProvider_=_,this.appCheckProvider_=A,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Iu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=as(),this.transactionQueueTree_=new ru,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Co(f){const d=f.infoData_.getNode(new Lt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function wa(f){return Io({timestamp:Co(f)})}function qu(f,c,d,_,A){f.dataUpdateCount++;const L=new Lt(c);d=f.interceptServerDataCallback_?f.interceptServerDataCallback_(c,d):d;let W=[];if(A)if(_){const Ne=(0,N.UI)(d,it=>li(it));W=function pt(f,c,d,_){const A=te(f,_);if(A){const L=Ve(A),W=L.path,ae=L.queryId,Ne=hi(W,c),it=K.fromObject(d);return vt(f,W,new Eo(Ra(ae),Ne,it))}return[]}(f.serverSyncTree_,L,Ne,A)}else{const Ne=li(d);W=ue(f.serverSyncTree_,L,Ne,A)}else if(_){const Ne=(0,N.UI)(d,it=>li(it));W=function w(f,c,d){const _=K.fromObject(d);return Bn(f,new Eo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,_))}(f.serverSyncTree_,L,Ne)}else{const Ne=li(d);W=M(f.serverSyncTree_,L,Ne)}let ae=L;W.length>0&&(ae=ba(f,L)),Br(f.eventQueue_,ae,W)}function bu(f,c){Zu(f,"connected",c),!1===c&&function $h(f){co(f,"onDisconnectEvents");const c=wa(f),d=as();Ma(f.onDisconnect_,Xt(),(A,L)=>{const W=Ua(A,L,f.serverSyncTree_,c);Ro(d,A,W)});let _=[];Ma(d,Xt(),(A,L)=>{_=_.concat(M(f.serverSyncTree_,A,L));const W=ec(f,A);ba(f,W)}),f.onDisconnect_=as(),Br(f.eventQueue_,Xt(),_)}(f)}function Zu(f,c,d){const _=new Lt("/.info/"+c),A=li(d);f.infoData_.updateSnapshot(_,A);const L=M(f.infoSyncTree_,_,A);Br(f.eventQueue_,_,L)}function Xu(f){return f.nextWriteId_++}function Oc(f,c,d,_,A){co(f,"set",{path:c.toString(),value:d,priority:_});const L=wa(f),W=li(d,_),ae=Sn(f.serverSyncTree_,c),Ne=wo(W,ae,L),it=Xu(f),Jt=nu(f.serverSyncTree_,c,Ne,it,!0);Rc(f.eventQueue_,Jt),f.server_.put(c.toString(),W.val(!0),(ln,Jn)=>{const mr="ok"===ln;mr||Mn("set at "+c+" failed: "+ln);const ui=T(f.serverSyncTree_,it,!mr);Br(f.eventQueue_,c,ui),ol(0,A,ln,Jn)});const tn=ec(f,c);ba(f,tn),Br(f.eventQueue_,tn,[])}function Xd(f,c,d){f.server_.onDisconnectCancel(c.toString(),(_,A)=>{"ok"===_&&ea(f.onDisconnect_,c),ol(0,d,_,A)})}function Cu(f,c,d,_){const A=li(d);f.server_.onDisconnectPut(c.toString(),A.val(!0),(L,W)=>{"ok"===L&&Ro(f.onDisconnect_,c,A),ol(0,_,L,W)})}function Du(f,c,d){let _;_=".info"===gn(c._path)?ne(f.infoSyncTree_,c,d):ne(f.serverSyncTree_,c,d),Gu(f.eventQueue_,c._path,_)}function Qu(f){f.persistentConnection_&&f.persistentConnection_.interrupt(uo)}function co(f,...c){let d="";f.persistentConnection_&&(d=f.persistentConnection_.id+":"),Pt(d,...c)}function ol(f,c,d,_){c&&yr(()=>{if("ok"===d)c(null);else{const A=(d||"error").toUpperCase();let L=A;_&&(L+=": "+_);const W=new Error(L);W.code=A,c(W)}})}function Bl(f,c,d){return Sn(f.serverSyncTree_,c,d)||fr.EMPTY_NODE}function su(f,c=f.transactionQueueTree_){if(c||$l(f,c),bo(c)){const d=kc(f,c);(0,N.hu)(d.length>0,"Sending zero length transaction queue"),d.every(A=>0===A.status)&&function Nc(f,c,d){const _=d.map(it=>it.currentWriteId),A=Bl(f,c,_);let L=A;const W=A.hash();for(let it=0;it<d.length;it++){const Jt=d[it];(0,N.hu)(0===Jt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Jt.status=1,Jt.retryCount++;const tn=hi(c,Jt.path);L=L.updateChild(tn,Jt.currentOutputSnapshotRaw)}const ae=L.val(!0),Ne=c;f.server_.put(Ne.toString(),ae,it=>{co(f,"transaction put response",{path:Ne.toString(),status:it});let Jt=[];if("ok"===it){const tn=[];for(let ln=0;ln<d.length;ln++)d[ln].status=2,Jt=Jt.concat(T(f.serverSyncTree_,d[ln].currentWriteId)),d[ln].onComplete&&tn.push(()=>d[ln].onComplete(null,!0,d[ln].currentOutputSnapshotResolved)),d[ln].unwatcher();$l(f,_a(f.transactionQueueTree_,c)),su(f,f.transactionQueueTree_),Br(f.eventQueue_,c,Jt);for(let ln=0;ln<tn.length;ln++)yr(tn[ln])}else{if("datastale"===it)for(let tn=0;tn<d.length;tn++)d[tn].status=3===d[tn].status?4:0;else{Mn("transaction at "+Ne.toString()+" failed: "+it);for(let tn=0;tn<d.length;tn++)d[tn].status=4,d[tn].abortReason=it}ba(f,c)}},W)}(f,sl(c),d)}else _l(c)&&il(c,d=>{su(f,d)})}function ba(f,c){const d=ko(f,c),_=sl(d);return function ou(f,c,d){if(0===c.length)return;const _=[];let A=[];const W=c.filter(ae=>0===ae.status).map(ae=>ae.currentWriteId);for(let ae=0;ae<c.length;ae++){const Ne=c[ae],it=hi(d,Ne.path);let tn,Jt=!1;if((0,N.hu)(null!==it,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ne.status)Jt=!0,tn=Ne.abortReason,A=A.concat(T(f.serverSyncTree_,Ne.currentWriteId,!0));else if(0===Ne.status)if(Ne.retryCount>=Wu)Jt=!0,tn="maxretry",A=A.concat(T(f.serverSyncTree_,Ne.currentWriteId,!0));else{const ln=Bl(f,Ne.path,W);Ne.currentInputSnapshot=ln;const Jn=c[ae].update(ln.val());if(void 0!==Jn){kl("transaction failed: Data returned ",Jn,Ne.path);let mr=li(Jn);"object"==typeof Jn&&null!=Jn&&(0,N.r3)(Jn,".priority")||(mr=mr.updatePriority(ln.getPriority()));const Do=Ne.currentWriteId,Ta=wa(f),fu=wo(mr,ln,Ta);Ne.currentOutputSnapshotRaw=mr,Ne.currentOutputSnapshotResolved=fu,Ne.currentWriteId=Xu(f),W.splice(W.indexOf(Do),1),A=A.concat(nu(f.serverSyncTree_,Ne.path,fu,Ne.currentWriteId,Ne.applyLocally)),A=A.concat(T(f.serverSyncTree_,Do,!0))}else Jt=!0,tn="nodata",A=A.concat(T(f.serverSyncTree_,Ne.currentWriteId,!0))}Br(f.eventQueue_,d,A),A=[],Jt&&(c[ae].status=2,setTimeout(c[ae].unwatcher,Math.floor(0)),c[ae].onComplete&&_.push("nodata"===tn?()=>c[ae].onComplete(null,!1,c[ae].currentInputSnapshot):()=>c[ae].onComplete(new Error(tn),!1,null)))}$l(f,f.transactionQueueTree_);for(let ae=0;ae<_.length;ae++)yr(_[ae]);su(f,f.transactionQueueTree_)}(f,kc(f,d),_),_}function ko(f,c){let d,_=f.transactionQueueTree_;for(d=gn(c);null!==d&&void 0===bo(_);)_=_a(_,d),d=gn(c=or(c));return _}function kc(f,c){const d=[];return Ju(f,c,d),d.sort((_,A)=>_.order-A.order),d}function Ju(f,c,d){const _=bo(c);if(_)for(let A=0;A<_.length;A++)d.push(_[A]);il(c,A=>{Ju(f,A,d)})}function $l(f,c){const d=bo(c);if(d){let _=0;for(let A=0;A<d.length;A++)2!==d[A].status&&(d[_]=d[A],_++);d.length=_,ju(c,d.length>0?d:void 0)}il(c,_=>{$l(f,_)})}function ec(f,c){const d=sl(ko(f,c)),_=_a(f.transactionQueueTree_,c);return function Dc(f,c,d){let _=d?f:f.parent;for(;null!==_;){if(c(_))return!0;_=_.parent}}(_,A=>{Vl(f,A)}),Vl(f,_),Il(_,A=>{Vl(f,A)}),d}function Vl(f,c){const d=bo(c);if(d){const _=[];let A=[],L=-1;for(let W=0;W<d.length;W++)3===d[W].status||(1===d[W].status?((0,N.hu)(L===W-1,"All SENT items should be at beginning of queue."),L=W,d[W].status=3,d[W].abortReason="set"):((0,N.hu)(0===d[W].status,"Unexpected transaction status in abort"),d[W].unwatcher(),A=A.concat(T(f.serverSyncTree_,d[W].currentWriteId,!0)),d[W].onComplete&&_.push(d[W].onComplete.bind(null,new Error("set"),!1,null))));-1===L?ju(c,void 0):d.length=L+1,Br(f.eventQueue_,sl(c),A);for(let W=0;W<_.length;W++)yr(_[W])}}const Ul=function(f,c){const d=yd(f),_=d.namespace;return"firebase.com"===d.domain&&An(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==d.domain&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ye(d.host,d.secure,_,"ws"===d.scheme||"wss"===d.scheme,c,"",_!==d.subdomain),path:new Lt(d.pathString)}},yd=function(f){let c="",d="",_="",A="",L="",W=!0,ae="https",Ne=443;if("string"==typeof f){let it=f.indexOf("//");it>=0&&(ae=f.substring(0,it-1),f=f.substring(it+2));let Jt=f.indexOf("/");-1===Jt&&(Jt=f.length);let tn=f.indexOf("?");-1===tn&&(tn=f.length),c=f.substring(0,Math.min(Jt,tn)),Jt<tn&&(A=function au(f){let c="";const d=f.split("/");for(let _=0;_<d.length;_++)if(d[_].length>0){let A=d[_];try{A=decodeURIComponent(A.replace(/\+/g," "))}catch(L){}c+="/"+A}return c}(f.substring(Jt,tn)));const ln=function md(f){const c={};"?"===f.charAt(0)&&(f=f.substring(1));for(const d of f.split("&")){if(0===d.length)continue;const _=d.split("=");2===_.length?c[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Mn(`Invalid query segment '${d}' in query '${f}'`)}return c}(f.substring(Math.min(f.length,tn)));it=c.indexOf(":"),it>=0?(W="https"===ae||"wss"===ae,Ne=parseInt(c.substring(it+1),10)):it=c.length;const Jn=c.slice(0,it);if("localhost"===Jn.toLowerCase())d="localhost";else if(Jn.split(".").length<=2)d=Jn;else{const mr=c.indexOf(".");_=c.substring(0,mr).toLowerCase(),d=c.substring(mr+1),L=_}"ns"in ln&&(L=ln.ns)}return{host:c,port:Ne,domain:d,subdomain:_,secure:W,scheme:ae,pathString:A,namespace:L}},bl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qd=function(){let f=0;const c=[];return function(d){const _=d===f;let A;f=d;const L=new Array(8);for(A=7;A>=0;A--)L[A]=bl.charAt(d%64),d=Math.floor(d/64);(0,N.hu)(0===d,"Cannot push at time == 0");let W=L.join("");if(_){for(A=11;A>=0&&63===c[A];A--)c[A]=0;c[A]++}else for(A=0;A<12;A++)c[A]=Math.floor(64*Math.random());for(A=0;A<12;A++)W+=bl.charAt(c[A]);return(0,N.hu)(20===W.length,"nextPushId: Length should be 20."),W}}();class ro{constructor(c,d,_,A){this.eventType=c,this.eventRegistration=d,this.snapshot=_,this.prevName=A}getPath(){const c=this.snapshot.ref;return"value"===this.eventType?c._path:c.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class Cl{constructor(c,d,_){this.eventRegistration=c,this.error=d,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class jl{constructor(c,d){this.snapshotCallback=c,this.cancelCallback=d}onValue(c,d){this.snapshotCallback.call(null,c,d)}onCancel(c){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,c)}get hasCancelCallback(){return!!this.cancelCallback}matches(c){return this.snapshotCallback===c.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===c.snapshotCallback.userCallback&&this.snapshotCallback.context===c.snapshotCallback.context}}class Fc{constructor(c,d){this._repo=c,this._path=d}cancel(){const c=new N.BH;return Xd(this._repo,this._path,c.wrapCallback(()=>{})),c.promise}remove(){qo("OnDisconnect.remove",this._path);const c=new N.BH;return Cu(this._repo,this._path,null,c.wrapCallback(()=>{})),c.promise}set(c){qo("OnDisconnect.set",this._path),Ia("OnDisconnect.set",c,this._path,!1);const d=new N.BH;return Cu(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}setWithPriority(c,d){qo("OnDisconnect.setWithPriority",this._path),Ia("OnDisconnect.setWithPriority",c,this._path,!1),$i("OnDisconnect.setWithPriority",d,!1);const _=new N.BH;return function Fl(f,c,d,_,A){const L=li(d,_);f.server_.onDisconnectPut(c.toString(),L.val(!0),(W,ae)=>{"ok"===W&&Ro(f.onDisconnect_,c,L),ol(0,A,W,ae)})}(this._repo,this._path,c,d,_.wrapCallback(()=>{})),_.promise}update(c){qo("OnDisconnect.update",this._path),Mc("OnDisconnect.update",c,this._path,!1);const d=new N.BH;return function ja(f,c,d,_){if((0,N.xb)(d))return Pt("onDisconnect().update() called with empty data.  Don't do anything."),void ol(0,_,"ok",void 0);f.server_.onDisconnectMerge(c.toString(),d,(A,L)=>{"ok"===A&&In(d,(W,ae)=>{const Ne=li(ae);Ro(f.onDisconnect_,zr(c,W),Ne)}),ol(0,_,A,L)})}(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}}class ds{constructor(c,d,_,A){this._repo=c,this._path=d,this._queryParams=_,this._orderByCalled=A}get key(){return Tr(this._path)?null:hr(this._path)}get ref(){return new aa(this._repo,this._path)}get _queryIdentifier(){const c=Fi(this._queryParams),d=bn(c);return"{}"===d?"default":d}get _queryObject(){return Fi(this._queryParams)}isEqual(c){if(!((c=(0,N.m9)(c))instanceof ds))return!1;const d=this._repo===c._repo,_=po(this._path,c._path);return d&&_&&this._queryIdentifier===c._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ws(f){let c="";for(let d=f.pieceNum_;d<f.pieces_.length;d++)""!==f.pieces_[d]&&(c+="/"+encodeURIComponent(String(f.pieces_[d])));return c||"/"}(this._path)}}function Lc(f,c){if(!0===f._orderByCalled)throw new Error(c+": You can't combine multiple orderBy calls.")}function Ho(f){let c=null,d=null;if(f.hasStart()&&(c=f.getIndexStartValue()),f.hasEnd()&&(d=f.getIndexEndValue()),f.getIndex()===jr){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",A="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==cr)throw new Error(_);if("string"!=typeof c)throw new Error(A)}if(f.hasEnd()){if(f.getIndexEndName()!==At)throw new Error(_);if("string"!=typeof d)throw new Error(A)}}else if(f.getIndex()===Dr){if(null!=c&&!iu(c)||null!=d&&!iu(d))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(f.getIndex()instanceof Xs||f.getIndex()===Ds,"unknown index type."),null!=c&&"object"==typeof c||null!=d&&"object"==typeof d)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bc(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class aa extends ds{constructor(c,d){super(c,d,new et,!1)}get parent(){const c=di(this._path);return null===c?null:new aa(this._repo,c)}get root(){let c=this;for(;null!==c.parent;)c=c.parent;return c}}class Rr{constructor(c,d,_){this._node=c,this.ref=d,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(c){const d=new Lt(c),_=Dl(this.ref,c);return new Rr(this._node.getChild(d),_,Dr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(c){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,A)=>c(new Rr(A,Dl(this.ref,_),Dr)))}hasChild(c){const d=new Lt(c);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vd(f,c){return(f=(0,N.m9)(f))._checkNotDeleted("ref"),void 0!==c?Dl(f._root,c):f._root}function Hl(f,c){(f=(0,N.m9)(f))._checkNotDeleted("refFromURL");const d=Ul(c,f._repo.repoInfo_.nodeAdmin);zu("refFromURL",d);const _=d.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&_.host!==f._repo.repoInfo_.host&&An("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+f._repo.repoInfo_.host+")"),vd(f,d.path.toString())}function Dl(f,c){return null===gn((f=(0,N.m9)(f))._path)?wl("child","path",c,!1):Vi("child","path",c,!1),new aa(f._repo,zr(f._path,c))}function Su(f,c){f=(0,N.m9)(f),qo("set",f._path),Ia("set",c,f._path,!1);const d=new N.BH;return Oc(f._repo,f._path,c,null,d.wrapCallback(()=>{})),d.promise}function za(f,c){Mc("update",c,f._path,!1);const d=new N.BH;return function Zd(f,c,d,_){co(f,"update",{path:c.toString(),value:d});let A=!0;const L=wa(f),W={};if(In(d,(ae,Ne)=>{A=!1,W[ae]=Ua(zr(c,ae),li(Ne),f.serverSyncTree_,L)}),A)Pt("update() called with empty data.  Don't do anything."),ol(0,_,"ok",void 0);else{const ae=Xu(f),Ne=function jo(f,c,d,_){!function Yo(f,c,d,_){(0,N.hu)(_>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:c,children:d,writeId:_,visible:!0}),f.visibleWrites=we(f.visibleWrites,c,d),f.lastWriteId=_}(f.pendingWriteTree_,c,d,_);const A=K.fromObject(d);return Bn(f,new Eo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,A))}(f.serverSyncTree_,c,W,ae);Rc(f.eventQueue_,Ne),f.server_.merge(c.toString(),d,(it,Jt)=>{const tn="ok"===it;tn||Mn("update at "+c+" failed: "+it);const ln=T(f.serverSyncTree_,ae,!tn),Jn=ln.length>0?ba(f,c):c;Br(f.eventQueue_,Jn,ln),ol(0,_,it,Jt)}),In(d,it=>{const Jt=ec(f,zr(c,it));ba(f,Jt)}),Br(f.eventQueue_,c,[])}}(f._repo,f._path,c,d.wrapCallback(()=>{})),d.promise}function lu(f){f=(0,N.m9)(f);const c=new jl(()=>{}),d=new Sl(c);return function qd(f,c,d){const _=function zn(f,c){const d=c._path;let _=null;f.syncPointTree_.foreachOnPath(d,(it,Jt)=>{const tn=hi(it,d);_=_||Pi(Jt,tn)});let A=f.syncPointTree_.get(d);A?_=_||Pi(A,Xt()):(A=new eu,f.syncPointTree_=f.syncPointTree_.set(d,A));const L=null!=_,W=L?new Bo(_,!0,!1):null;return function Uo(f){return gl(f.viewCache_)}(tu(A,c,Dn(f.pendingWriteTree_,c._path),L?W.getNode():fr.EMPTY_NODE,L))}(f.serverSyncTree_,c);return null!=_?Promise.resolve(_):f.server_.get(c).then(A=>{const L=li(A).withIndex(c._queryParams.getIndex());let W;if(Ut(f.serverSyncTree_,c,d,!0),c._queryParams.loadsAllData())W=M(f.serverSyncTree_,c._path,L);else{const ae=B(f.serverSyncTree_,c);W=ue(f.serverSyncTree_,c._path,L,ae)}return Br(f.eventQueue_,c._path,W),ne(f.serverSyncTree_,c,d,null,!0),L},A=>(co(f,"get for query "+(0,N.Wl)(c)+" failed: "+A),Promise.reject(new Error(A))))}(f._repo,f,d).then(_=>new Rr(_,new aa(f._repo,f._path),f._queryParams.getIndex()))}class Sl{constructor(c){this.callbackContext=c}respondsTo(c){return"value"===c}createEvent(c,d){const _=d._queryParams.getIndex();return new ro("value",this,new Rr(c.snapshotNode,new aa(d._repo,d._path),_))}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,null)}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new Cl(this,c,d):null}matches(c){return c instanceof Sl&&(!c.callbackContext||!this.callbackContext||c.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class al{constructor(c,d){this.eventType=c,this.callbackContext=d}respondsTo(c){let d="children_added"===c?"child_added":c;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new Cl(this,c,d):null}createEvent(c,d){(0,N.hu)(null!=c.childName,"Child events should have a childName.");const _=Dl(new aa(d._repo,d._path),c.childName),A=d._queryParams.getIndex();return new ro(c.type,this,new Rr(c.snapshotNode,_,A),c.prevName)}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,c.prevName)}matches(c){return c instanceof al&&this.eventType===c.eventType&&(!this.callbackContext||!c.callbackContext||this.callbackContext.matches(c.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ho(f,c,d,_,A){let L;if("object"==typeof _&&(L=void 0,A=_),"function"==typeof _&&(L=_),A&&A.onlyOnce){const Ne=d,it=(Jt,tn)=>{Du(f._repo,f,ae),Ne(Jt,tn)};it.userCallback=d.userCallback,it.context=d.context,d=it}const W=new jl(d,L||void 0),ae="value"===c?new Sl(W):new al(c,W);return function Ll(f,c,d){let _;_=".info"===gn(c._path)?Ut(f.infoSyncTree_,c,d):Ut(f.serverSyncTree_,c,d),Gu(f.eventQueue_,c._path,_)}(f._repo,f,ae),()=>Du(f._repo,f,ae)}function Ca(f,c,d,_){return ho(f,"value",c,d,_)}function ic(f,c,d,_){return ho(f,"child_added",c,d,_)}function Vc(f,c,d,_){return ho(f,"child_changed",c,d,_)}function Ga(f,c,d,_){return ho(f,"child_moved",c,d,_)}function Au(f,c,d,_){return ho(f,"child_removed",c,d,_)}function uu(f,c,d){let _=null;const A=d?new jl(d):null;"value"===c?_=new Sl(A):c&&(_=new al(c,A)),Du(f._repo,f,_)}class mi{}class sc extends mi{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ia("endAt",this._value,c._path,!0);const d=Pr(c._queryParams,this._value,this._key);if(Bc(d),Ho(d),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ds(c._repo,c._path,d,c._orderByCalled)}}class _d extends mi{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ia("endBefore",this._value,c._path,!1);const d=function qi(f,c,d){let _;return _=Pr(f,c,f.index_===jr||d?d:cr),_.endBeforeSet_=!0,_}(c._queryParams,this._value,this._key);if(Bc(d),Ho(d),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ds(c._repo,c._path,d,c._orderByCalled)}}class xu extends mi{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ia("startAt",this._value,c._path,!0);const d=Or(c._queryParams,this._value,this._key);if(Bc(d),Ho(d),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ds(c._repo,c._path,d,c._orderByCalled)}}class Mu extends mi{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ia("startAfter",this._value,c._path,!1);const d=function Gr(f,c,d){let _;return _=Or(f,c,f.index_===jr||d?d:At),_.startAfterSet_=!0,_}(c._queryParams,this._value,this._key);if(Bc(d),Ho(d),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ds(c._repo,c._path,d,c._orderByCalled)}}class Da extends mi{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ds(c._repo,c._path,function xn(f,c){const d=f.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="l",d}(c._queryParams,this._limit),c._orderByCalled)}}class Id extends mi{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ds(c._repo,c._path,function Gn(f,c){const d=f.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="r",d}(c._queryParams,this._limit),c._orderByCalled)}}class ul extends mi{constructor(c){super(),this._path=c}_apply(c){Lc(c,"orderByChild");const d=new Lt(this._path);if(Tr(d))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new Xs(d),A=os(c._queryParams,_);return Ho(A),new ds(c._repo,c._path,A,!0)}}class jc extends mi{_apply(c){Lc(c,"orderByKey");const d=os(c._queryParams,jr);return Ho(d),new ds(c._repo,c._path,d,!0)}}class ac extends mi{_apply(c){Lc(c,"orderByPriority");const d=os(c._queryParams,Dr);return Ho(d),new ds(c._repo,c._path,d,!0)}}class cu extends mi{_apply(c){Lc(c,"orderByValue");const d=os(c._queryParams,Ds);return Ho(d),new ds(c._repo,c._path,d,!0)}}class Ff extends mi{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){if(Ia("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sc(this._value,this._key)._apply(new xu(this._value,this._key)._apply(c))}}function m(f,...c){let d=(0,N.m9)(f);for(const _ of c)d=_._apply(d);return d}(function Cc(f){(0,N.hu)(!vl,"__referenceConstructor has already been defined"),vl=f})(aa),function oa(f){(0,N.hu)(!sa,"__referenceConstructor has already been defined"),sa=f}(aa);const v="FIREBASE_DATABASE_EMULATOR_HOST",x={};let Z=!1;function wt(f,c,d,_,A){let L=_||f.options.databaseURL;void 0===L&&(f.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pt("Using default host for project ",f.options.projectId),L=`${f.options.projectId}-default-rtdb.firebaseio.com`);let Ne,it,W=Ul(L,A),ae=W.repoInfo;typeof process<"u"&&process.env&&(it=process.env[v]),it?(Ne=!0,L=`http://${it}?ns=${ae.namespace}`,W=Ul(L,A),ae=W.repoInfo):Ne=!W.repoInfo.secure;const Jt=A&&Ne?new rr(rr.OWNER):new ii(f.name,f.options,c);zu("Invalid Firebase Database URL",W),Tr(W.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");const tn=function kn(f,c,d,_){let A=x[c.name];A||(A={},x[c.name]=A);let L=A[f.toURLString()];return L&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),L=new Ku(f,Z,d,_),A[f.toURLString()]=L,L}(ae,f,Jt,new xr(f.name,d));return new Er(tn,f)}class Er{constructor(c,d){this._repoInternal=c,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Yu(f,c,d){if(f.stats_=me(f.repoInfo_),f.forceRestClient_||ni())f.server_=new As(f.repoInfo_,(_,A,L,W)=>{qu(f,_,A,L,W)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(()=>bu(f,!0),0);else{if(typeof d<"u"&&null!==d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(d)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}f.persistentConnection_=new ai(f.repoInfo_,c,(_,A,L,W)=>{qu(f,_,A,L,W)},_=>{bu(f,_)},_=>{!function Yd(f,c){In(c,(d,_)=>{Zu(f,d,_)})}(f,_)},f.authTokenProvider_,f.appCheckProvider_,d),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(_=>{f.server_.refreshAuthToken(_)}),f.appCheckProvider_.addTokenChangeListener(_=>{f.server_.refreshAppCheckToken(_.token)}),f.statsReporter_=function _t(f,c){const d=f.toString();return qe[d]||(qe[d]=c()),qe[d]}(f.repoInfo_,()=>new Ml(f.stats_,f.server_)),f.infoData_=new Jo,f.infoSyncTree_=new _u({startListening:(_,A,L,W)=>{let ae=[];const Ne=f.infoData_.getNode(_._path);return Ne.isEmpty()||(ae=M(f.infoSyncTree_,_._path,Ne),setTimeout(()=>{W("ok")},0)),ae},stopListening:()=>{}}),Zu(f,"connected",!1),f.serverSyncTree_=new _u({startListening:(_,A,L,W)=>(f.server_.listen(_,L,A,(ae,Ne)=>{const it=W(ae,Ne);Br(f.eventQueue_,_._path,it)}),[]),stopListening:(_,A)=>{f.server_.unlisten(_,A)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new aa(this._repo,Xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zt(f,c){const d=x[c];(!d||d[f.key]!==f)&&An(`Database ${c}(${f.repoInfo_}) has already been deleted.`),Qu(f),delete d[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(c){null===this._rootInternal&&An("Cannot call "+c+" on a deleted database.")}}function _r(){Hr.IS_TRANSPORT_INITIALIZED&&Mn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ks(){_r(),Mr.forceDisallow()}function la(){_r(),Yn.forceDisallow(),Mr.forceAllow()}function Hc(f,c){Vt(f,c)}const nh={".sv":"timestamp"};class zc{constructor(c,d){this.committed=c,this.snapshot=d}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ai.prototype.simpleListen=function(f,c){this.sendRequest("q",{p:f},c)},ai.prototype.echo=function(f,c){this.sendRequest("echo",{d:f},c)},function cl(f){ft(Fe.SDK_VERSION),(0,Fe._registerComponent)(new Ue.wA("database",(c,{instanceIdentifier:d})=>wt(c.getProvider("app").getImmediate(),c.getProvider("auth-internal"),c.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(je,"0.14.4",f),(0,Fe.registerVersion)(je,"0.14.4","esm2017")}();const Cd=new Ge.Yd("@firebase/database-compat"),Dd=function(f){Cd.warn("FIREBASE WARNING: "+f)};class Zp{constructor(c){this._delegate=c}cancel(c){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",c,!0);const d=this._delegate.cancel();return c&&d.then(()=>c(null),_=>c(_)),d}remove(c){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",c,!0);const d=this._delegate.remove();return c&&d.then(()=>c(null),_=>c(_)),d}set(c,d){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",d,!0);const _=this._delegate.set(c);return d&&_.then(()=>d(null),A=>d(A)),_}setWithPriority(c,d,_){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",_,!0);const A=this._delegate.setWithPriority(c,d);return _&&A.then(()=>_(null),L=>_(L)),A}update(c,d){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(c)){const A={};for(let L=0;L<c.length;++L)A[""+L]=c[L];c=A,Dd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",d,!0);const _=this._delegate.update(c);return d&&_.then(()=>d(null),A=>d(A)),_}}class Xp{constructor(c,d){this.committed=c,this.snapshot=d}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Sa{constructor(c,d){this._database=c,this._delegate=d}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(c){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),c=String(c),Vi("DataSnapshot.child","path",c,!1),new Sa(this._database,this._delegate.child(c))}hasChild(c){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vi("DataSnapshot.hasChild","path",c,!1),this._delegate.hasChild(c)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(c){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",c,!1),this._delegate.forEach(d=>c(new Sa(this._database,d)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ka(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fo{constructor(c,d){this.database=c,this._delegate=d}on(c,d,_,A){var L;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",d,!1);const W=fo.getCancelAndContextArgs_("Query.on",_,A),ae=(it,Jt)=>{d.call(W.context,new Sa(this.database,it),Jt)};ae.userCallback=d,ae.context=W.context;const Ne=null===(L=W.cancel)||void 0===L?void 0:L.bind(W.context);switch(c){case"value":return Ca(this._delegate,ae,Ne),d;case"child_added":return ic(this._delegate,ae,Ne),d;case"child_removed":return Au(this._delegate,ae,Ne),d;case"child_changed":return Vc(this._delegate,ae,Ne),d;case"child_moved":return Ga(this._delegate,ae,Ne),d;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(c,d,_){if((0,N.Dv)("Query.off",0,3,arguments.length),function(f,c,d){if(void 0!==c)switch(c){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,c),(0,N.Wj)("Query.off","callback",d,!0),(0,N.lb)("Query.off","context",_,!0),d){const A=()=>{};A.userCallback=d,A.context=_,uu(this._delegate,c,A)}else uu(this._delegate,c)}get(){return lu(this._delegate).then(c=>new Sa(this.database,c))}once(c,d,_,A){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",d,!0);const L=fo.getCancelAndContextArgs_("Query.once",_,A),W=new N.BH,ae=(it,Jt)=>{const tn=new Sa(this.database,it);d&&d.call(L.context,tn,Jt),W.resolve(tn)};ae.userCallback=d,ae.context=L.context;const Ne=it=>{L.cancel&&L.cancel.call(L.context,it),W.reject(it)};switch(c){case"value":Ca(this._delegate,ae,Ne,{onlyOnce:!0});break;case"child_added":ic(this._delegate,ae,Ne,{onlyOnce:!0});break;case"child_removed":Au(this._delegate,ae,Ne,{onlyOnce:!0});break;case"child_changed":Vc(this._delegate,ae,Ne,{onlyOnce:!0});break;case"child_moved":Ga(this._delegate,ae,Ne,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return W.promise}limitToFirst(c){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new fo(this.database,m(this._delegate,function oc(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Da(f)}(c)))}limitToLast(c){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new fo(this.database,m(this._delegate,function Wa(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Id(f)}(c)))}orderByChild(c){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new fo(this.database,m(this._delegate,function Uc(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vi("orderByChild","path",f,!1),new ul(f)}(c)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new fo(this.database,m(this._delegate,function wd(){return new jc}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new fo(this.database,m(this._delegate,function zl(){return new ac}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new fo(this.database,m(this._delegate,function Vh(){return new cu}()))}startAt(c=null,d){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new fo(this.database,m(this._delegate,function Jd(f=null,c){return Eu("startAt","key",c,!0),new xu(f,c)}(c,d)))}startAfter(c=null,d){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new fo(this.database,m(this._delegate,function Vs(f,c){return Eu("startAfter","key",c,!0),new Mu(f,c)}(c,d)))}endAt(c=null,d){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new fo(this.database,m(this._delegate,function ll(f,c){return Eu("endAt","key",c,!0),new sc(f,c)}(c,d)))}endBefore(c=null,d){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new fo(this.database,m(this._delegate,function Ed(f,c){return Eu("endBefore","key",c,!0),new _d(f,c)}(c,d)))}equalTo(c,d){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new fo(this.database,m(this._delegate,function C(f,c){return Eu("equalTo","key",c,!0),new Ff(f,c)}(c,d)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(c){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(c instanceof fo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(c._delegate)}static getCancelAndContextArgs_(c,d,_){const A={cancel:void 0,context:void 0};if(d&&_)A.cancel=d,(0,N.Wj)(c,"cancel",A.cancel,!0),A.context=_,(0,N.lb)(c,"context",A.context,!0);else if(d)if("object"==typeof d&&null!==d)A.context=d;else{if("function"!=typeof d)throw new Error((0,N.gK)(c,"cancelOrContext")+" must either be a cancel callback or a context object.");A.cancel=d}return A}get ref(){return new Ka(this.database,new aa(this._delegate._repo,this._delegate._path))}}class Ka extends fo{constructor(c,d){super(c,new ds(d._repo,d._path,new et,!1)),this.database=c,this._delegate=d}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(c){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new Ka(this.database,Dl(this._delegate,c))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const c=this._delegate.parent;return c?new Ka(this.database,c):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Ka(this.database,this._delegate.root)}set(c,d){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",d,!0);const _=Su(this._delegate,c);return d&&_.then(()=>d(null),A=>d(A)),_}update(c,d){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){const A={};for(let L=0;L<c.length;++L)A[""+L]=c[L];c=A,Dd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qo("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",d,!0);const _=za(this._delegate,c);return d&&_.then(()=>d(null),A=>d(A)),_}setWithPriority(c,d,_){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",_,!0);const A=function Tu(f,c,d){if(qo("setWithPriority",f._path),Ia("setWithPriority",c,f._path,!1),$i("setWithPriority",d,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";const _=new N.BH;return Oc(f._repo,f._path,c,d,_.wrapCallback(()=>{})),_.promise}(this._delegate,c,d);return _&&A.then(()=>_(null),L=>_(L)),A}remove(c){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",c,!0);const d=function nc(f){return qo("remove",f._path),Su(f,null)}(this._delegate);return c&&d.then(()=>c(null),_=>c(_)),d}transaction(c,d,_){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,N.Wj)("Reference.transaction","onComplete",d,!0),function(f,c,d,_){if(void 0!==d&&"boolean"!=typeof d)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,_);const A=function rh(f,c,d){var _;if(f=(0,N.m9)(f),qo("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";const A=null===(_=null==d?void 0:d.applyLocally)||void 0===_||_,L=new N.BH,ae=Ca(f,()=>{});return function Ha(f,c,d,_,A,L){co(f,"transaction on "+c);const W={path:c,update:d,onComplete:_,status:null,order:lt(),applyLocally:L,retryCount:0,unwatcher:A,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ae=Bl(f,c,void 0);W.currentInputSnapshot=ae;const Ne=W.update(ae.val());if(void 0===Ne)W.unwatcher(),W.currentOutputSnapshotRaw=null,W.currentOutputSnapshotResolved=null,W.onComplete&&W.onComplete(null,!1,W.currentInputSnapshot);else{kl("transaction failed: Data returned ",Ne,W.path),W.status=0;const it=_a(f.transactionQueueTree_,c),Jt=bo(it)||[];let tn;Jt.push(W),ju(it,Jt),"object"==typeof Ne&&null!==Ne&&(0,N.r3)(Ne,".priority")?(tn=(0,N.DV)(Ne,".priority"),(0,N.hu)(iu(tn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):tn=(Sn(f.serverSyncTree_,c)||fr.EMPTY_NODE).getPriority().val();const ln=wa(f),Jn=li(Ne,tn),mr=wo(Jn,ae,ln);W.currentOutputSnapshotRaw=Jn,W.currentOutputSnapshotResolved=mr,W.currentWriteId=Xu(f);const ui=nu(f.serverSyncTree_,c,mr,W.currentWriteId,W.applyLocally);Br(f.eventQueue_,c,ui),su(f,f.transactionQueueTree_)}}(f._repo,f._path,c,(Ne,it,Jt)=>{let tn=null;Ne?L.reject(Ne):(tn=new Rr(Jt,new aa(f._repo,f._path),Dr),L.resolve(new zc(it,tn)))},ae,A),L.promise}(this._delegate,c,{applyLocally:_}).then(L=>new Xp(L.committed,new Sa(this.database,L.snapshot)));return d&&A.then(L=>d(null,L.committed,L.snapshot),L=>d(L,!1,null)),A}setPriority(c,d){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",d,!0);const _=function rc(f,c){f=(0,N.m9)(f),qo("setPriority",f._path),$i("setPriority",c,!1);const d=new N.BH;return Oc(f._repo,zr(f._path,".priority"),c,null,d.wrapCallback(()=>{})),d.promise}(this._delegate,c);return d&&_.then(()=>d(null),A=>d(A)),_}push(c,d){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",d,!0);const _=function tc(f,c){f=(0,N.m9)(f),qo("push",f._path),Ia("push",c,f._path,!0);const d=Co(f._repo),_=Qd(d),A=Dl(f,_),L=Dl(f,_);let W;return W=null!=c?Su(L,c).then(()=>L):Promise.resolve(L),A.then=W.then.bind(W),A.catch=W.then.bind(W,void 0),A}(this._delegate,c),A=_.then(W=>new Ka(this.database,W));d&&A.then(()=>d(null),W=>d(W));const L=new Ka(this.database,_);return L.then=A.then.bind(A),L.catch=A.catch.bind(A,void 0),L}onDisconnect(){return qo("Reference.onDisconnect",this._delegate._path),new Zp(new Fc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Gc{constructor(c,d){this._delegate=c,this.app=d,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ks,forceLongPolling:la}}useEmulator(c,d,_={}){!function eh(f,c,d,_={}){(f=(0,N.m9)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&An("Cannot call useEmulator() after instance has already been initialized.");const A=f._repoInternal;let L;if(A.repoInfo_.nodeAdmin)_.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),L=new rr(rr.OWNER);else if(_.mockUserToken){const W="string"==typeof _.mockUserToken?_.mockUserToken:(0,N.Sg)(_.mockUserToken,f.app.options.projectId);L=new rr(W)}!function fe(f,c,d,_){f.repoInfo_=new Ye(`${c}:${d}`,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams,!0),_&&(f.authTokenProvider_=_)}(A,c,d,L)}(this._delegate,c,d,_)}ref(c){if((0,N.Dv)("database.ref",0,1,arguments.length),c instanceof Ka){const d=Hl(this._delegate,c.toString());return new Ka(this,d)}{const d=vd(this._delegate,c);return new Ka(this,d)}}refFromURL(c){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const _=Hl(this._delegate,c);return new Ka(this,_)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function th(f){(f=(0,N.m9)(f))._checkNotDeleted("goOffline"),Qu(f._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function Uh(f){(f=(0,N.m9)(f))._checkNotDeleted("goOnline"),function Pc(f){f.persistentConnection_&&f.persistentConnection_.resume(uo)}(f._repo)}(this._delegate)}}Gc.ServerValue={TIMESTAMP:function jh(){return nh}(),increment:f=>function hs(f){return{".sv":{increment:f}}}(f)};var Bf=Object.freeze({__proto__:null,initStandalone:function Hh({app:f,url:c,version:d,customAuthImpl:_,namespace:A,nodeAdmin:L=!1}){ft(d);const W=new Ue.zt("auth-internal",new Ue.H0("database-standalone"));return W.setComponent(new Ue.wA("auth-internal",()=>_,"PRIVATE")),{instance:new Gc(wt(f,W,void 0,c,L),f),namespace:A}}});const $f=Gc.ServerValue;!function Qp(f){f.INTERNAL.registerComponent(new Ue.wA("database-compat",(c,{instanceIdentifier:d})=>{const _=c.getProvider("app-compat").getImmediate(),A=c.getProvider("database").getImmediate({identifier:d});return new Gc(A,_)},"PUBLIC").setServiceProps({Reference:Ka,Query:fo,Database:Gc,DataSnapshot:Sa,enableLogging:Hc,INTERNAL:Bf,ServerValue:$f}).setMultipleInstances(!0)),f.registerVersion("@firebase/database-compat","0.3.4")}(Ze.Z);var uc=V(1205),Sd=V(6217),zh=V(9260);function sh(f){return null==f}function Vf(f){return"function"==typeof f.set}function Gh(f,c){return Vf(c)?c:f.ref(c)}function Gl(f,c){if(function du(f){return"string"==typeof f}(f))return c.stringCase();if(Vf(f))return c.firebaseCase();if(function cc(f){return"function"==typeof f.exportVal}(f))return c.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof f)}function dc(f,c,d="on",_=ee.z){return new z.y(A=>{let L=null;return L=f[d](c,(W,ae)=>{_.schedule(()=>{A.next({snapshot:W,prevKey:ae})}),"once"===d&&_.schedule(()=>A.complete())},W=>{_.schedule(()=>A.error(W))}),"on"===d?{unsubscribe(){null!=L&&f.off(c,L)}}:{unsubscribe(){}}}).pipe((0,be.U)(A=>{const{snapshot:L,prevKey:W}=A;let ae=null;return L.exists()&&(ae=L.key),{type:c,payload:L,prevKey:W,key:ae}}),(0,ge.B)())}function Uf(f,c){const d=f.length;for(let _=0;_<d;_++)if(f[_].payload.key===c)return _;return-1}function hc(f,c){const{payload:d,prevKey:_,key:A}=c,L=Uf(f,A),W=function Wc(f,c){if(sh(c))return 0;{const d=Uf(f,c);return-1===d?f.length:d+1}}(f,_);switch(c.type){case"value":if(c.payload&&c.payload.exists()){let ae=null;c.payload.forEach(Ne=>{const it={payload:Ne,type:"value",prevKey:ae,key:Ne.key};return ae=Ne.key,f=[...f,it],!1})}return f;case"child_added":if(L>-1){const ae=f[L-1];(ae&&ae.key||null)!==_&&(f=f.filter(Ne=>Ne.payload.key!==d.key)).splice(W,0,c)}else{if(null==_)return[c,...f];(f=f.slice()).splice(W,0,c)}return f;case"child_removed":return f.filter(ae=>ae.payload.key!==d.key);case"child_changed":return f.map(ae=>ae.payload.key===A?c:ae);case"child_moved":if(L>-1){const ae=f.splice(L,1)[0];return(f=f.slice()).splice(W,0,ae),f}return f;default:return f}}function Wl(f){return(sh(f)||0===f.length)&&(f=["child_added","child_removed","child_changed","child_moved"]),f}function hu(f,c,d){return function Wh(f,c,d){return dc(f,"value","once",d).pipe((0,De.w)(_=>{const A=[(0,Ce.of)(_)];return c.forEach(L=>A.push(dc(f,L,"on",d))),(0,Te.T)(...A).pipe((0,ke.R)(hc,[]))}),(0,ve.x)())}(f,c=Wl(c),d)}function fc(f,c,d){const _=(c=Wl(c)).map(A=>dc(f,A,"on",d));return(0,Te.T)(..._)}function Kc(f,c){return function(_,A){return Gl(_,{stringCase:()=>f.child(_)[c](A),firebaseCase:()=>_[c](A),snapshotCase:()=>_.ref[c](A)})}}function jf(f){return function(d){return d?Gl(d,{stringCase:()=>f.child(d).remove(),firebaseCase:()=>d.remove(),snapshotCase:()=>d.ref.remove()}):f.remove()}}function Yc(f,c){return function(){return dc(f,"value","on",c)}}const Ad=new a.OlP("angularfire2.realtimeDatabaseURL"),pc=new a.OlP("angularfire2.database.use-emulator");let Nu=(()=>{class f{constructor(d,_,A,L,W,ae,Ne,it,Jt,tn,ln,Jn,mr,ui,Do){this.schedulers=ae;const Ta=Ne,fu=(0,ht.on)(d,W,_);it&&(0,uc.nw)(fu,W,Jt,ln,Jn,mr,tn,ui),this.database=(0,ht.cc)(`${fu.name}.database.${A}`,"AngularFireDatabase",fu.name,()=>{const ku=W.runOutsideAngular(()=>fu.database(A||void 0));return Ta&&ku.useEmulator(...Ta),ku},[Ta])}list(d,_){const A=this.schedulers.ngZone.runOutsideAngular(()=>Gh(this.database,d));let L=A;return _&&(L=_(A)),function Yh(f,c){const d=c.schedulers.outsideAngular,_=c.schedulers.ngZone.run(()=>f.ref);return{query:f,update:Kc(_,"update"),set:Kc(_,"set"),push:A=>_.push(A),remove:jf(_),snapshotChanges:A=>hu(f,A,d).pipe(de.iC),stateChanges:A=>fc(f,A,d).pipe(de.iC),auditTrail:A=>function Ou(f,c,d){return function Td(f,c,d){return function Kh(f,c){return dc(f,"value","on",c).pipe((0,be.U)(d=>{let _;return d.payload.forEach(A=>(_=A.key,!1)),{data:d,lastKeyToLoad:_}}))}(f,d).pipe(function Re(...f){const c=(0,Mt.jO)(f);return(0,ie.e)((d,_)=>{const A=f.length,L=new Array(A);let W=f.map(()=>!1),ae=!1;for(let Ne=0;Ne<A;Ne++)(0,xe.Xf)(f[Ne]).subscribe((0,ce.x)(_,it=>{L[Ne]=it,!ae&&!W[Ne]&&(W[Ne]=!0,(ae=W.every(ze.y))&&(W=null))},dt.Z));d.subscribe((0,ce.x)(_,Ne=>{if(ae){const it=[Ne,...L];_.next(c?c(...it):it)}}))})}(c),(0,be.U)(([A,L])=>{const W=A.lastKeyToLoad,ae=L.map(Ne=>Ne.key);return{actions:L,lastKeyToLoad:W,loadedKeys:ae}}),function ye(f){return(0,ie.e)((c,d)=>{let _=!1,A=0;c.subscribe((0,ce.x)(d,L=>(_||(_=!f(L,A++)))&&d.next(L)))})}(A=>-1===A.loadedKeys.indexOf(A.lastKeyToLoad)),(0,be.U)(A=>A.actions))}(f,fc(f,c).pipe((0,ke.R)((A,L)=>[...A,L],[])),d)}(f,A,d).pipe(de.iC),valueChanges:(A,L)=>hu(f,A,d).pipe((0,be.U)(ae=>ae.map(Ne=>L&&L.idField?Object.assign(Object.assign({},Ne.payload.val()),{[L.idField]:Ne.key}):Ne.payload.val())),de.iC)}}(L,this)}object(d){return function Pu(f,c){return{query:f,snapshotChanges:()=>Yc(f,c.schedulers.outsideAngular)().pipe(de.iC),update:d=>f.ref.update(d),set:d=>f.ref.set(d),remove:()=>f.ref.remove(),valueChanges:()=>Yc(f,c.schedulers.outsideAngular)().pipe(de.iC,(0,be.U)(_=>_.payload.exists()?_.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Gh(this.database,d)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return f.\u0275fac=function(d){return new(d||f)(a.LFG(ht.Dh),a.LFG(ht.xv,8),a.LFG(Ad,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(de.HU),a.LFG(pc,8),a.LFG(uc.zQ,8),a.LFG(uc.Qv,8),a.LFG(uc.L6,8),a.LFG(uc._Q,8),a.LFG(uc.rT,8),a.LFG(uc.lh,8),a.LFG(uc.f7,8),a.LFG(Sd.nm,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"}),f})(),Jp=(()=>{class f{constructor(){zh.Z.registerVersion("angularfire",de.q4.full,"rtdb-compat")}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({providers:[Nu]}),f})()},3101:(_n,yt,V)=>{"use strict";V.d(yt,{ST:()=>Dm,yb:()=>X_});var a=V(4650),ee=V(4986),z=V(9751),Ce=V(8996),Te=V(9646),be=V(2122),ge=V(8675),De=V(4482),ke=V(5403);function ve(){return(0,De.e)((i,e)=>{let t,s=!1;i.subscribe((0,ke.x)(e,u=>{const y=t;t=u,s&&e.next([y,u]),s=!0}))})}var N,ie=V(4004),ce=V(5026),xe=V(1884),ze=V(9300),dt=V(2011),Mt=V(6895),ye=(V(9800),V(3942)),de=V(5861),ht=V(9681),Be=V(4859),Ze=V(1877),Ue=V(2090),Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe={},Ge=Ge||{},je=Oe||self;function Je(){}function tt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ft(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var bt="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function Me(i,e,t){return i.call.apply(i.bind,arguments)}function Pe(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Se(i,e,t){return(Se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Me:Pe).apply(null,arguments)}function lt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Xe(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,u,y){for(var b=Array(arguments.length-2),O=2;O<arguments.length;O++)b[O-2]=arguments[O];return e.prototype[u].apply(s,b)}}function ut(){this.s=this.s,this.o=this.o}ut.prototype.s=!1,ut.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function st(i){Object.prototype.hasOwnProperty.call(i,bt)&&i[bt]||(i[bt]=++gt)}(this)},ut.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Vt(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Pt(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(tt(s)){const u=i.length||0,y=s.length||0;i.length=u+y;for(let b=0;b<y;b++)i[u+b]=s[b]}else i.push(s)}}function Ot(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var $n=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{je.addEventListener("test",Je,e),je.removeEventListener("test",Je,e)}catch(t){}return i}();function An(i){return/^[\s\xa0]*$/.test(i)}var Mn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Un(i,e){return i<e?-1:i>e?1:0}function yn(){var i=je.navigator;return i&&(i=i.userAgent)?i:""}function er(i){return-1!=yn().indexOf(i)}function cr(i){return cr[" "](i),i}cr[" "]=Je;var pr,i,mt=er("Opera"),Nt=er("Trident")||er("MSIE"),St=er("Edge"),bn=St||Nt,on=er("Gecko")&&!(-1!=yn().toLowerCase().indexOf("webkit")&&!er("Edge"))&&!(er("Trident")||er("MSIE"))&&!er("Edge"),In=-1!=yn().toLowerCase().indexOf("webkit")&&!er("Edge");function dr(){var i=je.document;return i?i.documentMode:void 0}e:{var un="",Cn=(i=yn(),on?/rv:([^\);]+)(\)|;)/.exec(i):St?/Edge\/([\d\.]+)/.exec(i):Nt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):In?/WebKit\/(\S+)/.exec(i):mt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Cn&&(un=Cn?Cn[1]:""),Nt){var hn=dr();if(null!=hn&&hn>parseFloat(un)){pr=String(hn);break e}}pr=un}var Fn={};var ni=je.document&&Nt&&(dr()||parseInt(pr,10))||void 0;function ri(i,e){if(Ot.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(on){e:{try{cr(e.nodeName);var u=!0;break e}catch(y){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:xr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ri.X.h.call(this)}}Xe(ri,Ot);var xr={2:"touch",3:"pen",4:"mouse"};ri.prototype.h=function(){ri.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ii="closure_listenable_"+(1e6*Math.random()|0),rr=0;function Hn(i,e,t,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=u,this.key=++rr,this.ba=this.ea=!1}function Qr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function cn(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function qt(i){const e={};for(const t in i)e[t]=i[t];return e}const Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(i,e){let t,s;for(let u=1;u<arguments.length;u++){for(t in s=arguments[u],s)i[t]=s[t];for(let y=0;y<Et.length;y++)t=Et[y],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function We(i){this.src=i,this.g={},this.h=0}function kt(i,e){var t=e.type;if(t in i.g){var y,s=i.g[t],u=Kt(s,e);(y=0<=u)&&Array.prototype.splice.call(s,u,1),y&&(Qr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Wt(i,e,t,s){for(var u=0;u<i.length;++u){var y=i[u];if(!y.ba&&y.listener==e&&y.capture==!!t&&y.ha==s)return u}return-1}We.prototype.add=function(i,e,t,s,u){var y=i.toString();(i=this.g[y])||(i=this.g[y]=[],this.h++);var b=Wt(i,e,s,u);return-1<b?(e=i[b],t||(e.ea=!1)):((e=new Hn(e,this.src,y,!!s,u)).ea=t,i.push(e)),e};var Ie="closure_lm_"+(1e6*Math.random()|0),Ee={};function Ye(i,e,t,s,u){if(s&&s.once)return wn(i,e,t,s,u);if(Array.isArray(e)){for(var y=0;y<e.length;y++)Ye(i,e[y],t,s,u);return null}return t=On(t),i&&i[ii]?i.N(e,t,ft(s)?!!s.capture:!!s,u):Rt(i,e,t,!1,s,u)}function Rt(i,e,t,s,u,y){if(!e)throw Error("Invalid event type");var b=ft(u)?!!u.capture:!!u,O=zt(i);if(O||(i[Ie]=O=new We(i)),(t=O.add(e,t,s,b,y)).proxy)return t;if(s=function Ct(){const e=_t;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)$n||(u=b),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(me(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function wn(i,e,t,s,u){if(Array.isArray(e)){for(var y=0;y<e.length;y++)wn(i,e[y],t,s,u);return null}return t=On(t),i&&i[ii]?i.O(e,t,ft(s)?!!s.capture:!!s,u):Rt(i,e,t,!0,s,u)}function Qe(i,e,t,s,u){if(Array.isArray(e))for(var y=0;y<e.length;y++)Qe(i,e[y],t,s,u);else s=ft(s)?!!s.capture:!!s,t=On(t),i&&i[ii]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Wt(y=i.g[e],t,s,u))&&(Qr(y[t]),Array.prototype.splice.call(y,t,1),0==y.length&&(delete i.g[e],i.h--))):i&&(i=zt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Wt(e,t,s,u)),(t=-1<i?e[i]:null)&&qe(t))}function qe(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[ii])kt(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(me(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=zt(e))?(kt(t,i),0==t.h&&(t.src=null,e[Ie]=null)):Qr(i)}}}function me(i){return i in Ee?Ee[i]:Ee[i]="on"+i}function _t(i,e){if(i.ba)i=!0;else{e=new ri(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&qe(i),i=t.call(s,e)}return i}function zt(i){return(i=i[Ie])instanceof We?i:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function On(i){return"function"==typeof i?i:(i[en]||(i[en]=function(e){return i.handleEvent(e)}),i[en])}function Kn(){ut.call(this),this.i=new We(this),this.P=this,this.I=null}function Cr(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new Ot(e,i);else if(e instanceof Ot)e.target=e.target||i;else{var u=e;Ae(e=new Ot(s,i),u)}if(u=!0,t)for(var y=t.length-1;0<=y;y--){var b=e.g=t[y];u=vi(b,s,!0,e)&&u}if(u=vi(b=e.g=i,s,!0,e)&&u,u=vi(b,s,!1,e)&&u,t)for(y=0;y<t.length;y++)u=vi(b=e.g=t[y],s,!1,e)&&u}function vi(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,y=0;y<e.length;++y){var b=e[y];if(b&&!b.ba&&b.capture==t){var O=b.listener,G=b.ha||b.src;b.ea&&kt(i.i,b),u=!1!==O.call(G,s)&&u}}return u&&!s.defaultPrevented}Xe(Kn,ut),Kn.prototype[ii]=!0,Kn.prototype.removeEventListener=function(i,e,t,s){Qe(this,i,e,t,s)},Kn.prototype.M=function(){if(Kn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Qr(t[s]);delete i.g[e],i.h--}}this.I=null},Kn.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Kn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var bi=je.JSON.stringify;function ji(){var i=Jr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ir,Ci=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Fr,i=>i.reset());class Fr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function es(i){je.setTimeout(()=>{throw i},0)}function Ni(i,e){ir||function $r(){var i=je.Promise.resolve(void 0);ir=function(){i.then(ei)}}(),Lr||(ir(),Lr=!0),Jr.add(i,e)}var Lr=!1,Jr=new class oi{constructor(){this.h=this.g=null}add(e,t){const s=Ci.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function ei(){for(var i;i=ji();){try{i.h.call(i.g)}catch(t){es(t)}var e=Ci;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Lr=!1}function Mr(i,e){Kn.call(this),this.h=i||1,this.g=e||je,this.j=Se(this.lb,this),this.l=Date.now()}function Ii(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Wi(i,e,t){if("function"==typeof i)t&&(i=Se(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Se(i.handleEvent,i)}return 2147483647<Number(e)?-1:je.setTimeout(i,e||0)}function wi(i){i.g=Wi(()=>{i.g=null,i.i&&(i.i=!1,wi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Xe(Mr,Kn),(N=Mr.prototype).ca=!1,N.R=null,N.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Cr(this,"tick"),this.ca&&(Ii(this),this.start()))}},N.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){Mr.X.M.call(this),Ii(this),delete this.g};class En extends ut{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wi(this)}M(){super.M(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(i){ut.call(this),this.h=i,this.g={}}Xe(Yn,ut);var Hr=[];function he(i,e,t,s){Array.isArray(t)||(t&&(Hr[0]=t.toString()),t=Hr);for(var u=0;u<t.length;u++){var y=Ye(e,t[u],s||i.handleEvent,!1,i.h||i);if(!y)break;i.g[y.key]=y}}function nt(i){cn(i.g,function(e,t){this.g.hasOwnProperty(t)&&qe(e)},i),i.g={}}function F(){this.g=!0}function oe(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function J(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var y=u[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var b=1;b<u.length;b++)u[b]=""}}}return bi(t)}catch(O){return e}}(i,t)+(s?" "+s:"")})}Yn.prototype.M=function(){Yn.X.M.call(this),nt(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},F.prototype.Aa=function(){this.g=!1},F.prototype.info=function(){};var _e={},$e=null;function rt(){return $e=$e||new Kn}function It(i){Ot.call(this,_e.Pa,i)}function Gt(i){const e=rt();Cr(e,new It(e))}function pn(i,e){Ot.call(this,_e.STAT_EVENT,i),this.stat=e}function vn(i){const e=rt();Cr(e,new pn(e,i))}function Wn(i,e){Ot.call(this,_e.Qa,i),this.size=e}function gr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){i()},e)}_e.Pa="serverreachability",Xe(It,Ot),_e.STAT_EVENT="statevent",Xe(pn,Ot),_e.Qa="timingevent",Xe(Wn,Ot);var ct={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ke={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xt(){}function Xt(){}xt.prototype.h=null;var hr,gn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zn(){Ot.call(this,"d")}function or(){Ot.call(this,"c")}function ws(){}function si(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new Yn(this),this.O=zr,this.T=new Mr(i=bn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}Xe(Zn,Ot),Xe(or,Ot),Xe(ws,xt),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},hr=new ws;var zr=45e3,Tr={},hi={};function Hi(i,e,t){i.K=1,i.v=xi(ur(e)),i.s=t,i.P=!0,po(i,null)}function po(i,e){i.F=Date.now(),ts(i),i.A=ur(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),vo(t.i,"t",s),i.C=0,t=i.l.H,i.h=new di,i.g=Eo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new En(Se(i.La,i,i.g),i.N)),he(i.S,i.g,"readystatechange",i.ib),e=i.H?qt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Gt(),function Y(i,e,t,s,u,y){i.info(function(){if(i.g)if(y)for(var b="",O=y.split("&"),G=0;G<O.length;G++){var Q=O[G].split("=");if(1<Q.length){var pe=Q[0];Q=Q[1];var at=pe.split("_");b=2<=at.length&&"type"==at[1]?b+(pe+"=")+Q+"&":b+(pe+"=redacted&")}}else b=null;else b=y;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+t+"\n"+b})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ki(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function ps(i,e,t){let u,s=!0;for(;!i.I&&i.C<t.length;){if(u=Yi(i,t),u==hi){4==e&&(i.o=4,vn(14),s=!1),oe(i.j,i.m,null,"[Incomplete Response]");break}if(u==Tr){i.o=4,vn(15),oe(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}oe(i.j,i.m,u,null),bs(i,u)}Ki(i)&&u!=hi&&u!=Tr&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,vn(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ml(e),e.K=!0,vn(11))):(oe(i.j,i.m,t,"[Invalid Chunked Response]"),Qi(i),Ys(i))}function Yi(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?hi:(t=Number(e.substring(t,s)),isNaN(t)?Tr:(s+=1)+t>e.length?hi:(e=e.substr(s,t),i.C=s+t,e))}function ts(i){i.V=Date.now()+i.O,so(i,i.O)}function so(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=gr(Se(i.gb,i),e)}function gs(i){i.B&&(je.clearTimeout(i.B),i.B=null)}function Ys(i){0==i.l.G||i.I||fl(i.l,i)}function Qi(i){gs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ii(i.T),nt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function bs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Ei(t.h,i)))if(!i.J&&Ei(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch(Q){s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ta(t),as(t)}Lo(t),vn(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=gr(Se(t.cb,t),6e3));if(1>=vs(t.h)&&t.ja){try{t.ja()}catch(Q){}t.ja=void 0}}else Js(t,11)}else if((i.J||t.g==i)&&ta(t),!An(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let Q=u[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const pe=Q[3];null!=pe&&(t.ma=pe,t.j.info("VER="+t.ma));const at=Q[4];null!=at&&(t.Ca=at,t.j.info("SVER="+t.Ca));const Ft=Q[5];null!=Ft&&"number"==typeof Ft&&0<Ft&&(t.J=s=1.5*Ft,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const sn=i.g;if(sn){const Rn=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rn){var y=s.h;y.g||-1==Rn.indexOf("spdy")&&-1==Rn.indexOf("quic")&&-1==Rn.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(ki(y,y.h),y.h=null))}if(s.D){const qn=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;qn&&(s.za=qn,jr(s.F,s.D,qn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var b=i;if((s=t).sa=_o(s,s.H?s.ka:null,s.V),b.J){Ji(s.h,b);var O=b,G=s.J;G&&O.setTimeout(G),O.B&&(gs(O),ts(O)),s.g=b}else ca(s);0<t.i.length&&ea(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Js(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Js(t,7):Jo(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}Gt()}catch(Q){}}function Qo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(tt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ms(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(tt(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Hs(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(tt(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),u=s.length,y=0;y<u;y++)e.call(void 0,s[y],t&&t[y],i)}(N=si.prototype).setTimeout=function(i){this.O=i},N.ib=function(i){i=i.target;const e=this.L;e&&3==Pr(i)?e.l():this.La(i)},N.La=function(i){try{if(i==this.g)e:{const pe=Pr(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>pe)&&(3!=pe||bn||this.g&&(this.h.h||this.g.fa()||qi(this.g)))){this.I||4!=pe||7==e||Gt(),gs(this);var t=this.g.aa();this.Y=t;t:if(Ki(this)){var s=qi(this.g);i="";var u=s.length,y=4==Pr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),Ys(this);var b="";break t}this.h.i=new je.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:y&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.fa();if(this.i=200==t,function re(i,e,t,s,u,y,b){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+y+" "+b})}(this.j,this.u,this.A,this.m,this.U,pe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var O,G=this.g;if((O=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!An(O)){var Q=O;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,vn(12),Qi(this),Ys(this);break e}oe(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bs(this,t)}this.P?(ps(this,pe,b),bn&&this.i&&3==pe&&(he(this.S,this.T,"tick",this.hb),this.T.start())):(oe(this.j,this.m,b,null),bs(this,b)),4==pe&&Qi(this),this.i&&!this.I&&(4==pe?fl(this.l,this):(this.i=!1,ts(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),Qi(this),Ys(this)}}}catch(pe){}},N.hb=function(){if(this.g){var i=Pr(this.g),e=this.g.fa();this.C<e.length&&(gs(this),ps(this,i,e),this.i&&4!=i&&ts(this))}},N.cancel=function(){this.I=!0,Qi(this)},N.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function He(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gt(),vn(17)),Qi(this),this.o=2,Ys(this)):so(this,this.V-i)};var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ai(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ai){this.h=void 0!==e?e:i.h,Ps(this,i.j),this.s=i.s,this.g=i.g,Ns(this,i.m),this.l=i.l,e=i.i;var t=new ss;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ks(this,t),this.o=i.o}else i&&(t=String(i).match(go))?(this.h=!!e,Ps(this,t[1]||"",!0),this.s=Mi(t[2]||""),this.g=Mi(t[3]||"",!0),Ns(this,t[4]),this.l=Mi(t[5]||"",!0),ks(this,t[6]||"",!0),this.o=Mi(t[7]||"")):(this.h=!!e,this.i=new ss(null,this.h))}function ur(i){return new ai(i)}function Ps(i,e,t){i.j=t?Mi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ns(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ks(i,e,t){e instanceof ss?(i.i=e,function Go(i,e){e&&!i.j&&(Fs(i),i.i=null,i.g.forEach(function(t,s){var u=s.toLowerCase();s!=u&&(Nr(this,s),vo(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ys(e,yo)),i.i=new ss(e,i.h))}function jr(i,e,t){i.i.set(e,t)}function xi(i){return jr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Mi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ys(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,_i),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function _i(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ai.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ys(e,qs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ys(e,qs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ys(t,"/"==t.charAt(0)?Cs:ns,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ys(t,Ao)),i.join("")};var qs=/[#\/\?@]/g,ns=/[#\?:]/g,Cs=/[#\?]/g,yo=/[#\?@]/g,Ao=/#/g;function ss(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Fs(i){i.g||(i.g=new Map,i.h=0,i.i&&function mo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),u=null;if(0<=s){var y=i[t].substring(0,s);u=i[t].substring(s+1)}else y=i[t];e(y,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Nr(i,e){Fs(i),e=ci(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function zs(i,e){return Fs(i),e=ci(i,e),i.g.has(e)}function vo(i,e,t){Nr(i,e),0<t.length&&(i.i=null,i.g.set(ci(i,e),Vt(t)),i.h+=t.length)}function ci(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Dr(i){this.l=i||Wo,i=je.PerformanceNavigationTiming?0<(i=je.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(je.g&&je.g.Ga&&je.g.Ga()&&je.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=ss.prototype).add=function(i,e){Fs(this),this.i=null,i=ci(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},N.forEach=function(i,e){Fs(this),this.g.forEach(function(t,s){t.forEach(function(u){i.call(e,u,s,this)},this)},this)},N.oa=function(){Fs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const u=i[s];for(let y=0;y<u.length;y++)t.push(e[s])}return t},N.W=function(i){Fs(this);let e=[];if("string"==typeof i)zs(this,i)&&(e=e.concat(this.g.get(ci(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},N.set=function(i,e){return Fs(this),this.i=null,zs(this,i=ci(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},N.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const y=encodeURIComponent(String(s)),b=this.W(s);for(s=0;s<b.length;s++){var u=y;""!==b[s]&&(u+="="+encodeURIComponent(String(b[s]))),i.push(u)}}return this.i=i.join("&")};var Wo=10;function Ko(i){return!!i.h||!!i.g&&i.g.size>=i.j}function vs(i){return i.h?1:i.g?i.g.size:0}function Ei(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ki(i,e){i.g?i.g.add(e):i.h=e}function Ji(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function _s(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Vt(i.i)}function fr(){}function xo(){this.g=new fr}function Mo(i,e,t){const s=t||"";try{Qo(i,function(u,y){let b=u;ft(u)&&(b=bi(u)),e.push(s+y+"="+encodeURIComponent(b))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function li(i,e,t,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch(y){}}function Xs(i){this.l=i.ac||null,this.j=i.jb||!1}function Qs(i,e){Kn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dr.prototype.cancel=function(){if(this.i=_s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},fr.prototype.stringify=function(i){return je.JSON.stringify(i,void 0)},fr.prototype.parse=function(i){return je.JSON.parse(i,void 0)},Xe(Xs,xt),Xs.prototype.g=function(){return new Qs(this.l,this.j)},Xs.prototype.i=function(i){return function(){return i}}({}),Xe(Qs,Kn);var Ds=0;function xa(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Ss(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ts(i)}function Ts(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(N=Qs.prototype).open=function(i,e){if(this.readyState!=Ds)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ts(this)},N.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||je).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ss(this)),this.readyState=Ds},N.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xa(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},N.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ss(this):Ts(this),3==this.readyState&&xa(this)}},N.Va=function(i){this.g&&(this.response=this.responseText=i,Ss(this))},N.Ua=function(i){this.g&&(this.response=i,Ss(this))},N.ga=function(){this.g&&Ss(this)},N.setRequestHeader=function(i,e){this.v.append(i,e)},N.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var g=je.JSON.parse;function I(i){Kn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=h,this.K=this.L=!1}Xe(I,Kn);var h="",D=/^https?$/i,q=["POST","PUT"];function an(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,xn(i),Or(i)}function xn(i){i.D||(i.D=!0,Cr(i,"complete"),Cr(i,"error"))}function Gn(i){if(i.h&&typeof Ge<"u"&&(!i.C[1]||4!=Pr(i)||2!=i.aa()))if(i.v&&4==Pr(i))Wi(i.Ha,0,i);else if(Cr(i,"readystatechange"),4==Pr(i)){i.h=!1;try{const O=i.aa();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===O){var u=String(i.H).match(go)[1]||null;if(!u&&je.self&&je.self.location){var y=je.self.location.protocol;u=y.substr(0,y.length-1)}s=!D.test(u?u.toLowerCase():"")}t=s}if(t)Cr(i,"complete"),Cr(i,"success");else{i.m=6;try{var b=2<Pr(i)?i.g.statusText:""}catch(G){b=""}i.j=b+" ["+i.aa()+"]",xn(i)}}finally{Or(i)}}}function Or(i,e){if(i.g){Gr(i);const t=i.g,s=i.C[0]?Je:null;i.g=null,i.C=null,e||Cr(i,"ready");try{t.onreadystatechange=s}catch(u){}}}function Gr(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(je.clearTimeout(i.A),i.A=null)}function Pr(i){return i.g?i.g.readyState:0}function qi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case h:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function os(i){let e="";return cn(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function qr(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=os(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):jr(i,e,t))}function Fi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function As(i){this.Ca=0,this.i=[],this.j=new F,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Fi("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Fi("baseRetryDelayMs",5e3,i),this.bb=Fi("retryDelaySeedMs",1e4,i),this.$a=Fi("forwardChannelMaxRetries",2,i),this.ta=Fi("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Dr(i&&i.concurrentRequestLimit),this.Fa=new xo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Jo(i){if(Ro(i),3==i.G){var e=i.U++,t=ur(i.F);jr(t,"SID",i.I),jr(t,"RID",e),jr(t,"TYPE","terminate"),Oo(i,t),(e=new si(i,i.j,e,void 0)).K=2,e.v=xi(ur(t)),t=!1,je.navigator&&je.navigator.sendBeacon&&(t=je.navigator.sendBeacon(e.v.toString(),"")),!t&&je.Image&&((new Image).src=e.v,t=!0),t||(e.g=Eo(e.l,null),e.g.da(e.v)),e.F=Date.now(),ts(e)}da(i)}function as(i){i.g&&(Ml(i),i.g.cancel(),i.g=null)}function Ro(i){as(i),i.u&&(je.clearTimeout(i.u),i.u=null),ta(i),i.h.cancel(),i.m&&("number"==typeof i.m&&je.clearTimeout(i.m),i.m=null)}function ea(i){Ko(i.h)||i.m||(i.m=!0,Ni(i.Ja,i),i.C=0)}function Xa(i,e){var t;t=e?e.m:i.U++;const s=ur(i.F);jr(s,"SID",i.I),jr(s,"RID",t),jr(s,"AID",i.T),Oo(i,s),i.o&&i.s&&qr(s,i.o,i.s),t=new si(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Po(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),ki(i.h,t),Hi(t,s,e)}function Oo(i,e){i.ia&&cn(i.ia,function(t,s){jr(e,s,t)}),i.l&&Qo({},function(t,s){jr(e,s,t)})}function Po(i,e,t){t=Math.min(i.i.length,t);var s=i.l?Se(i.l.Ra,i.l,i):null;e:{var u=i.i;let y=-1;for(;;){const b=["count="+t];-1==y?0<t?(y=u[0].h,b.push("ofs="+y)):y=0:b.push("ofs="+y);let O=!0;for(let G=0;G<t;G++){let Q=u[G].h;const pe=u[G].g;if(Q-=y,0>Q)y=Math.max(0,u[G].h-100),O=!1;else try{Mo(pe,b,"req"+Q+"_")}catch(at){s&&s(pe)}}if(O){s=b.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function ca(i){i.g||i.u||(i.Z=1,Ni(i.Ia,i),i.A=0)}function Lo(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=gr(Se(i.Ia,i),Ra(i,i.A)),i.A++,0))}function Ml(i){null!=i.B&&(je.clearTimeout(i.B),i.B=null)}function Ls(i){i.g=new si(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ur(i.sa);jr(e,"RID","rpc"),jr(e,"SID",i.I),jr(e,"CI",i.L?"0":"1"),jr(e,"AID",i.T),jr(e,"TYPE","xmlhttp"),Oo(i,e),i.o&&i.s&&qr(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=xi(ur(e)),t.s=null,t.P=!0,po(t,i)}function ta(i){null!=i.v&&(je.clearTimeout(i.v),i.v=null)}function fl(i,e){var t=null;if(i.g==e){ta(i),Ml(i),i.g=null;var s=2}else{if(!Ei(i.h,e))return;t=e.D,Ji(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Cr(s=rt(),new Wn(s,t)),ea(i)}else ca(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==s&&function Ma(i,e){return!(vs(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=gr(Se(i.Ja,i,e),Ra(i,i.C)),i.C++,0)))}(i,e)||2==s&&Lo(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:Js(i,5);break;case 4:Js(i,10);break;case 3:Js(i,6);break;default:Js(i,2)}}function Ra(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function Js(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=Se(i.kb,i);t||(t=new ai("//www.google.com/images/cleardot.gif"),je.location&&"http"==je.location.protocol||Ps(t,"https"),xi(t)),function Ir(i,e){const t=new F;if(je.Image){const s=new Image;s.onload=lt(li,t,s,"TestLoadImage: loaded",!0,e),s.onerror=lt(li,t,s,"TestLoadImage: error",!1,e),s.onabort=lt(li,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=lt(li,t,s,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else vn(2);i.G=0,i.l&&i.l.va(e),da(i),Ro(i)}function da(i){if(i.G=0,i.la=[],i.l){const e=_s(i.h);(0!=e.length||0!=i.i.length)&&(Pt(i.la,e),Pt(i.la,i.i),i.h.i.length=0,Vt(i.i),i.i.length=0),i.l.ua()}}function _o(i,e,t){var s=t instanceof ai?ur(t):new ai(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Ns(s,s.m);else{var u=je.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var y=new ai(null,void 0);s&&Ps(y,s),e&&(y.g=e),u&&Ns(y,u),t&&(y.l=t),s=y}return e=i.za,(t=i.D)&&e&&jr(s,t,e),jr(s,"VER",i.ma),Oo(i,s),s}function Eo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new I(t&&i.Da&&!i.ra?new Xs({jb:!0}):i.ra)).Ka(i.H),e}function Bo(){}function Zi(){if(Nt&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function ls(i,e){Kn.call(this),this.g=new As(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!An(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!An(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ri(this)}function fi(i){Zn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function $o(){or.call(this),this.status=1}function Ri(i){this.g=i}(N=I.prototype).Ka=function(i){this.L=i},N.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hr.g(),this.C=function Lt(i){return i.h||(i.h=i.i())}(this.u?this.u:hr),this.g.onreadystatechange=Se(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(y){return void an(this,y)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)t.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const y of s.keys())t.set(y,s.get(y))}s=Array.from(t.keys()).find(y=>"content-type"==y.toLowerCase()),u=je.FormData&&i instanceof je.FormData,!(0<=Kt(q,e))||s||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,b]of t)this.g.setRequestHeader(y,b);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gr(this),0<this.B&&((this.K=function et(i){return Nt&&function lr(){return function At(i){var e=Fn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Mn(String(pr)).split("."),t=Mn("9").split("."),s=Math.max(e.length,t.length);for(let b=0;0==i&&b<s;b++){var u=e[b]||"",y=t[b]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==u[0].length&&0==y[0].length)break;i=Un(0==u[1].length?0:parseInt(u[1],10),0==y[1].length?0:parseInt(y[1],10))||Un(0==u[2].length,0==y[2].length)||Un(u[2],y[2]),u=u[3],y=y[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Se(this.qa,this)):this.A=Wi(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(y){an(this,y)}},N.qa=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},N.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Cr(this,"complete"),Cr(this,"abort"),Or(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Or(this,!0)),I.X.M.call(this)},N.Ha=function(){this.s||(this.F||this.v||this.l?Gn(this):this.fb())},N.fb=function(){Gn(this)},N.aa=function(){try{return 2<Pr(this)?this.g.status:-1}catch(i){return-1}},N.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},N.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),g(e)}},N.Ea=function(){return this.m},N.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=As.prototype).ma=8,N.G=1,N.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new si(this,this.j,i,void 0);let y=this.s;if(this.S&&(y?(y=qt(y),Ae(y,this.S)):y=this.S),null!==this.o||this.N||(u.H=y,y=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Po(this,u,e),jr(t=ur(this.F),"RID",i),jr(t,"CVER",22),this.D&&jr(t,"X-HTTP-Session-Id",this.D),Oo(this,t),y&&(this.N?e="headers="+encodeURIComponent(String(os(y)))+"&"+e:this.o&&qr(t,this.o,y)),ki(this.h,u),this.Ya&&jr(t,"TYPE","init"),this.O?(jr(t,"$req",e),jr(t,"SID","null"),u.Z=!0,Hi(u,t,null)):Hi(u,t,e),this.G=2}}else 3==this.G&&(i?Xa(this,i):0==this.i.length||Ko(this.h)||Xa(this))},N.Ia=function(){if(this.u=null,Ls(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=gr(Se(this.eb,this),i)}},N.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vn(10),as(this),Ls(this))},N.cb=function(){null!=this.v&&(this.v=null,as(this),Lo(this),vn(19))},N.kb=function(i){i?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))},(N=Bo.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Ra=function(){},Zi.prototype.g=function(i,e){return new ls(i,e)},Xe(ls,Kn),ls.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;vn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=_o(i,null,i.V),ea(i)},ls.prototype.close=function(){Jo(this.g)},ls.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=bi(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&ea(e)},ls.prototype.M=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,ls.X.M.call(this)},Xe(fi,Zn),Xe($o,or),Xe(Ri,Bo),Ri.prototype.xa=function(){Cr(this.g,"a")},Ri.prototype.wa=function(i){Cr(this.g,new fi(i))},Ri.prototype.va=function(i){Cr(this.g,new $o)},Ri.prototype.ua=function(){Cr(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Ke.COMPLETE="complete",Xt.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",Kn.prototype.listen=Kn.prototype.N,I.prototype.listenOnce=I.prototype.O,I.prototype.getLastError=I.prototype.Oa,I.prototype.getLastErrorCode=I.prototype.Ea,I.prototype.getStatus=I.prototype.aa,I.prototype.getResponseJson=I.prototype.Sa,I.prototype.getResponseText=I.prototype.fa,I.prototype.send=I.prototype.da,I.prototype.setWithCredentials=I.prototype.Ka;var pl=Fe.createWebChannelTransport=function(){return new Zi},Es=Fe.getStatEventTarget=function(){return rt()},Qa=Fe.ErrorCode=ct,gl=Fe.EventType=Ke,Vo=Fe.Event=_e,ha=Fe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},k=Fe.FetchXmlHttpFactory=Xs,K=Fe.WebChannel=Xt,U=Fe.XhrIo=I;const se="@firebase/firestore";class we{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}we.UNAUTHENTICATED=new we(null),we.GOOGLE_CREDENTIALS=new we("google-credentials-uid"),we.FIRST_PARTY=new we("first-party-uid"),we.MOCK_USER=new we("mock-user");let Bt="9.19.0";const Qt=new Ze.Yd("@firebase/firestore");function Vn(){return Qt.logLevel}function Yt(i,...e){if(Qt.logLevel<=Ze.in.DEBUG){const t=e.map(Li);Qt.debug(`Firestore (${Bt}): ${i}`,...t)}}function vr(i,...e){if(Qt.logLevel<=Ze.in.ERROR){const t=e.map(Li);Qt.error(`Firestore (${Bt}): ${i}`,...t)}}function sr(i,...e){if(Qt.logLevel<=Ze.in.WARN){const t=e.map(Li);Qt.warn(`Firestore (${Bt}): ${i}`,...t)}}function Li(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Dn(i="Unexpected state"){const e=`FIRESTORE (${Bt}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function Nn(i,e){i||Dn()}function fn(i,e){return i}const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rn extends Ue.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(we.UNAUTHENTICATED))}shutdown(){}}class Pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ml{constructor(e){this.t=e,this.currentUser=we.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let u=this.i;const y=Q=>this.i!==u?(u=this.i,t(Q)):Promise.resolve();let b=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Oi,e.enqueueRetryable(()=>y(this.currentUser))};const O=()=>{const Q=b;e.enqueueRetryable((0,de.Z)(function*(){yield Q.promise,yield y(s.currentUser)}))},G=Q=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(Q=>G(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?G(Q):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Oi)}},0),O()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nn("string"==typeof s.accessToken),new Gs(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nn(null===e||"string"==typeof e),new we(e)}}class na{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=we.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ja{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new na(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(we.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Na{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ka{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=y=>{null!=y.error&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.T;return this.T=y.token,Yt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>s(y))};const u=y=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.I.onInit(y=>u(y)),setTimeout(()=>{if(!this.appCheck){const y=this.I.getImmediate({optional:!0});y?u(y):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nn("string"==typeof t.token),this.T=t.token,new Na(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class fa{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const u=oo(40);for(let y=0;y<u.length;++y)s.length<20&&u[y]<t&&(s+=e.charAt(u[y]%e.length))}return s}}function Ar(i,e){return i<e?-1:i>e?1:0}function eo(i,e,t){return i.length===e.length&&i.every((s,u)=>t(s,e[u]))}function pa(i){return i+"\0"}class pi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rn($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rn($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rn($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rn($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pi.fromMillis(Date.now())}static fromDate(e){return pi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new pi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ar(this.nanoseconds,e.nanoseconds):Ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ar{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ar(e)}static min(){return new ar(new pi(0,0))}static max(){return new ar(new pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ga{constructor(e,t,s){void 0===t?t=0:t>e.length&&Dn(),void 0===s?s=e.length-t:s>e.length-t&&Dn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===ga.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ga?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let u=0;u<s;u++){const y=e.get(u),b=t.get(u);if(y<b)return-1;if(y>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zr extends ga{construct(e,t,s){return new Zr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new rn($t.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(u=>u.length>0))}return new Zr(t)}static emptyPath(){return new Zr([])}}const Uu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends ga{construct(e,t,s){return new gi(e,t,s)}static isValidIdentifier(e){return Uu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let s="",u=0;const y=()=>{if(0===s.length)throw new rn($t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let b=!1;for(;u<e.length;){const O=e[u];if("\\"===O){if(u+1===e.length)throw new rn($t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[u+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new rn($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=G,u+=2}else"`"===O?(b=!b,u++):"."!==O||b?(s+=O,u++):(y(),u++)}if(y(),b)throw new rn($t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class Ln{constructor(e){this.path=e}static fromPath(e){return new Ln(Zr.fromString(e))}static fromName(e){return new Ln(Zr.fromString(e).popFirst(5))}static empty(){return new Ln(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ln(new Zr(e.slice()))}}class Bi{constructor(e,t,s,u){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=u}}function Fa(i){return i.fields.find(e=>2===e.kind)}function Bs(i){return i.fields.filter(e=>2!==e.kind)}Bi.UNKNOWN_ID=-1;class La{constructor(e,t){this.fieldPath=e,this.kind=t}}class rs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rs(0,is.min())}}function Rl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=ar.fromTimestamp(1e9===s?new pi(t+1,0):new pi(t,s));return new is(u,Ln.empty(),e)}function yu(i){return new is(i.readTime,i.key,-1)}class is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new is(ar.min(),Ln.empty(),-1)}static max(){return new is(ar.max(),Ln.empty(),-1)}}function tl(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ln.comparator(i.documentKey,e.documentKey),0!==t?t:Ar(i.largestBatchId,e.largestBatchId))}const ao="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ol{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function us(i){return ra.apply(this,arguments)}function ra(){return ra=(0,de.Z)(function*(i){if(i.code!==$t.FAILED_PRECONDITION||i.message!==ao)throw i;Yt("LocalStore","Unexpectedly lost primary lease")}),ra.apply(this,arguments)}class jt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jt((s,u)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,u)},this.catchCallback=y=>{this.wrapFailure(t,y).next(s,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof jt?t:jt.resolve(t)}catch(t){return jt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):jt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):jt.reject(t)}static resolve(e){return new jt((t,s)=>{t(e)})}static reject(e){return new jt((t,s)=>{s(e)})}static waitFor(e){return new jt((t,s)=>{let u=0,y=0,b=!1;e.forEach(O=>{++u,O.next(()=>{++y,b&&y===u&&t()},G=>s(G))}),b=!0,y===u&&t()})}static or(e){let t=jt.resolve(!1);for(const s of e)t=t.next(u=>u?jt.resolve(u):s());return t}static forEach(e,t){const s=[];return e.forEach((u,y)=>{s.push(t.call(this,u,y))}),this.waitFor(s)}static mapArray(e,t){return new jt((s,u)=>{const y=e.length,b=new Array(y);let O=0;for(let G=0;G<y;G++){const Q=G;t(e[Q]).next(pe=>{b[Q]=pe,++O,O===y&&s(b)},pe=>u(pe))}})}static doWhile(e,t){return new jt((s,u)=>{const y=()=>{!0===e()?t().next(()=>{y()},u):s()};y()})}}class Uo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Oi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Jl(e,t.error)):this.R.resolve()},this.transaction.onerror=s=>{const u=vl(s.target.error);this.R.reject(new Jl(e,u))}}static open(e,t,s,u){try{return new Uo(t,e.transaction(u,s))}catch(y){throw new Jl(t,y)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Yt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Si(t)}}class lo{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===lo.S((0,Ue.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Yt("SimpleDb","Removing database:",e),va(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ue.hl)())return!1;if(lo.C())return!0;const e=(0,Ue.z$)(),t=lo.S(e),s=0<t&&t<10,u=lo.N(e),y=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,de.Z)(function*(){return t.db||(Yt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,u)=>{const y=indexedDB.open(t.name,t.version);y.onsuccess=b=>{s(b.target.result)},y.onblocked=()=>{u(new Jl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const O=b.target.error;u("VersionError"===O.name?new rn($t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new rn($t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new Jl(e,O))},y.onupgradeneeded=b=>{Yt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.V.M(b.target.result,y.transaction,b.oldVersion,t.version).next(()=>{Yt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,u){var y=this;return(0,de.Z)(function*(){const b="readonly"===t;let O=0;for(;;){++O;try{y.db=yield y.$(e);const G=Uo.open(y.db,e,b?"readonly":"readwrite",s),Q=u(G).next(pe=>(G.P(),pe)).catch(pe=>(G.abort(pe),jt.reject(pe))).toPromise();return Q.catch(()=>{}),yield G.v,Q}catch(G){const Q=G,pe="FirebaseError"!==Q.name&&O<3;if(Yt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",pe),y.close(),!pe)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return va(this.L.delete())}}class Jl extends rn{constructor(e,t){super($t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ya(i){return"IndexedDbTransactionError"===i.name}class Si{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Yt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Yt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),va(s)}add(e){return Yt("SimpleDb","ADD",this.store.name,e,e),va(this.store.add(e))}get(e){return va(this.store.get(e)).next(t=>(void 0===t&&(t=null),Yt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Yt("SimpleDb","DELETE",this.store.name,e),va(this.store.delete(e))}count(){return Yt("SimpleDb","COUNT",this.store.name),va(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),y=[];return this.W(u,(b,O)=>{y.push(O)}).next(()=>y)}{const u=this.store.getAll(s.range);return new jt((y,b)=>{u.onerror=O=>{b(O.target.error)},u.onsuccess=O=>{y(O.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new jt((u,y)=>{s.onerror=b=>{y(b.target.error)},s.onsuccess=b=>{u(b.target.result)}})}J(e,t){Yt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const u=this.cursor(s);return this.W(u,(y,b,O)=>O.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const u=this.cursor(s);return this.W(u,t)}X(e){const t=this.cursor({});return new jt((s,u)=>{t.onerror=y=>{const b=vl(y.target.error);u(b)},t.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(O=>{O?b.continue():s()}):s()}})}W(e,t){const s=[];return new jt((u,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const O=b.target.result;if(!O)return void u();const G=new nl(O),Q=t(O.primaryKey,O.value,G);if(Q instanceof jt){const pe=Q.catch(at=>(G.done(),jt.reject(at)));s.push(pe)}G.isDone?u():null===G.K?O.continue():O.continue(G.K)}}).next(()=>jt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function va(i){return new jt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=vl(s.target.error);t(u)}})}let Ba=!1;function vl(i){const e=lo.S((0,Ue.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new rn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ba||(Ba=!0,setTimeout(()=>{throw s},0)),s}}return i}class eu{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Yt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,de.Z)(function*(){t.task=null;try{Yt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){ya(s)?Yt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield us(s)}yield t.et(6e4)}))}}class Cc{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,de.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let u=t,y=!0;return jt.doWhile(()=>!0===y&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!s.has(b))return Yt("IndexBackiller",`Processing collection: ${b}`),this.it(e,b,u).next(O=>{u-=O,s.add(b)});y=!1})).next(()=>t-u)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,s).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.rt(u,y)).next(O=>(Yt("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,t,O))).next(()=>b.size)}))}rt(e,t){let s=e;return t.changes.forEach((u,y)=>{const b=yu(y);tl(b,s)>0&&(s=b)}),new is(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let to=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>s.writeSequenceNumber(u))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Pl(i){return null==i}function No(i){return 0===i&&1/i==-1/0}function tu(i){return"number"==typeof i&&Number.isInteger(i)&&!No(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function no(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=rl(e)),e=Xi(i.get(t),e);return rl(e)}function Xi(i,e){let t=e;const s=i.length;for(let u=0;u<s;u++){const y=i.charAt(u);switch(y){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=y}}return t}function rl(i){return i+"\x01\x01"}function Pi(i){const e=i.length;if(Nn(e>=2),2===e)return Nn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Zr.emptyPath();const t=e-2,s=[];let u="";for(let y=0;y<e;){const b=i.indexOf("\x01",y);switch((b<0||b>t)&&Dn(),i.charAt(b+1)){case"\x01":const O=i.substring(y,b);let G;0===u.length?G=O:(u+=O,G=u,u=""),s.push(G);break;case"\x10":u+=i.substring(y,b),u+="\0";break;case"\x11":u+=i.substring(y,b+1);break;default:Dn()}y=b+2}return new Zr(s)}const ia=["userId","batchId"];function cs(i,e){return[i,no(e)]}function $s(i,e,t){return[i,no(e),t]}const $a={},sa=["prefixPath","collectionGroup","readTime","documentId"],oa=["prefixPath","collectionGroup","documentId"],Nl=["collectionGroup","readTime","prefixPath","documentId"],vu=["canonicalId","targetId"],_u=["targetId","path"],nu=["path","targetId"],jo=["collectionId","parent"],T=["indexId","uid"],M=["uid","sequenceNumber"],w=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],R=["indexId","uid","orderedDocumentKey"],j=["userId","collectionPath","documentId"],ne=["userId","collectionPath","largestBatchId"],ue=["userId","collectionGroup","largestBatchId"],pt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ut=[...pt,"documentOverlays"],Sn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zn=Sn,Bn=[...zn,"indexConfiguration","indexState","indexEntries"];class ti extends Ol{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Vr(i,e){const t=fn(i);return lo.O(t.at,e)}function Is(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function B(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function H(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class te{constructor(e,t){this.comparator=e,this.root=t||vt.EMPTY}insert(e,t){return new te(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return t+s.left.size;u<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ve(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ve(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ve(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ve(this.root,e,this.comparator,!0)}}class Ve{constructor(e,t,s,u){this.isReverse=u,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=t?s(e.key,t):1,t&&u&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,t,s,u,y){this.key=e,this.value=t,this.color=null!=s?s:vt.RED,this.left=null!=u?u:vt.EMPTY,this.right=null!=y?y:vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,u,y){return new vt(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let u=this;const y=s(e,u.key);return u=y<0?u.copy(null,null,null,u.left.insert(e,t,s),null):0===y?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return vt.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1,vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(i,e,t,s,u){return this}insert(i,e,t){return new vt(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tt{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mn(this.data.getIterator())}getIteratorFrom(e){return new mn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,y=s.getNext().key;if(0!==this.comparator(u,y))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class mn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xn(i){return i.hasNext()?i.getNext():void 0}class jn{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Tt(gi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class wr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wr("Invalid base64 string: "+u):u}}(e);return new tr(t)}static fromUint8Array(e){const t=function(s){let u="";for(let y=0;y<s.length;++y)u+=String.fromCharCode(s[y]);return u}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const Io=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(i){if(Nn(!!i),"string"==typeof i){let e=0;const t=Io.exec(i);if(Nn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gi(i.seconds),nanos:Gi(i.nanos)}}function Gi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Va(i){return"string"==typeof i?tr.fromBase64String(i):tr.fromUint8Array(i)}function Ua(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wo(i){const e=i.mapValue.fields.__previous_value__;return Ua(e)?wo(e):e}function Ws(i){const e=zi(i.mapValue.fields.__local_write_time__.timestampValue);return new pi(e.seconds,e.nanos)}class ru{constructor(e,t,s,u,y,b,O,G){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=u,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=O,this.useFetchStreams=G}}class _a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}const bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ju={nullValue:"NULL_VALUE"};function _l(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ua(i)?4:iu(i)?9007199254740991:10:Dn()}function El(i,e){if(i===e)return!0;const t=_l(i);if(t!==_l(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ws(i).isEqual(Ws(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const y=zi(s.timestampValue),b=zi(u.timestampValue);return y.seconds===b.seconds&&y.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Va(i.bytesValue).isEqual(Va(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,u){return Gi(s.geoPointValue.latitude)===Gi(u.geoPointValue.latitude)&&Gi(s.geoPointValue.longitude)===Gi(u.geoPointValue.longitude)}(i,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return Gi(s.integerValue)===Gi(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const y=Gi(s.doubleValue),b=Gi(u.doubleValue);return y===b?No(y)===No(b):isNaN(y)&&isNaN(b)}return!1}(i,e);case 9:return eo(i.arrayValue.values||[],e.arrayValue.values||[],El);case 10:return function(s,u){const y=s.mapValue.fields||{},b=u.mapValue.fields||{};if(Is(y)!==Is(b))return!1;for(const O in y)if(y.hasOwnProperty(O)&&(void 0===b[O]||!El(y[O],b[O])))return!1;return!0}(i,e);default:return Dn()}var u}function il(i,e){return void 0!==(i.values||[]).find(t=>El(t,e))}function Il(i,e){if(i===e)return 0;const t=_l(i),s=_l(e);if(t!==s)return Ar(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ar(i.booleanValue,e.booleanValue);case 2:return function(u,y){const b=Gi(u.integerValue||u.doubleValue),O=Gi(y.integerValue||y.doubleValue);return b<O?-1:b>O?1:b===O?0:isNaN(b)?isNaN(O)?0:-1:1}(i,e);case 3:return Dc(i.timestampValue,e.timestampValue);case 4:return Dc(Ws(i),Ws(e));case 5:return Ar(i.stringValue,e.stringValue);case 6:return function(u,y){const b=Va(u),O=Va(y);return b.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(u,y){const b=u.split("/"),O=y.split("/");for(let G=0;G<b.length&&G<O.length;G++){const Q=Ar(b[G],O[G]);if(0!==Q)return Q}return Ar(b.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,y){const b=Ar(Gi(u.latitude),Gi(y.latitude));return 0!==b?b:Ar(Gi(u.longitude),Gi(y.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,y){const b=u.values||[],O=y.values||[];for(let G=0;G<b.length&&G<O.length;++G){const Q=Il(b[G],O[G]);if(Q)return Q}return Ar(b.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,y){if(u===bo.mapValue&&y===bo.mapValue)return 0;if(u===bo.mapValue)return 1;if(y===bo.mapValue)return-1;const b=u.fields||{},O=Object.keys(b),G=y.fields||{},Q=Object.keys(G);O.sort(),Q.sort();for(let pe=0;pe<O.length&&pe<Q.length;++pe){const at=Ar(O[pe],Q[pe]);if(0!==at)return at;const Ft=Il(b[O[pe]],G[Q[pe]]);if(0!==Ft)return Ft}return Ar(O.length,Q.length)}(i.mapValue,e.mapValue);default:throw Dn()}}function Dc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ar(i,e);const t=zi(i),s=zi(e),u=Ar(t.seconds,s.seconds);return 0!==u?u:Ar(t.nanos,s.nanos)}function sl(i){return Sc(i)}function Sc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const u=zi(s);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Va(i.bytesValue).toBase64():"referenceValue"in i?Ln.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let u="[",y=!0;for(const b of s.values||[])y?y=!1:u+=",",u+=Sc(b);return u+"]"}(i.arrayValue):"mapValue"in i?function(s){const u=Object.keys(s.fields||{}).sort();let y="{",b=!0;for(const O of u)b?b=!1:y+=",",y+=`${O}:${Sc(s.fields[O])}`;return y+"}"}(i.mapValue):Dn();var e}function Ea(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Kd(i){return!!i&&"integerValue"in i}function Tc(i){return!!i&&"arrayValue"in i}function pd(i){return!!i&&"nullValue"in i}function Ac(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xc(i){return!!i&&"mapValue"in i}function Hu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return B(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Hu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function iu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ia(i){return"nullValue"in i?ju:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ea(_a.empty(),Ln.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Dn()}function kl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ea(_a.empty(),Ln.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?bo:Dn()}function gd(i,e){const t=Il(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Mc(i,e){const t=Il(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=gi.emptyPath(),s={},u=[];e.forEach((b,O)=>{if(!t.isImmediateParentOf(O)){const G=this.getFieldsMap(t);this.applyChanges(G,s,u),s={},u=[],t=O.popLast()}b?s[O.lastSegment()]=Hu(b):u.push(O.lastSegment())});const y=this.getFieldsMap(t);this.applyChanges(y,s,u)}delete(e){const t=this.field(e.popLast());xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return El(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=t.mapValue.fields[e.get(s)];xc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,s){B(t,(u,y)=>e[u]=y);for(const u of s)delete e[u]}clone(){return new $i(Hu(this.value))}}function Eu(i){const e=[];return B(i.fields,(t,s)=>{const u=new gi([t]);if(xc(s)){const y=Eu(s.mapValue).fields;if(0===y.length)e.push(u);else for(const b of y)e.push(u.child(b))}else e.push(u)}),new jn(e)}class Vi{constructor(e,t,s,u,y,b,O){this.key=e,this.documentType=t,this.version=s,this.readTime=u,this.createTime=y,this.data=b,this.documentState=O}static newInvalidDocument(e){return new Vi(e,0,ar.min(),ar.min(),ar.min(),$i.empty(),0)}static newFoundDocument(e,t,s,u){return new Vi(e,1,t,ar.min(),s,u,0)}static newNoDocument(e,t){return new Vi(e,2,t,ar.min(),ar.min(),$i.empty(),0)}static newUnknownDocument(e,t){return new Vi(e,3,t,ar.min(),ar.min(),$i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ar.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ar.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wl{constructor(e,t){this.position=e,this.inclusive=t}}function qo(i,e,t){let s=0;for(let u=0;u<i.position.length;u++){const y=e[u],b=i.position[u];if(s=y.field.isKeyField()?Ln.comparator(Ln.fromName(b.referenceValue),t.key):Il(b,t.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return s}function zu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!El(i.position[t],e.position[t]))return!1;return!0}class Iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Gu{}class Br extends Gu{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new bu(e,t,s):"array-contains"===t?new qd(e,s):"in"===t?new Oc(e,s):"not-in"===t?new Zd(e,s):"array-contains-any"===t?new $h(e,s):new Br(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Yd(e,s):new Zu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Il(t,this.value)):null!==t&&_l(this.value)===_l(t)&&this.matchesComparison(Il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Di extends Gu{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Di(e,t)}matches(e){return wu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wu(i){return"and"===i.op}function uo(i){return"or"===i.op}function Wu(i){return Ku(i)&&wu(i)}function Ku(i){for(const e of i.filters)if(e instanceof Di)return!1;return!0}function Yu(i){if(i instanceof Br)return i.field.canonicalString()+i.op.toString()+sl(i.value);if(Wu(i))return i.filters.map(e=>Yu(e)).join(",");{const e=i.filters.map(t=>Yu(t)).join(",");return`${i.op}(${e})`}}function Co(i,e){return i instanceof Br?(t=i,(s=e)instanceof Br&&t.op===s.op&&t.field.isEqual(s.field)&&El(t.value,s.value)):i instanceof Di?function(t,s){return s instanceof Di&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((u,y,b)=>u&&Co(y,s.filters[b]),!0)}(i,e):void Dn();var t,s}function wa(i,e){const t=i.filters.concat(e);return Di.create(t,i.op)}function qu(i){return i instanceof Br?`${(e=i).field.canonicalString()} ${e.op} ${sl(e.value)}`:i instanceof Di?function(e){return e.op.toString()+" {"+e.getFilters().map(qu).join(" ,")+"}"}(i):"Filter";var e}class bu extends Br{constructor(e,t,s){super(e,t,s),this.key=Ln.fromName(s.referenceValue)}matches(e){const t=Ln.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yd extends Br{constructor(e,t){super(e,"in",t),this.keys=Xu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zu extends Br{constructor(e,t){super(e,"not-in",t),this.keys=Xu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xu(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Ln.fromName(s.referenceValue))}class qd extends Br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tc(t)&&il(t.arrayValue,this.value)}}class Oc extends Br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&il(this.value.arrayValue,t)}}class Zd extends Br{constructor(e,t){super(e,"not-in",t)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!il(this.value.arrayValue,t)}}class $h extends Br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>il(this.value.arrayValue,s))}}class Xd{constructor(e,t=null,s=[],u=[],y=null,b=null,O=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=u,this.limit=y,this.startAt=b,this.endAt=O,this.ft=null}}function Cu(i,e=null,t=[],s=[],u=null,y=null,b=null){return new Xd(i,e,t,s,u,y,b)}function Fl(i){const e=fn(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Yu(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),Pl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sl(s)).join(",")),e.ft=t}return e.ft}function ja(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Rc(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Co(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zu(i.startAt,e.startAt)&&zu(i.endAt,e.endAt)}function Ll(i){return Ln.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Du(i,e){return i.filters.filter(t=>t instanceof Br&&t.field.isEqual(e))}function Qu(i,e,t){let s=ju,u=!0;for(const y of Du(i,e)){let b=ju,O=!0;switch(y.op){case"<":case"<=":b=Ia(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,O=!1;break;case"!=":case"not-in":b=ju}gd({value:s,inclusive:u},{value:b,inclusive:O})<0&&(s=b,u=O)}if(null!==t)for(let y=0;y<i.orderBy.length;++y)if(i.orderBy[y].field.isEqual(e)){const b=t.position[y];gd({value:s,inclusive:u},{value:b,inclusive:t.inclusive})<0&&(s=b,u=t.inclusive);break}return{value:s,inclusive:u}}function Pc(i,e,t){let s=bo,u=!0;for(const y of Du(i,e)){let b=bo,O=!0;switch(y.op){case">=":case">":b=kl(y.value),O=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,O=!1;break;case"!=":case"not-in":b=bo}Mc({value:s,inclusive:u},{value:b,inclusive:O})>0&&(s=b,u=O)}if(null!==t)for(let y=0;y<i.orderBy.length;++y)if(i.orderBy[y].field.isEqual(e)){const b=t.position[y];Mc({value:s,inclusive:u},{value:b,inclusive:t.inclusive})>0&&(s=b,u=t.inclusive);break}return{value:s,inclusive:u}}class co{constructor(e,t=null,s=[],u=[],y=null,b="F",O=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=u,this.limit=y,this.limitType=b,this.startAt=O,this.endAt=G,this.dt=null,this.wt=null}}function ol(i,e,t,s,u,y,b,O){return new co(i,e,t,s,u,y,b,O)}function Ha(i){return new co(i)}function Bl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function su(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Nc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ba(i){return null!==i.collectionGroup}function ou(i){const e=fn(i);if(null===e.dt){e.dt=[];const t=Nc(e),s=su(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new Iu(t)),e.dt.push(new Iu(gi.keyField(),"asc"));else{let u=!1;for(const y of e.explicitOrderBy)e.dt.push(y),y.field.isKeyField()&&(u=!0);if(!u){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Iu(gi.keyField(),y))}}}return e.dt}function ko(i){const e=fn(i);if(!e.wt)if("F"===e.limitType)e.wt=Cu(e.path,e.collectionGroup,ou(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const y of ou(e))t.push(new Iu(y.field,"desc"===y.dir?"asc":"desc"));const s=e.endAt?new wl(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new wl(e.startAt.position,e.startAt.inclusive):null;e.wt=Cu(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}return e.wt}function kc(i,e){e.getFirstInequalityField(),Nc(i);const t=i.filters.concat([e]);return new co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Ju(i,e,t){return new co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function $l(i,e){return ja(ko(i),ko(e))&&i.limitType===e.limitType}function ec(i){return`${Fl(ko(i))}|lt:${i.limitType}`}function Vl(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>qu(s)).join(", ")}]`),Pl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sl(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sl(s)).join(",")),`Target(${t})`}(ko(i))}; limitType=${i.limitType})`}function au(i,e){return e.isFoundDocument()&&function(t,s){const u=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Ln.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,s){for(const u of ou(t))if(!u.field.isKeyField()&&null===s.data.field(u.field))return!1;return!0}(i,e)&&function(t,s){for(const u of t.filters)if(!u.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(u,y,b){const O=qo(u,y,b);return u.inclusive?O<=0:O<0}(t.startAt,ou(t),s)||t.endAt&&!function(u,y,b){const O=qo(u,y,b);return u.inclusive?O>=0:O>0}(t.endAt,ou(t),s)));var t,s}function md(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ul(i){return(e,t)=>{let s=!1;for(const u of ou(i)){const y=yd(u,e,t);if(0!==y)return y;s=s||u.field.isKeyField()}return 0}}function yd(i,e,t){const s=i.field.isKeyField()?Ln.comparator(e.key,t.key):function(u,y,b){const O=y.data.field(u),G=b.data.field(u);return null!==O&&null!==G?Il(O,G):Dn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Dn()}}class bl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[u,y]of s)if(this.equalsFn(u,e))return y}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,t]],void this.innerSize++;for(let y=0;y<u.length;y++)if(this.equalsFn(u[y][0],e))return void(u[y]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[t]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){B(this.inner,(t,s)=>{for(const[u,y]of s)e(u,y)})}isEmpty(){return H(this.inner)}size(){return this.innerSize}}const Qd=new te(Ln.comparator);function ro(){return Qd}const Cl=new te(Ln.comparator);function jl(...i){let e=Cl;for(const t of i)e=e.insert(t.key,t);return e}function Fc(i){let e=Cl;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ds(){return Ho()}function Lc(){return Ho()}function Ho(){return new bl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Bc=new te(Ln.comparator),aa=new Tt(Ln.comparator);function Rr(...i){let e=aa;for(const t of i)e=e.add(t);return e}const vd=new Tt(Ar);function Hl(){return vd}function Dl(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:No(e)?"-0":e}}function $c(i){return{integerValue:""+i}}function tc(i,e){return tu(e)?$c(e):Dl(i,e)}class nc{constructor(){this._=void 0}}function Su(i,e,t){return i instanceof za?function(s,u){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&(y.fields.__previous_value__=u),{mapValue:y}}(t,e):i instanceof lu?Sl(i,e):i instanceof al?ho(i,e):function(s,u){const y=Tu(s,u),b=ic(y)+ic(s._t);return Kd(y)&&Kd(s._t)?$c(b):Dl(s.serializer,b)}(i,e)}function rc(i,e,t){return i instanceof lu?Sl(i,e):i instanceof al?ho(i,e):t}function Tu(i,e){return i instanceof Ca?Kd(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class za extends nc{}class lu extends nc{constructor(e){super(),this.elements=e}}function Sl(i,e){const t=Vc(e);for(const s of i.elements)t.some(u=>El(u,s))||t.push(s);return{arrayValue:{values:t}}}class al extends nc{constructor(e){super(),this.elements=e}}function ho(i,e){let t=Vc(e);for(const s of i.elements)t=t.filter(u=>!El(u,s));return{arrayValue:{values:t}}}class Ca extends nc{constructor(e,t){super(),this.serializer=e,this._t=t}}function ic(i){return Gi(i.integerValue||i.doubleValue)}function Vc(i){return Tc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ga{constructor(e,t){this.field=e,this.transform=t}}class uu{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ll{}function _d(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ul(i.key,mi.none()):new Vs(i.key,i.data,mi.none());{const t=i.data,s=$i.empty();let u=new Tt(gi.comparator);for(let y of e.fields)if(!u.has(y)){let b=t.field(y);null===b&&y.length>1&&(y=y.popLast(),b=t.field(y)),null===b?s.delete(y):s.set(y,b),u=u.add(y)}return new Da(i.key,s,new jn(u.toArray()),mi.none())}}function Ed(i,e,t){i instanceof Vs?function(s,u,y){const b=s.value.clone(),O=Id(s.fieldTransforms,u,y.transformResults);b.setAll(O),u.convertToFoundDocument(y.version,b).setHasCommittedMutations()}(i,e,t):i instanceof Da?function(s,u,y){if(!sc(s.precondition,u))return void u.convertToUnknownDocument(y.version);const b=Id(s.fieldTransforms,u,y.transformResults),O=u.data;O.setAll(oc(s)),O.setAll(b),u.convertToFoundDocument(y.version,O).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xu(i,e,t,s){return i instanceof Vs?function(u,y,b,O){if(!sc(u.precondition,y))return b;const G=u.value.clone(),Q=Wa(u.fieldTransforms,O,y);return G.setAll(Q),y.convertToFoundDocument(y.version,G).setHasLocalMutations(),null}(i,e,t,s):i instanceof Da?function(u,y,b,O){if(!sc(u.precondition,y))return b;const G=Wa(u.fieldTransforms,O,y),Q=y.data;return Q.setAll(oc(u)),Q.setAll(G),y.convertToFoundDocument(y.version,Q).setHasLocalMutations(),null===b?null:b.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(pe=>pe.field))}(i,e,t,s):(b=t,sc(i.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):b);var y,b}function Jd(i,e){let t=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),y=Tu(s.transform,u||null);null!=y&&(null===t&&(t=$i.empty()),t.set(s.field,y))}return t||null}function Mu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&eo(t,s,(u,y)=>function Au(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof lu&&s instanceof lu||t instanceof al&&s instanceof al?eo(t.elements,s.elements,El):t instanceof Ca&&s instanceof Ca?El(t._t,s._t):t instanceof za&&s instanceof za);var t,s}(u,y))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Vs extends ll{constructor(e,t,s,u=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Da extends ll{constructor(e,t,s,u,y=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=u,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function oc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Id(i,e,t){const s=new Map;Nn(i.length===t.length);for(let u=0;u<t.length;u++){const y=i[u],b=y.transform,O=e.data.field(y.field);s.set(y.field,rc(b,O,t[u]))}return s}function Wa(i,e,t){const s=new Map;for(const u of i){const y=u.transform,b=t.data.field(u.field);s.set(u.field,Su(y,b,e))}return s}class ul extends ll{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uc extends ll{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jc{constructor(e,t,s,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const y=this.mutations[u];y.key.isEqual(e.key)&&Ed(y,e,s[u])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=xu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=xu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Lc();return this.mutations.forEach(u=>{const y=e.get(u.key),b=y.overlayedDocument;let O=this.applyToLocalView(b,y.mutatedFields);O=t.has(u.key)?null:O;const G=_d(b,O);null!==G&&s.set(u.key,G),b.isValidDocument()||b.convertToNoDocument(ar.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rr())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(t,s)=>Mu(t,s))&&eo(this.baseMutations,e.baseMutations,(t,s)=>Mu(t,s))}}class wd{constructor(e,t,s,u){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=u}static from(e,t,s){Nn(e.mutations.length===s.length);let u=Bc;const y=e.mutations;for(let b=0;b<y.length;b++)u=u.insert(y[b].key,s[b].version);return new wd(e,t,s,u)}}class ac{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ff{constructor(e){this.count=e}}var C,m;function v(i){switch(i){default:return Dn();case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0}}function x(i){if(void 0===i)return vr("GRPC error has no .code"),$t.UNKNOWN;switch(i){case C.OK:return $t.OK;case C.CANCELLED:return $t.CANCELLED;case C.UNKNOWN:return $t.UNKNOWN;case C.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case C.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case C.INTERNAL:return $t.INTERNAL;case C.UNAVAILABLE:return $t.UNAVAILABLE;case C.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case C.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case C.NOT_FOUND:return $t.NOT_FOUND;case C.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case C.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case C.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case C.ABORTED:return $t.ABORTED;case C.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case C.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case C.DATA_LOSS:return $t.DATA_LOSS;default:return Dn()}}(m=C||(C={}))[m.OK=0]="OK",m[m.CANCELLED=1]="CANCELLED",m[m.UNKNOWN=2]="UNKNOWN",m[m.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",m[m.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",m[m.NOT_FOUND=5]="NOT_FOUND",m[m.ALREADY_EXISTS=6]="ALREADY_EXISTS",m[m.PERMISSION_DENIED=7]="PERMISSION_DENIED",m[m.UNAUTHENTICATED=16]="UNAUTHENTICATED",m[m.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",m[m.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",m[m.ABORTED=10]="ABORTED",m[m.OUT_OF_RANGE=11]="OUT_OF_RANGE",m[m.UNIMPLEMENTED=12]="UNIMPLEMENTED",m[m.INTERNAL=13]="INTERNAL",m[m.UNAVAILABLE=14]="UNAVAILABLE",m[m.DATA_LOSS=15]="DATA_LOSS";class Z{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return fe}static getOrCreateInstance(){return null===fe&&(fe=new Z),fe}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let fe=null;class wt{constructor(e,t,s,u,y){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const u=new Map;return u.set(e,Zt.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wt(ar.min(),u,Hl(),ro(),Rr())}}class Zt{constructor(e,t,s,u,y){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Zt(s,t,Rr(),Rr(),Rr())}}class kn{constructor(e,t,s,u){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=u}}class Qn{constructor(e,t){this.targetId=e,this.Et=t}}class Er{constructor(e,t,s=tr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=u}}class _r{constructor(){this.At=0,this.Rt=lc(),this.vt=tr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Rr(),t=Rr(),s=Rr();return this.Rt.forEach((u,y)=>{switch(y){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:s=s.add(u);break;default:Dn()}}),new Zt(this.vt,this.bt,e,t,s)}xt(){this.Pt=!1,this.Rt=lc()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Ks{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=ro(),this.qt=la(),this.Ut=new Tt(Ar)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const s=this.jt(t);switch(e.state){case 0:this.Wt(t)&&s.Dt(e.resumeToken);break;case 1:s.$t(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.$t(),s.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(s.Mt(),s.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:Dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,u)=>{this.Wt(u)&&t(u)})}Jt(e){var t;const s=e.targetId,u=e.Et.count,y=this.Yt(s);if(y){const b=y.target;if(Ll(b))if(0===u){const O=new Ln(b.path);this.Qt(s,O,Vi.newNoDocument(O,ar.min()))}else Nn(1===u);else{const O=this.Zt(s);O!==u&&(this.Ht(s),this.Ut=this.Ut.add(s),null===(t=Z.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:O,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((y,b)=>{const O=this.Yt(b);if(O){if(y.current&&Ll(O.target)){const G=new Ln(O.target.path);null!==this.Lt.get(G)||this.te(b,G)||this.Qt(b,G,Vi.newNoDocument(G,e))}y.St&&(t.set(b,y.Ct()),y.xt())}});let s=Rr();this.qt.forEach((y,b)=>{let O=!0;b.forEachWhile(G=>{const Q=this.Yt(G);return!Q||2===Q.purpose||(O=!1,!1)}),O&&(s=s.add(y))}),this.Lt.forEach((y,b)=>b.setReadTime(e));const u=new wt(e,t,this.Ut,this.Lt,s);return this.Lt=ro(),this.qt=la(),this.Ut=new Tt(Ar),u}Gt(e,t){if(!this.Wt(e))return;const s=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.Wt(e))return;const u=this.jt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new _r,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Tt(Ar),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Yt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new _r),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function la(){return new te(Ln.comparator)}function lc(){return new te(Ln.comparator)}const eh={asc:"ASCENDING",desc:"DESCENDING"},th={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uh={and:"AND",or:"OR"};class Hc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nh(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jh(i,e){return cl(i,e.toTimestamp())}function hs(i){return Nn(!!i),ar.fromTimestamp(function(e){const t=zi(e);return new pi(t.seconds,t.nanos)}(i))}function zc(i,e){return(t=i,new Zr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rh(i){const e=Zr.fromString(i);return Nn(Gh(e)),e}function Ru(i,e){return zc(i.databaseId,e.path)}function Tl(i,e){const t=rh(e);if(t.get(1)!==i.databaseId.projectId)throw new rn($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new rn($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ln(Dd(t))}function ih(i,e){return zc(i.databaseId,e)}function bd(i){const e=rh(i);return 4===e.length?Zr.emptyPath():Dd(e)}function Cd(i){return new Zr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Dd(i){return Nn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Lf(i,e,t){return{name:Ru(i,e),fields:t.value.mapValue.fields}}function io(i,e,t){const s=Tl(i,e.name),u=hs(e.updateTime),y=e.createTime?hs(e.createTime):ar.min(),b=new $i({mapValue:{fields:e.fields}}),O=Vi.newFoundDocument(s,u,y,b);return t&&O.setHasCommittedMutations(),t?O.setHasCommittedMutations():O}function Sa(i,e){let t;if(e instanceof Vs)t={update:Lf(i,e.key,e.value)};else if(e instanceof ul)t={delete:Ru(i,e.key)};else if(e instanceof Da)t={update:Lf(i,e.key,e.data),updateMask:Vf(e.fieldMask)};else{if(!(e instanceof Uc))return Dn();t={verify:Ru(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,y){const b=y.transform;if(b instanceof za)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof lu)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof al)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Ca)return{fieldPath:y.field.canonicalString(),increment:b._t};throw Dn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:jh(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Dn()),t;var u}function fo(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?mi.updateTime(hs(u.updateTime)):void 0!==u.exists?mi.exists(u.exists):mi.none():mi.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(y,b){let O=null;"setToServerValue"in b?(Nn("REQUEST_TIME"===b.setToServerValue),O=new za):"appendMissingElements"in b?O=new lu(b.appendMissingElements.values||[]):"removeAllFromArray"in b?O=new al(b.removeAllFromArray.values||[]):"increment"in b?O=new Ca(y,b.increment):Dn();const G=gi.fromServerFormat(b.fieldPath);return new Ga(G,O)}(i,u)):[];var u;if(e.update){const u=Tl(i,e.update.name),y=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new jn((e.updateMask.fieldPaths||[]).map(Q=>gi.fromServerFormat(Q)));return new Da(u,y,b,t,s)}return new Vs(u,y,t,s)}if(e.delete){const u=Tl(i,e.delete);return new ul(u,t)}if(e.verify){const u=Tl(i,e.verify);return new Uc(u,t)}return Dn()}function Gc(i,e){return{documents:[ih(i,e.path)]}}function Hh(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=ih(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ih(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(G){if(0!==G.length)return sh(Di.create(G,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const y=function(G){if(0!==G.length)return G.map(Q=>{return{field:du((pe=Q).field),direction:uc(pe.dir)};var pe})}(e.orderBy);y&&(t.structuredQuery.orderBy=y);const b=(Q=e.limit,i.useProto3Json||Pl(Q)?Q:{value:Q});var Q,O,G;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function Bf(i){let e=bd(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let u=null;if(s>0){Nn(1===s);const pe=t.from[0];pe.allDescendants?u=pe.collectionId:e=e.child(pe.collectionId)}let y=[];t.where&&(y=function(pe){const at=Qp(pe);return at instanceof Di&&Wu(at)?at.getFilters():[at]}(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(pe=>{return new Iu(cc((at=pe).field),function(Ft){switch(Ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(at.direction));var at}));let O=null;t.limit&&(O=function(pe){let at;return at="object"==typeof pe?pe.value:pe,Pl(at)?null:at}(t.limit));let G=null;var pe;t.startAt&&(G=new wl((pe=t.startAt).values||[],!!pe.before));let Q=null;return t.endAt&&(Q=function(pe){return new wl(pe.values||[],!pe.before)}(t.endAt)),ol(e,u,b,y,O,"F",G,Q)}function Qp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cc(e.unaryFilter.field);return Br.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=cc(e.unaryFilter.field);return Br.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=cc(e.unaryFilter.field);return Br.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=cc(e.unaryFilter.field);return Br.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}(i):void 0!==i.fieldFilter?Br.create(cc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Di.create(e.compositeFilter.filters.map(t=>Qp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Dn()}}(e.compositeFilter.op))}(i):Dn();var e}function uc(i){return eh[i]}function Sd(i){return th[i]}function zh(i){return Uh[i]}function du(i){return{fieldPath:i.canonicalString()}}function cc(i){return gi.fromServerFormat(i.fieldPath)}function sh(i){return i instanceof Br?function(e){if("=="===e.op){if(Ac(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NAN"}};if(pd(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ac(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NAN"}};if(pd(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(e.field),op:Sd(e.op),value:e.value}}}(i):i instanceof Di?function(e){const t=e.getFilters().map(s=>sh(s));return 1===t.length?t[0]:{compositeFilter:{op:zh(e.op),filters:t}}}(i):Dn()}function Vf(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Gl{constructor(e,t,s,u,y=ar.min(),b=ar.min(),O=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=O}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dc{constructor(e){this.se=e}}function Uf(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Wc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ru(u=i.se,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:cl(u,y.version.toTimestamp()),createTime:cl(u,y.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:hc(e.version)};else{if(!e.isUnknownDocument())return Dn();s.unknownDocument={path:t.path.toArray(),version:hc(e.version)}}var u,y;return s}function Wc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function hc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wl(i){const e=new pi(i.seconds,i.nanoseconds);return ar.fromTimestamp(e)}function hu(i,e){const t=(e.baseMutations||[]).map(y=>fo(i.se,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const s=e.mutations.map(y=>fo(i.se,y)),u=pi.fromMillis(e.localWriteTimeMs);return new jc(e.batchId,u,t,s)}function fc(i){const e=Wl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Wl(i.lastLimboFreeSnapshotVersion):ar.min();let s;var u;return void 0!==i.query.documents?(Nn(1===(u=i.query).documents.length),s=ko(Ha(bd(u.documents[0])))):s=ko(Bf(i.query)),new Gl(s,i.targetId,0,i.lastListenSequenceNumber,e,t,tr.fromBase64String(i.resumeToken))}function Ou(i,e){const t=hc(e.snapshotVersion),s=hc(e.lastLimboFreeSnapshotVersion);let u;u=Ll(e.target)?Gc(i.se,e.target):Hh(i.se,e.target);const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fl(e.target),readTime:t,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Kh(i){const e=Bf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ju(e,e.limit,"L"):e}function Td(i,e){return new ac(e.largestBatchId,fo(i.se,e.overlayMutation))}function Kc(i,e){const t=e.path.lastSegment();return[i,no(e.path.popLast()),t]}function jf(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:hc(s.readTime),documentKey:no(s.documentKey.path),largestBatchId:s.largestBatchId}}class Yh{getBundleMetadata(e,t){return Yc(e).get(t).next(s=>{if(s)return{id:(u=s).bundleId,createTime:Wl(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Yc(e).put({bundleId:(s=t).id,createTime:hc(hs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Pu(e).get(t).next(s=>{if(s)return{name:(u=s).name,query:Kh(u.bundledQuery),readTime:Wl(u.readTime)};var u})}saveNamedQuery(e,t){return Pu(e).put({name:(s=t).name,readTime:hc(hs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Yc(i){return Vr(i,"bundles")}function Pu(i){return Vr(i,"namedQueries")}class Ad{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new Ad(e,t.uid||"")}getOverlay(e,t){return pc(e).get(Kc(this.userId,t)).next(s=>s?Td(this.serializer,s):null)}getOverlays(e,t){const s=ds();return jt.forEach(t,u=>this.getOverlay(e,u).next(y=>{null!==y&&s.set(u,y)})).next(()=>s)}saveOverlays(e,t,s){const u=[];return s.forEach((y,b)=>{const O=new ac(t,b);u.push(this.re(e,O))}),jt.waitFor(u)}removeOverlaysForBatchId(e,t,s){const u=new Set;t.forEach(b=>u.add(no(b.getCollectionPath())));const y=[];return u.forEach(b=>{const O=IDBKeyRange.bound([this.userId,b,s],[this.userId,b,s+1],!1,!0);y.push(pc(e).J("collectionPathOverlayIndex",O))}),jt.waitFor(y)}getOverlaysForCollection(e,t,s){const u=ds(),y=no(t),b=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,Number.POSITIVE_INFINITY],!0);return pc(e).j("collectionPathOverlayIndex",b).next(O=>{for(const G of O){const Q=Td(this.serializer,G);u.set(Q.getKey(),Q)}return u})}getOverlaysForCollectionGroup(e,t,s,u){const y=ds();let b;const O=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pc(e).Z({index:"collectionGroupOverlayIndex",range:O},(G,Q,pe)=>{const at=Td(this.serializer,Q);y.size()<u||at.largestBatchId===b?(y.set(at.getKey(),at),b=at.largestBatchId):pe.done()}).next(()=>y)}re(e,t){return pc(e).put(function(s,u,y){const[b,O,G]=Kc(u,y.mutation.key);return{userId:u,collectionPath:O,documentId:G,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Sa(s.se,y.mutation)}}(this.serializer,this.userId,t))}}function pc(i){return Vr(i,"documentOverlays")}class Nu{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Gi(e.integerValue));else if("doubleValue"in e){const s=Gi(e.doubleValue);isNaN(s)?this.ae(t,13):(this.ae(t,15),No(s)?t.he(0):t.he(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ae(t,20),"string"==typeof s?t.le(s):(t.le(`${s.seconds||""}`),t.he(s.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Va(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ae(t,45),t.he(s.latitude||0),t.he(s.longitude||0)}else"mapValue"in e?iu(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Dn()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const s=e.fields||{};this.ae(t,55);for(const u of Object.keys(s))this.fe(u,t),this.ue(s[u],t)}ge(e,t){const s=e.values||[];this.ae(t,50);for(const u of s)this.ue(u,t)}_e(e,t){this.ae(t,37),Ln.fromName(e).path.forEach(s=>{this.ae(t,60),this.ye(s,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function Jp(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function f(i){const e=64-function(t){let s=0;for(let u=0;u<8;++u){const y=Jp(255&t[u]);if(s+=y,8!==y)break}return s}(i);return Math.ceil(e/8)}Nu.pe=new Nu;class c{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Te(s.value),s=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Re(s.value),s=t.next();this.ve()}be(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Te(s);else if(s<2048)this.Te(960|s>>>6),this.Te(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Te(480|s>>>12),this.Te(128|63&s>>>6),this.Te(128|63&s);else{const u=t.codePointAt(0);this.Te(240|u>>>18),this.Te(128|63&u>>>12),this.Te(128|63&u>>>6),this.Te(128|63&u)}}this.Ee()}Pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Re(s);else if(s<2048)this.Re(960|s>>>6),this.Re(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Re(480|s>>>12),this.Re(128|63&s>>>6),this.Re(128|63&s);else{const u=t.codePointAt(0);this.Re(240|u>>>18),this.Re(128|63&u>>>12),this.Re(128|63&u>>>6),this.Re(128|63&u)}}this.ve()}Ve(e){const t=this.Se(e),s=f(t);this.De(1+s),this.buffer[this.position++]=255&s;for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ce(e){const t=this.Se(e),s=f(t);this.De(1+s),this.buffer[this.position++]=~(255&s);for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(u){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,u,!1),new Uint8Array(y.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let u=1;u<t.length;++u)t[u]^=s?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class d{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class _{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class A{constructor(){this.Me=new c,this.Fe=new d(this.Me),this.Be=new _(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class L{constructor(e,t,s,u){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=u}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new L(this.indexId,this.documentKey,this.arrayValue,s)}}function W(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=ae(i.arrayValue,e.arrayValue),0!==t?t:(t=ae(i.directionalValue,e.directionalValue),0!==t?t:Ln.comparator(i.documentKey,e.documentKey)))}function ae(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Ne{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ge=s:this.Ke.push(s)}}Qe(e){Nn(e.collectionGroup===this.collectionId);const t=Fa(e);if(void 0!==t&&!this.ze(t))return!1;const s=Bs(e);let u=0,y=0;for(;u<s.length&&this.ze(s[u]);++u);if(u===s.length)return!0;if(void 0!==this.Ge){const b=s[u];if(!this.je(this.Ge,b)||!this.We(this.Ue[y++],b))return!1;++u}for(;u<s.length;++u)if(y>=this.Ue.length||!this.We(this.Ue[y++],s[u]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function it(i){var e,t;if(Nn(i instanceof Br||i instanceof Di),i instanceof Br){if(i instanceof Oc){const u=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(y=>Br.create(i.field,"==",y)))||[];return Di.create(u,"or")}return i}const s=i.filters.map(u=>it(u));return Di.create(s,i.op)}function Jt(i){if(0===i.getFilters().length)return[];const e=mr(it(i));return Nn(Jn(e)),tn(e)||ln(e)?[e]:e.getFilters()}function tn(i){return i instanceof Br}function ln(i){return i instanceof Di&&Wu(i)}function Jn(i){return tn(i)||ln(i)||function(e){if(e instanceof Di&&uo(e)){for(const t of e.getFilters())if(!tn(t)&&!ln(t))return!1;return!0}return!1}(i)}function mr(i){if(Nn(i instanceof Br||i instanceof Di),i instanceof Br)return i;if(1===i.filters.length)return mr(i.filters[0]);const e=i.filters.map(s=>mr(s));let t=Di.create(e,i.op);return t=Ta(t),Jn(t)?t:(Nn(t instanceof Di),Nn(wu(t)),Nn(t.filters.length>1),t.filters.reduce((s,u)=>ui(s,u)))}function ui(i,e){let t;return Nn(i instanceof Br||i instanceof Di),Nn(e instanceof Br||e instanceof Di),t=i instanceof Br?e instanceof Br?Di.create([i,e],"and"):Do(i,e):e instanceof Br?Do(e,i):function(s,u){if(Nn(s.filters.length>0&&u.filters.length>0),wu(s)&&wu(u))return wa(s,u.getFilters());const y=uo(s)?s:u,b=uo(s)?u:s,O=y.filters.map(G=>ui(G,b));return Di.create(O,"or")}(i,e),Ta(t)}function Do(i,e){if(wu(e))return wa(e,i.getFilters());{const t=e.filters.map(s=>ui(i,s));return Di.create(t,"or")}}function Ta(i){if(Nn(i instanceof Br||i instanceof Di),i instanceof Br)return i;const e=i.getFilters();if(1===e.length)return Ta(e[0]);if(Ku(i))return i;const t=e.map(u=>Ta(u)),s=[];return t.forEach(u=>{u instanceof Br?s.push(u):u instanceof Di&&(u.op===i.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Di.create(s,i.op)}class fu{constructor(){this.He=new ku}addToCollectionParentIndex(e,t){return this.He.add(t),jt.resolve()}getCollectionParents(e,t){return jt.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return jt.resolve()}deleteFieldIndex(e,t){return jt.resolve()}getDocumentsMatchingTarget(e,t){return jt.resolve(null)}getIndexType(e,t){return jt.resolve(0)}getFieldIndexes(e,t){return jt.resolve([])}getNextCollectionGroupToUpdate(e){return jt.resolve(null)}getMinOffset(e,t){return jt.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return jt.resolve(is.min())}updateCollectionGroup(e,t,s){return jt.resolve()}updateIndexEntries(e,t){return jt.resolve()}}class ku{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t]||new Tt(Zr.comparator),y=!u.has(s);return this.index[t]=u.add(s),y}has(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Tt(Zr.comparator)).toArray()}}const oh=new Uint8Array(0);class Mm{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new ku,this.Ye=new bl(s=>Fl(s),(s,u)=>ja(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const s=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const y={collectionId:s,parent:no(u)};return eg(e).put(y)}return jt.resolve()}getCollectionParents(e,t){const s=[],u=IDBKeyRange.bound([t,""],[pa(t),""],!1,!0);return eg(e).j(u).next(y=>{for(const b of y){if(b.collectionId!==t)break;s.push(Pi(b.parent))}return s})}addFieldIndex(e,t){const s=ah(e),u={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var b;delete u.indexId;const y=s.add(u);if(t.indexState){const b=qh(e);return y.next(O=>{b.put(jf(O,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return y.next()}deleteFieldIndex(e,t){const s=ah(e),u=qh(e),y=xd(e);return s.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=xd(e);let u=!0;const y=new Map;return jt.forEach(this.Ze(t),b=>this.Xe(e,b).next(O=>{u&&(u=!!O),y.set(b,O)})).next(()=>{if(u){let b=Rr();const O=[];return jt.forEach(y,(G,Q)=>{var pe;Yt("IndexedDbIndexManager",`Using index ${pe=G,`id=${pe.indexId}|cg=${pe.collectionGroup}|f=${pe.fields.map(yi=>`${yi.fieldPath}:${yi.kind}`).join(",")}`} to execute ${Fl(t)}`);const at=function(yi,Xo){const Rs=Fa(Xo);if(void 0===Rs)return null;for(const Os of Du(yi,Rs.fieldPath))switch(Os.op){case"array-contains-any":return Os.value.arrayValue.values||[];case"array-contains":return[Os.value]}return null}(Q,G),Ft=function(yi,Xo){const Rs=new Map;for(const Os of Bs(Xo))for(const Za of Du(yi,Os.fieldPath))switch(Za.op){case"==":case"in":Rs.set(Os.fieldPath.canonicalString(),Za.value);break;case"not-in":case"!=":return Rs.set(Os.fieldPath.canonicalString(),Za.value),Array.from(Rs.values())}return null}(Q,G),sn=function(yi,Xo){const Rs=[];let Os=!0;for(const Za of Bs(Xo)){const hd=0===Za.kind?Qu(yi,Za.fieldPath,yi.startAt):Pc(yi,Za.fieldPath,yi.startAt);Rs.push(hd.value),Os&&(Os=hd.inclusive)}return new wl(Rs,Os)}(Q,G),Rn=function(yi,Xo){const Rs=[];let Os=!0;for(const Za of Bs(Xo)){const hd=0===Za.kind?Pc(yi,Za.fieldPath,yi.endAt):Qu(yi,Za.fieldPath,yi.endAt);Rs.push(hd.value),Os&&(Os=hd.inclusive)}return new wl(Rs,Os)}(Q,G),qn=this.tn(G,Q,sn),br=this.tn(G,Q,Rn),Ui=this.en(G,Q,Ft),Ms=this.nn(G.indexId,at,qn,sn.inclusive,br,Rn.inclusive,Ui);return jt.forEach(Ms,yi=>s.H(yi,t.limit).next(Xo=>{Xo.forEach(Rs=>{const Os=Ln.fromSegments(Rs.documentKey);b.has(Os)||(b=b.add(Os),O.push(Os))})}))}).next(()=>O)}return jt.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:Jt(Di.create(e.filters,"and")).map(s=>Cu(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,s,u,y,b,O){const G=(null!=t?t.length:1)*Math.max(s.length,y.length),Q=G/(null!=t?t.length:1),pe=[];for(let at=0;at<G;++at){const Ft=t?this.sn(t[at/Q]):oh,sn=this.rn(e,Ft,s[at%Q],u),Rn=this.on(e,Ft,y[at%Q],b),qn=O.map(br=>this.rn(e,Ft,br,!0));pe.push(...this.createRange(sn,Rn,qn))}return pe}rn(e,t,s,u){const y=new L(e,Ln.empty(),t,s);return u?y:y.qe()}on(e,t,s,u){const y=new L(e,Ln.empty(),t,s);return u?y.qe():y}Xe(e,t){const s=new Ne(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(y=>{let b=null;for(const O of y)s.Qe(O)&&(!b||O.fields.length>b.fields.length)&&(b=O);return b})}getIndexType(e,t){let s=2;const u=this.Ze(t);return jt.forEach(u,y=>this.Xe(e,y).next(b=>{b?0!==s&&b.fields.length<function(O){let G=new Tt(gi.comparator),Q=!1;for(const pe of O.filters)for(const at of pe.getFlattenedFilters())at.field.isKeyField()||("array-contains"===at.op||"array-contains-any"===at.op?Q=!0:G=G.add(at.field));for(const pe of O.orderBy)pe.field.isKeyField()||(G=G.add(pe.field));return G.size+(Q?1:0)}(y)&&(s=1):s=0})).next(()=>null!==t.limit&&u.length>1&&2===s?1:s)}un(e,t){const s=new A;for(const u of Bs(e)){const y=t.data.field(u.fieldPath);if(null==y)return null;const b=s.Le(u.kind);Nu.pe.oe(y,b)}return s.$e()}sn(e){const t=new A;return Nu.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const s=new A;return Nu.pe.oe(Ea(this.databaseId,t),s.Le(function(u){const y=Bs(u);return 0===y.length?0:y[y.length-1].kind}(e))),s.$e()}en(e,t,s){if(null===s)return[];let u=[];u.push(new A);let y=0;for(const b of Bs(e)){const O=s[y++];for(const G of u)if(this.an(t,b.fieldPath)&&Tc(O))u=this.hn(u,b,O);else{const Q=G.Le(b.kind);Nu.pe.oe(O,Q)}}return this.ln(u)}tn(e,t,s){return this.en(e,t,s.position)}ln(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}hn(e,t,s){const u=[...e],y=[];for(const b of s.arrayValue.values||[])for(const O of u){const G=new A;G.seed(O.$e()),Nu.pe.oe(b,G.Le(t.kind)),y.push(G)}return y}an(e,t){return!!e.filters.find(s=>s instanceof Br&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=ah(e),u=qh(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(y=>{const b=[];return jt.forEach(y,O=>u.get([O.indexId,this.uid]).next(G=>{b.push(function(Q,pe){const at=pe?new rs(pe.sequenceNumber,new is(Wl(pe.readTime),new Ln(Pi(pe.documentKey)),pe.largestBatchId)):rs.empty(),Ft=Q.fields.map(([sn,Rn])=>new La(gi.fromServerFormat(sn),Rn));return new Bi(Q.indexId,Q.collectionGroup,Ft,at)}(O,G))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,u)=>{const y=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==y?y:Ar(s.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const u=ah(e),y=qh(e);return this.fn(e).next(b=>u.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(O=>jt.forEach(O,G=>y.put(jf(G.indexId,this.user,b,s)))))}updateIndexEntries(e,t){const s=new Map;return jt.forEach(t,(u,y)=>{const b=s.get(u.collectionGroup);return(b?jt.resolve(b):this.getFieldIndexes(e,u.collectionGroup)).next(O=>(s.set(u.collectionGroup,O),jt.forEach(O,G=>this.dn(e,u,G).next(Q=>{const pe=this.wn(y,G);return Q.isEqual(pe)?jt.resolve():this._n(e,y,G,Q,pe)}))))})}mn(e,t,s,u){return xd(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.cn(s,t.key),documentKey:t.key.path.toArray()})}gn(e,t,s,u){return xd(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.cn(s,t.key),t.key.path.toArray()])}dn(e,t,s){const u=xd(e);let y=new Tt(W);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.cn(s,t)])},(b,O)=>{y=y.add(new L(s.indexId,t,O.arrayValue,O.directionalValue))}).next(()=>y)}wn(e,t){let s=new Tt(W);const u=this.un(t,e);if(null==u)return s;const y=Fa(t);if(null!=y){const b=e.data.field(y.fieldPath);if(Tc(b))for(const O of b.arrayValue.values||[])s=s.add(new L(t.indexId,e.key,this.sn(O),u))}else s=s.add(new L(t.indexId,e.key,oh,u));return s}_n(e,t,s,u,y){Yt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(O,G,Q,pe,at){const Ft=O.getIterator(),sn=G.getIterator();let Rn=Xn(Ft),qn=Xn(sn);for(;Rn||qn;){let br=!1,Ui=!1;if(Rn&&qn){const Ms=Q(Rn,qn);Ms<0?Ui=!0:Ms>0&&(br=!0)}else null!=Rn?Ui=!0:br=!0;br?(pe(qn),qn=Xn(sn)):Ui?(at(Rn),Rn=Xn(Ft)):(Rn=Xn(Ft),qn=Xn(sn))}}(u,y,W,O=>{b.push(this.mn(e,t,s,O))},O=>{b.push(this.gn(e,t,s,O))}),jt.waitFor(b)}fn(e){let t=1;return qh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,y)=>{y.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((b,O)=>W(b,O)).filter((b,O,G)=>!O||0!==W(b,G[O-1]));const u=[];u.push(e);for(const b of s){const O=W(b,e),G=W(b,t);if(0===O)u[0]=e.qe();else if(O>0&&G<0)u.push(b),u.push(b.qe());else if(G>0)break}u.push(t);const y=[];for(let b=0;b<u.length;b+=2){if(this.yn(u[b],u[b+1]))return[];y.push(IDBKeyRange.bound([u[b].indexId,this.uid,u[b].arrayValue,u[b].directionalValue,oh,[]],[u[b+1].indexId,this.uid,u[b+1].arrayValue,u[b+1].directionalValue,oh,[]]))}return y}yn(e,t){return W(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hf)}getMinOffset(e,t){return jt.mapArray(this.Ze(t),s=>this.Xe(e,s).next(u=>u||Dn())).next(Hf)}}function eg(i){return Vr(i,"collectionParents")}function xd(i){return Vr(i,"indexEntries")}function ah(i){return Vr(i,"indexConfiguration")}function qh(i){return Vr(i,"indexState")}function Hf(i){Nn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;tl(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new is(e.readTime,e.documentKey,t)}const lh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dl{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new dl(e,dl.DEFAULT_COLLECTION_PERCENTILE,dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rm(i,e,t){const s=i.store("mutations"),u=i.store("documentMutations"),y=[],b=IDBKeyRange.only(t.batchId);let O=0;const G=s.Z({range:b},(pe,at,Ft)=>(O++,Ft.delete()));y.push(G.next(()=>{Nn(1===O)}));const Q=[];for(const pe of t.mutations){const at=$s(e,pe.key.path,t.batchId);y.push(u.delete(at)),Q.push(pe.key)}return jt.waitFor(y).next(()=>Q)}function zf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Dn();e=i.noDocument}return JSON.stringify(e).length}dl.DEFAULT_COLLECTION_PERCENTILE=10,dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dl.DEFAULT=new dl(41943040,dl.DEFAULT_COLLECTION_PERCENTILE,dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dl.DISABLED=new dl(-1,0,0);class Gf{constructor(e,t,s,u){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=u,this.pn={}}static ie(e,t,s,u){Nn(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Gf(y,t,s,u)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gc(e).Z({index:"userMutationsIndex",range:s},(u,y,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,s,u){const y=uh(e),b=gc(e);return b.add({}).next(O=>{Nn("number"==typeof O);const G=new jc(O,t,s,u),Q=function(Ft,sn,Rn){const qn=Rn.baseMutations.map(Ui=>Sa(Ft.se,Ui)),br=Rn.mutations.map(Ui=>Sa(Ft.se,Ui));return{userId:sn,batchId:Rn.batchId,localWriteTimeMs:Rn.localWriteTime.toMillis(),baseMutations:qn,mutations:br}}(this.serializer,this.userId,G),pe=[];let at=new Tt((Ft,sn)=>Ar(Ft.canonicalString(),sn.canonicalString()));for(const Ft of u){const sn=$s(this.userId,Ft.key.path,O);at=at.add(Ft.key.path.popLast()),pe.push(b.put(Q)),pe.push(y.put(sn,$a))}return at.forEach(Ft=>{pe.push(this.indexManager.addToCollectionParentIndex(e,Ft))}),e.addOnCommittedListener(()=>{this.pn[O]=G.keys()}),jt.waitFor(pe).next(()=>G)})}lookupMutationBatch(e,t){return gc(e).get(t).next(s=>s?(Nn(s.userId===this.userId),hu(this.serializer,s)):null)}In(e,t){return this.pn[t]?jt.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const u=s.keys();return this.pn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,u=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return gc(e).Z({index:"userMutationsIndex",range:u},(b,O,G)=>{O.userId===this.userId&&(Nn(O.batchId>=s),y=hu(this.serializer,O)),G.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return gc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,y,b)=>{s=y.batchId,b.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gc(e).j("userMutationsIndex",t).next(s=>s.map(u=>hu(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=cs(this.userId,t.path),u=IDBKeyRange.lowerBound(s),y=[];return uh(e).Z({range:u},(b,O,G)=>{const[Q,pe,at]=b,Ft=Pi(pe);if(Q===this.userId&&t.path.isEqual(Ft))return gc(e).get(at).next(sn=>{if(!sn)throw Dn();Nn(sn.userId===this.userId),y.push(hu(this.serializer,sn))});G.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Tt(Ar);const u=[];return t.forEach(y=>{const b=cs(this.userId,y.path),O=IDBKeyRange.lowerBound(b),G=uh(e).Z({range:O},(Q,pe,at)=>{const[Ft,sn,Rn]=Q,qn=Pi(sn);Ft===this.userId&&y.path.isEqual(qn)?s=s.add(Rn):at.done()});u.push(G)}),jt.waitFor(u).next(()=>this.Tn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1,y=cs(this.userId,s),b=IDBKeyRange.lowerBound(y);let O=new Tt(Ar);return uh(e).Z({range:b},(G,Q,pe)=>{const[at,Ft,sn]=G,Rn=Pi(Ft);at===this.userId&&s.isPrefixOf(Rn)?Rn.length===u&&(O=O.add(sn)):pe.done()}).next(()=>this.Tn(e,O))}Tn(e,t){const s=[],u=[];return t.forEach(y=>{u.push(gc(e).get(y).next(b=>{if(null===b)throw Dn();Nn(b.userId===this.userId),s.push(hu(this.serializer,b))}))}),jt.waitFor(u).next(()=>s)}removeMutationBatch(e,t){return Rm(e.at,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),jt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return jt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return uh(e).Z({range:s},(y,b,O)=>{if(y[0]===this.userId){const G=Pi(y[1]);u.push(G)}else O.done()}).next(()=>{Nn(0===u.length)})})}containsKey(e,t){return Om(e,this.userId,t)}An(e){return Md(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Om(i,e,t){const s=cs(e,t.path),u=s[1],y=IDBKeyRange.lowerBound(s);let b=!1;return uh(i).Z({range:y,Y:!0},(O,G,Q)=>{const[pe,at,Ft]=O;pe===e&&at===u&&(b=!0),Q.done()}).next(()=>b)}function gc(i){return Vr(i,"mutations")}function uh(i){return Vr(i,"documentMutations")}function Md(i){return Vr(i,"mutationQueues")}class Ya{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ya(0)}static bn(){return new Ya(-1)}}class Ev{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const s=new Ya(t.highestTargetId);return t.highestTargetId=s.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>ar.fromTimestamp(new pi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Pn(e).next(u=>(u.highestListenSequenceNumber=t,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Vn(e,u)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(s=>(s.targetCount+=1,this.Dn(t,s),this.Vn(e,s))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ch(e).delete(t.targetId)).next(()=>this.Pn(e)).next(s=>(Nn(s.targetCount>0),s.targetCount-=1,this.Vn(e,s)))}removeTargets(e,t,s){let u=0;const y=[];return ch(e).Z((b,O)=>{const G=fc(O);G.sequenceNumber<=t&&null===s.get(G.targetId)&&(u++,y.push(this.removeTargetData(e,G)))}).next(()=>jt.waitFor(y)).next(()=>u)}forEachTarget(e,t){return ch(e).Z((s,u)=>{const y=fc(u);t(y)})}Pn(e){return Iv(e).get("targetGlobalKey").next(t=>(Nn(null!==t),t))}Vn(e,t){return Iv(e).put("targetGlobalKey",t)}Sn(e,t){return ch(e).put(Ou(this.serializer,t))}Dn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Fl(t),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return ch(e).Z({range:u,index:"queryTargetsIndex"},(b,O,G)=>{const Q=fc(O);ja(t,Q.target)&&(y=Q,G.done())}).next(()=>y)}addMatchingKeys(e,t,s){const u=[],y=Rd(e);return t.forEach(b=>{const O=no(b.path);u.push(y.put({targetId:s,path:O})),u.push(this.referenceDelegate.addReference(e,s,b))}),jt.waitFor(u)}removeMatchingKeys(e,t,s){const u=Rd(e);return jt.forEach(t,y=>{const b=no(y.path);return jt.waitFor([u.delete([s,b]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,t){const s=Rd(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),u=Rd(e);let y=Rr();return u.Z({range:s,Y:!0},(b,O,G)=>{const Q=Pi(b[1]),pe=new Ln(Q);y=y.add(pe)}).next(()=>y)}containsKey(e,t){const s=no(t.path),u=IDBKeyRange.bound([s],[pa(s)],!1,!0);let y=0;return Rd(e).Z({index:"documentTargetsIndex",Y:!0,range:u},([b,O],G,Q)=>{0!==b&&(y++,Q.done())}).next(()=>y>0)}ne(e,t){return ch(e).get(t).next(s=>s?fc(s):null)}}function ch(i){return Vr(i,"targets")}function Iv(i){return Vr(i,"targetGlobal")}function Rd(i){return Vr(i,"targetDocuments")}function tg([i,e],[t,s]){const u=Ar(i,t);return 0===u?Ar(e,s):u}class D0{constructor(e){this.Cn=e,this.buffer=new Tt(tg),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();tg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pm{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Yt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,de.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ya(s)?Yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield us(s)}yield t.$n(3e5)}))}}class Nm{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return jt.resolve(to.ct);const s=new D0(t);return this.Mn.forEachTarget(e,u=>s.kn(u.sequenceNumber)).next(()=>this.Mn.Bn(e,u=>s.kn(u))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Mn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(lh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lh):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let s,u,y,b,O,G,Q;const pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(at=>(at>this.params.maximumSequenceNumbersToCollect?(Yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${at}`),u=this.params.maximumSequenceNumbersToCollect):u=at,b=Date.now(),this.nthSequenceNumber(e,u))).next(at=>(s=at,O=Date.now(),this.removeTargets(e,s,t))).next(at=>(y=at,G=Date.now(),this.removeOrphanedDocuments(e,s))).next(at=>(Q=Date.now(),Vn()<=Ze.in.DEBUG&&Yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-pe}ms\n\tDetermined least recently used ${u} in `+(O-b)+`ms\n\tRemoved ${y} targets in `+(G-O)+`ms\n\tRemoved ${at} documents in `+(Q-G)+`ms\nTotal Duration: ${Q-pe}ms`),jt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:y,documentsRemoved:at})))}}class wv{constructor(e,t){this.db=e,this.garbageCollector=new Nm(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(u=>s+u))}qn(e){let t=0;return this.Bn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(s,u)=>t(u))}addReference(e,t,s){return Zh(e,s)}removeReference(e,t,s){return Zh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Zh(e,t)}Kn(e,t){return function(s,u){let y=!1;return Md(s).X(b=>Om(s,b,u).next(O=>(O&&(y=!0),jt.resolve(!O)))).next(()=>y)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let y=0;return this.Un(e,(b,O)=>{if(O<=t){const G=this.Kn(e,b).next(Q=>{if(!Q)return y++,s.getEntry(e,b).next(()=>(s.removeEntry(b,ar.min()),Rd(e).delete([0,no(b.path)])))});u.push(G)}}).next(()=>jt.waitFor(u)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Zh(e,t)}Un(e,t){const s=Rd(e);let u,y=to.ct;return s.Z({index:"documentTargetsIndex"},([b,O],{path:G,sequenceNumber:Q})=>{0===b?(y!==to.ct&&t(new Ln(Pi(u)),y),y=Q,u=G):y=to.ct}).next(()=>{y!==to.ct&&t(new Ln(Pi(u)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zh(i,e){return Rd(i).put((s=i.currentSequenceNumber,{targetId:0,path:no(e.path),sequenceNumber:s}));var s}class km{constructor(){this.changes=new bl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?jt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Od(e).put(s)}removeEntry(e,t,s){return Od(e).delete(function(u,y){const b=u.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Wc(y),b[b.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Gn(e,s)))}getEntry(e,t){let s=Vi.newInvalidDocument(t);return Od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Xh(t))},(u,y)=>{s=this.Qn(t,y)}).next(()=>s)}zn(e,t){let s={size:0,document:Vi.newInvalidDocument(t)};return Od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Xh(t))},(u,y)=>{s={document:this.Qn(t,y),size:zf(y)}}).next(()=>s)}getEntries(e,t){let s=ro();return this.jn(e,t,(u,y)=>{const b=this.Qn(u,y);s=s.insert(u,b)}).next(()=>s)}Wn(e,t){let s=ro(),u=new te(Ln.comparator);return this.jn(e,t,(y,b)=>{const O=this.Qn(y,b);s=s.insert(y,O),u=u.insert(y,zf(b))}).next(()=>({documents:s,Hn:u}))}jn(e,t,s){if(t.isEmpty())return jt.resolve();let u=new Tt(Lm);t.forEach(G=>u=u.add(G));const y=IDBKeyRange.bound(Xh(u.first()),Xh(u.last())),b=u.getIterator();let O=b.getNext();return Od(e).Z({index:"documentKeyIndex",range:y},(G,Q,pe)=>{const at=Ln.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;O&&Lm(O,at)<0;)s(O,null),O=b.getNext();O&&O.isEqual(at)&&(s(O,Q),O=b.hasNext()?b.getNext():null),O?pe.G(Xh(O)):pe.done()}).next(()=>{for(;O;)s(O,null),O=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,t,s,u){const y=t.path,b=[y.popLast().toArray(),y.lastSegment(),Wc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],O=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Od(e).j(IDBKeyRange.bound(b,O,!0)).next(G=>{let Q=ro();for(const pe of G){const at=this.Qn(Ln.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);at.isFoundDocument()&&(au(t,at)||u.has(at.key))&&(Q=Q.insert(at.key,at))}return Q})}getAllFromCollectionGroup(e,t,s,u){let y=ro();const b=Fm(t,s),O=Fm(t,is.max());return Od(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,O,!0)},(G,Q,pe)=>{const at=this.Qn(Ln.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);y=y.insert(at.key,at),y.size===u&&pe.done()}).next(()=>y)}newChangeBuffer(e){return new Cv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ng(e).get("remoteDocumentGlobalKey").next(t=>(Nn(!!t),t))}Gn(e,t){return ng(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const s=function Wh(i,e){let t;if(e.document)t=io(i.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ln.fromSegments(e.noDocument.path),u=Wl(e.noDocument.readTime);t=Vi.newNoDocument(s,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dn();{const s=Ln.fromSegments(e.unknownDocument.path),u=Wl(e.unknownDocument.version);t=Vi.newUnknownDocument(s,u)}}return e.readTime&&t.setReadTime(function(s){const u=new pi(s[0],s[1]);return ar.fromTimestamp(u)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(ar.min()))return s}return Vi.newInvalidDocument(e)}}function Kl(i){return new bv(i)}class Cv extends km{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new bl(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const t=[];let s=0,u=new Tt((y,b)=>Ar(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const O=this.Yn.get(y);if(t.push(this.Jn.removeEntry(e,y,O.readTime)),b.isValidDocument()){const G=Uf(this.Jn.serializer,b);u=u.add(y.path.popLast());const Q=zf(G);s+=Q-O.size,t.push(this.Jn.addEntry(e,y,G))}else if(s-=O.size,this.trackRemovals){const G=Uf(this.Jn.serializer,b.convertToNoDocument(ar.min()));t.push(this.Jn.addEntry(e,y,G))}}),u.forEach(y=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,y))}),t.push(this.Jn.updateMetadata(e,s)),jt.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(s=>(this.Yn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:s,Hn:u})=>(u.forEach((y,b)=>{this.Yn.set(y,{size:b,readTime:s.get(y).readTime})}),s))}}function ng(i){return Vr(i,"remoteDocumentGlobal")}function Od(i){return Vr(i,"remoteDocumentsV14")}function Xh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fm(i,e){const t=e.documentKey.path.toArray();return[i,Wc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Lm(i,e){const t=i.path.toArray(),s=e.path.toArray();let u=0;for(let y=0;y<t.length-2&&y<s.length-2;++y)if(u=Ar(t[y],s[y]),u)return u;return u=Ar(t.length,s.length),u||(u=Ar(t[t.length-2],s[s.length-2]),u||Ar(t[t.length-1],s[s.length-1]))}class Bm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $m{constructor(e,t,s,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==s&&xu(s.mutation,u,jn.empty(),pi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Rr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Rr()){const u=ds();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,s).next(y=>{let b=jl();return y.forEach((O,G)=>{b=b.insert(O,G.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const s=ds();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Rr()))}populateOverlays(e,t,s){const u=[];return s.forEach(y=>{t.has(y)||u.push(y)}),this.documentOverlayCache.getOverlays(e,u).next(y=>{y.forEach((b,O)=>{t.set(b,O)})})}computeViews(e,t,s,u){let y=ro();const b=Ho(),O=Ho();return t.forEach((G,Q)=>{const pe=s.get(Q.key);u.has(Q.key)&&(void 0===pe||pe.mutation instanceof Da)?y=y.insert(Q.key,Q):void 0!==pe?(b.set(Q.key,pe.mutation.getFieldMask()),xu(pe.mutation,Q,pe.mutation.getFieldMask(),pi.now())):b.set(Q.key,jn.empty())}),this.recalculateAndSaveOverlays(e,y).next(G=>(G.forEach((Q,pe)=>b.set(Q,pe)),t.forEach((Q,pe)=>{var at;return O.set(Q,new Bm(pe,null!==(at=b.get(Q))&&void 0!==at?at:null))}),O))}recalculateAndSaveOverlays(e,t){const s=Ho();let u=new te((b,O)=>b-O),y=Rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const O of b)O.keys().forEach(G=>{const Q=t.get(G);if(null===Q)return;let pe=s.get(G)||jn.empty();pe=O.applyToLocalView(Q,pe),s.set(G,pe);const at=(u.get(O.batchId)||Rr()).add(G);u=u.insert(O.batchId,at)})}).next(()=>{const b=[],O=u.getReverseIterator();for(;O.hasNext();){const G=O.getNext(),Q=G.key,pe=G.value,at=Lc();pe.forEach(Ft=>{if(!y.has(Ft)){const sn=_d(t.get(Ft),s.get(Ft));null!==sn&&at.set(Ft,sn),y=y.add(Ft)}}),b.push(this.documentOverlayCache.saveOverlays(e,Q,at))}return jt.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Ln.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ba(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var u}getNextDocuments(e,t,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,u).next(y=>{const b=u-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,u-y.size):jt.resolve(ds());let O=-1,G=y;return b.next(Q=>jt.forEach(Q,(pe,at)=>(O<at.largestBatchId&&(O=at.largestBatchId),y.get(pe)?jt.resolve():this.remoteDocumentCache.getEntry(e,pe).next(Ft=>{G=G.insert(pe,Ft)}))).next(()=>this.populateOverlays(e,Q,y)).next(()=>this.computeViews(e,G,Q,Rr())).next(pe=>({batchId:O,changes:Fc(pe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ln(t)).next(s=>{let u=jl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const u=t.collectionGroup;let y=jl();return this.indexManager.getCollectionParents(e,u).next(b=>jt.forEach(b,O=>{const G=(Q=t,pe=O.child(u),new co(pe,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,pe;return this.getDocumentsMatchingCollectionQuery(e,G,s).next(Q=>{Q.forEach((pe,at)=>{y=y.insert(pe,at)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,t,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(y=>(u=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u))).next(y=>{u.forEach((O,G)=>{const Q=G.getKey();null===y.get(Q)&&(y=y.insert(Q,Vi.newInvalidDocument(Q)))});let b=jl();return y.forEach((O,G)=>{const Q=u.get(O);void 0!==Q&&xu(Q.mutation,G,jn.empty(),pi.now()),au(t,G)&&(b=b.insert(O,G))}),b})}}class Dv{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return jt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:hs(s.createTime)}),jt.resolve()}getNamedQuery(e,t){return jt.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:Kh(s.bundledQuery),readTime:hs(s.readTime)}),jt.resolve();var s}}class Sv{constructor(){this.overlays=new te(Ln.comparator),this.ts=new Map}getOverlay(e,t){return jt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ds();return jt.forEach(t,u=>this.getOverlay(e,u).next(y=>{null!==y&&s.set(u,y)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((u,y)=>{this.re(e,t,y)}),jt.resolve()}removeOverlaysForBatchId(e,t,s){const u=this.ts.get(s);return void 0!==u&&(u.forEach(y=>this.overlays=this.overlays.remove(y)),this.ts.delete(s)),jt.resolve()}getOverlaysForCollection(e,t,s){const u=ds(),y=t.length+1,b=new Ln(t.child("")),O=this.overlays.getIteratorFrom(b);for(;O.hasNext();){const G=O.getNext().value,Q=G.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===y&&G.largestBatchId>s&&u.set(G.getKey(),G)}return jt.resolve(u)}getOverlaysForCollectionGroup(e,t,s,u){let y=new te((Q,pe)=>Q-pe);const b=this.overlays.getIterator();for(;b.hasNext();){const Q=b.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let pe=y.get(Q.largestBatchId);null===pe&&(pe=ds(),y=y.insert(Q.largestBatchId,pe)),pe.set(Q.getKey(),Q)}}const O=ds(),G=y.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((Q,pe)=>O.set(Q,pe)),!(O.size()>=u)););return jt.resolve(O)}re(e,t,s){const u=this.overlays.get(s.key);if(null!==u){const b=this.ts.get(u.largestBatchId).delete(s.key);this.ts.set(u.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new ac(t,s));let y=this.ts.get(t);void 0===y&&(y=Rr(),this.ts.set(t,y)),this.ts.set(t,y.add(s.key))}}class Yr{constructor(){this.es=new Tt(zo.ns),this.ss=new Tt(zo.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const s=new zo(e,t);this.es=this.es.add(s),this.ss=this.ss.add(s)}os(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.us(new zo(e,t))}cs(e,t){e.forEach(s=>this.removeReference(s,t))}hs(e){const t=new Ln(new Zr([])),s=new zo(t,e),u=new zo(t,e+1),y=[];return this.ss.forEachInRange([s,u],b=>{this.us(b),y.push(b.key)}),y}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ln(new Zr([])),s=new zo(t,e),u=new zo(t,e+1);let y=Rr();return this.ss.forEachInRange([s,u],b=>{y=y.add(b.key)}),y}containsKey(e){const t=new zo(e,0),s=this.es.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class zo{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ln.comparator(e.key,t.key)||Ar(e.ds,t.ds)}static rs(e,t){return Ar(e.ds,t.ds)||Ln.comparator(e.key,t.key)}}class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new Tt(zo.ns)}checkEmpty(e){return jt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,u){const y=this.ws;this.ws++;const b=new jc(y,t,s,u);this.mutationQueue.push(b);for(const O of u)this._s=this._s.add(new zo(O.key,y)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return jt.resolve(b)}lookupMutationBatch(e,t){return jt.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ys(t+1),y=u<0?0:u;return jt.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return jt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return jt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zo(t,0),u=new zo(t,Number.POSITIVE_INFINITY),y=[];return this._s.forEachInRange([s,u],b=>{const O=this.gs(b.ds);y.push(O)}),jt.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Tt(Ar);return t.forEach(u=>{const y=new zo(u,0),b=new zo(u,Number.POSITIVE_INFINITY);this._s.forEachInRange([y,b],O=>{s=s.add(O.ds)})}),jt.resolve(this.ps(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1;let y=s;Ln.isDocumentKey(y)||(y=y.child(""));const b=new zo(new Ln(y),0);let O=new Tt(Ar);return this._s.forEachWhile(G=>{const Q=G.key.path;return!!s.isPrefixOf(Q)&&(Q.length===u&&(O=O.add(G.ds)),!0)},b),jt.resolve(this.ps(O))}ps(e){const t=[];return e.forEach(s=>{const u=this.gs(s);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Nn(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let s=this._s;return jt.forEach(t.mutations,u=>{const y=new zo(u.key,t.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this._s=s})}En(e){}containsKey(e,t){const s=new zo(t,0),u=this._s.firstAfterOrEqual(s);return jt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return jt.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Um{constructor(e){this.Ts=e,this.docs=new te(Ln.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,u=this.docs.get(s),y=u?u.size:0,b=this.Ts(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return jt.resolve(s?s.document.mutableCopy():Vi.newInvalidDocument(t))}getEntries(e,t){let s=ro();return t.forEach(u=>{const y=this.docs.get(u);s=s.insert(u,y?y.document.mutableCopy():Vi.newInvalidDocument(u))}),jt.resolve(s)}getDocumentsMatchingQuery(e,t,s,u){let y=ro();const b=t.path,O=new Ln(b.child("")),G=this.docs.getIteratorFrom(O);for(;G.hasNext();){const{key:Q,value:{document:pe}}=G.getNext();if(!b.isPrefixOf(Q.path))break;Q.path.length>b.length+1||tl(yu(pe),s)<=0||(u.has(pe.key)||au(t,pe))&&(y=y.insert(pe.key,pe.mutableCopy()))}return jt.resolve(y)}getAllFromCollectionGroup(e,t,s,u){Dn()}Es(e,t){return jt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Tv(this)}getSize(e){return jt.resolve(this.size)}}class Tv extends km{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?t.push(this.Jn.addEntry(e,u)):this.Jn.removeEntry(s)}),jt.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Av{constructor(e){this.persistence=e,this.As=new bl(t=>Fl(t),ja),this.lastRemoteSnapshotVersion=ar.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Yr,this.targetCount=0,this.bs=Ya.vn()}forEachTarget(e,t){return this.As.forEach((s,u)=>t(u)),jt.resolve()}getLastRemoteSnapshotVersion(e){return jt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jt.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),jt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Rs&&(this.Rs=t),jt.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Ya(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,jt.resolve()}updateTargetData(e,t){return this.Sn(t),jt.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,jt.resolve()}removeTargets(e,t,s){let u=0;const y=[];return this.As.forEach((b,O)=>{O.sequenceNumber<=t&&null===s.get(O.targetId)&&(this.As.delete(b),y.push(this.removeMatchingKeysForTargetId(e,O.targetId)),u++)}),jt.waitFor(y).next(()=>u)}getTargetCount(e){return jt.resolve(this.targetCount)}getTargetData(e,t){const s=this.As.get(t)||null;return jt.resolve(s)}addMatchingKeys(e,t,s){return this.vs.os(t,s),jt.resolve()}removeMatchingKeys(e,t,s){this.vs.cs(t,s);const u=this.persistence.referenceDelegate,y=[];return u&&t.forEach(b=>{y.push(u.markPotentiallyOrphaned(e,b))}),jt.waitFor(y)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),jt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.vs.fs(t);return jt.resolve(s)}containsKey(e,t){return jt.resolve(this.vs.containsKey(t))}}class rg{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new to(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Av(this),this.indexManager=new fu,this.remoteDocumentCache=new Um(s=>this.referenceDelegate.Cs(s)),this.serializer=new dc(t),this.xs=new Dv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ps[e.toKey()];return s||(s=new Vm(t,this.referenceDelegate),this.Ps[e.toKey()]=s),s}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,s){Yt("MemoryPersistence","Starting transaction:",e);const u=new xv(this.Vs.next());return this.referenceDelegate.Ns(),s(u).next(y=>this.referenceDelegate.ks(u).next(()=>y)).toPromise().then(y=>(u.raiseOnCommittedEvent(),y))}Os(e,t){return jt.or(Object.values(this.Ps).map(s=>()=>s.containsKey(e,t)))}}class xv extends Ol{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.$s=new Yr,this.Ms=null}static Fs(e){return new Qh(e)}get Bs(){if(this.Ms)return this.Ms;throw Dn()}addReference(e,t,s){return this.$s.addReference(s,t),this.Bs.delete(s.toString()),jt.resolve()}removeReference(e,t,s){return this.$s.removeReference(s,t),this.Bs.add(s.toString()),jt.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),jt.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(u=>this.Bs.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(y=>this.Bs.add(y.toString()))}).next(()=>s.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jt.forEach(this.Bs,s=>{const u=Ln.fromPath(s);return this.Ls(e,u).next(y=>{y||t.removeEntry(u,ar.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(s=>{s?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return jt.or([()=>jt.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Mv{constructor(e){this.serializer=e}M(e,t,s,u){const y=new Uo("createOrUpgrade",t);var O;s<1&&u>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ia,{unique:!0}),O.createObjectStore("documentMutations"),jm(e),function(O){O.createObjectStore("remoteDocuments")}(e));let b=jt.resolve();return s<3&&u>=3&&(0!==s&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),jm(e)),b=b.next(()=>function(O){const G=O.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ar.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",Q)}(y))),s<4&&u>=4&&(0!==s&&(b=b.next(()=>function(O,G){return G.store("mutations").j().next(Q=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ia,{unique:!0});const pe=G.store("mutations"),at=Q.map(Ft=>pe.put(Ft));return jt.waitFor(at)})}(e,y))),b=b.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(b=b.next(()=>this.qs(y))),s<6&&u>=6&&(b=b.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Us(y)))),s<7&&u>=7&&(b=b.next(()=>this.Ks(y))),s<8&&u>=8&&(b=b.next(()=>this.Gs(e,y))),s<9&&u>=9&&(b=b.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(b=b.next(()=>this.Qs(y))),s<11&&u>=11&&(b=b.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(b=b.next(()=>{!function(O){const G=O.createObjectStore("documentOverlays",{keyPath:j});G.createIndex("collectionPathOverlayIndex",ne,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",ue,{unique:!1})}(e)})),s<13&&u>=13&&(b=b.next(()=>function(O){const G=O.createObjectStore("remoteDocumentsV14",{keyPath:sa});G.createIndex("documentKeyIndex",oa),G.createIndex("collectionGroupIndex",Nl)}(e)).next(()=>this.zs(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(b=b.next(()=>this.js(e,y))),s<15&&u>=15&&(b=b.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:T}).createIndex("sequenceNumberIndex",M,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:w}).createIndex("documentKeyIndex",R,{unique:!1})}(e))),b}Us(e){let t=0;return e.store("remoteDocuments").Z((s,u)=>{t+=zf(u)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(u=>jt.forEach(u,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",b).next(O=>jt.forEach(O,G=>{Nn(G.userId===y.userId);const Q=hu(this.serializer,G);return Rm(e,y.userId,Q).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const y=[];return s.Z((b,O)=>{const G=new Zr(b),Q=[0,no(G)];y.push(t.get(Q).next(pe=>pe?jt.resolve():t.put({targetId:0,path:no(G),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>jt.waitFor(y))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:jo});const s=t.store("collectionParents"),u=new ku,y=b=>{if(u.add(b)){const O=b.lastSegment(),G=b.popLast();return s.put({collectionId:O,parent:no(G)})}};return t.store("remoteDocuments").Z({Y:!0},(b,O)=>{const G=new Zr(b);return y(G.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([b,O,G],Q)=>{const pe=Pi(O);return y(pe.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((s,u)=>{const y=fc(u),b=Ou(this.serializer,y);return t.put(b)})}zs(e,t){const s=t.store("remoteDocuments"),u=[];return s.Z((y,b)=>{const O=t.store("remoteDocumentsV14"),G=(Q=b,Q.document?new Ln(Zr.fromString(Q.document.name).popFirst(5)):Q.noDocument?Ln.fromSegments(Q.noDocument.path):Q.unknownDocument?Ln.fromSegments(Q.unknownDocument.path):Dn()).path.toArray();var Q;const pe={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};u.push(O.put(pe))}).next(()=>jt.waitFor(u))}js(e,t){const s=t.store("mutations"),u=Kl(this.serializer),y=new rg(Qh.Fs,this.serializer.se);return s.j().next(b=>{const O=new Map;return b.forEach(G=>{var Q;let pe=null!==(Q=O.get(G.userId))&&void 0!==Q?Q:Rr();hu(this.serializer,G).keys().forEach(at=>pe=pe.add(at)),O.set(G.userId,pe)}),jt.forEach(O,(G,Q)=>{const pe=new we(Q),at=Ad.ie(this.serializer,pe),Ft=y.getIndexManager(pe),sn=Gf.ie(pe,this.serializer,Ft,y.referenceDelegate);return new $m(u,sn,at,Ft).recalculateAndSaveOverlaysForDocumentKeys(new ti(t,to.ct),G).next()})})}}function jm(i){i.createObjectStore("targetDocuments",{keyPath:_u}).createIndex("documentTargetsIndex",nu,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vu,{unique:!0}),i.createObjectStore("targetGlobal")}const Hm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wf{constructor(e,t,s,u,y,b,O,G,Q,pe,at=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Ws=y,this.window=b,this.document=O,this.Hs=Q,this.Js=pe,this.Ys=at,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=Ft=>Promise.resolve(),!Wf.D())throw new rn($t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wv(this,u),this.si=t+"main",this.serializer=new dc(G),this.ii=new lo(this.si,this.Ys,new Mv(this.serializer)),this.Ds=new Ev(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Kl(this.serializer),this.xs=new Yh,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===pe&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rn($t.FAILED_PRECONDITION,Hm);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new to(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var s=(0,de.Z)(function*(u){if(t.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,de.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,de.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ya(e))return Yt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return dh(e).get("owner").next(t=>jt.resolve(this._i(t)))}mi(e){return Fu(e).delete(this.clientId)}gi(){var e=this;return(0,de.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Vr(s,"clientMetadata");return u.j().next(y=>{const b=e.pi(y,18e5),O=y.filter(G=>-1===b.indexOf(G));return jt.forEach(O,G=>u.delete(G.clientId)).next(()=>O)})}).catch(()=>[]);if(e.ri)for(const s of t)e.ri.removeItem(e.Ii(s.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?jt.resolve(!0):dh(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new rn($t.FAILED_PRECONDITION,Hm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fu(e).j().next(s=>void 0===this.pi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Yt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,de.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new ti(t,to.ct);return e.di(s).next(()=>e.mi(s))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(s=>this.yi(s.updateTimeMs,t)&&!this.Ti(s.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Fu(e).j().next(t=>this.pi(t,18e5).map(s=>s.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return Gf.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mm(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Ad.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,s){Yt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",y=15===(b=this.Ys)?Bn:14===b?zn:13===b?Sn:12===b?Ut:11===b?pt:void Dn();var b;let O;return this.ii.runTransaction(e,u,y,G=>(O=new ti(G,this.Vs?this.Vs.next():to.ct),"readwrite-primary"===t?this.li(O).next(Q=>!!Q||this.fi(O)).next(Q=>{if(!Q)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new rn($t.FAILED_PRECONDITION,ao);return s(O)}).next(Q=>this.wi(O).next(()=>Q)):this.Pi(O).next(()=>s(O)))).then(G=>(O.raiseOnCommittedEvent(),G))}Pi(e){return dh(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new rn($t.FAILED_PRECONDITION,Hm)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dh(e).put("owner",t)}static D(){return lo.D()}di(e){const t=dh(e);return t.get("owner").next(s=>this._i(s)?(Yt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):jt.resolve())}yi(e,t){const s=Date.now();return!(e<s-t||e>s&&(vr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Ue.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const s=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Yt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return vr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(e){}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dh(i){return Vr(i,"owner")}function Fu(i){return Vr(i,"clientMetadata")}function ig(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Jh{constructor(e,t,s,u){this.targetId=e,this.fromCache=t,this.Vi=s,this.Si=u}static Di(e,t){let s=Rr(),u=Rr();for(const y of t.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:u=u.add(y.doc.key)}return new Jh(e,t.fromCache,s,u)}}class Kf{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,s,u){return this.Ni(e,t).next(y=>y||this.ki(e,t,u,s)).next(y=>y||this.Oi(e,t))}Ni(e,t){if(Bl(t))return jt.resolve(null);let s=ko(t);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Ju(t,null,"F"),s=ko(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(y=>{const b=Rr(...y);return this.xi.getDocuments(e,b).next(O=>this.indexManager.getMinOffset(e,s).next(G=>{const Q=this.$i(t,O);return this.Mi(t,Q,b,G.readTime)?this.Ni(e,Ju(t,null,"F")):this.Fi(e,Q,t,G)}))})))}ki(e,t,s,u){return Bl(t)||u.isEqual(ar.min())?this.Oi(e,t):this.xi.getDocuments(e,s).next(y=>{const b=this.$i(t,y);return this.Mi(t,b,s,u)?this.Oi(e,t):(Vn()<=Ze.in.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Vl(t)),this.Fi(e,b,t,Rl(u,-1)))})}$i(e,t){let s=new Tt(Ul(e));return t.forEach((u,y)=>{au(e,y)&&(s=s.add(y))}),s}Mi(e,t,s,u){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const y="F"===e.limitType?t.last():t.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(u)>0)}Oi(e,t){return Vn()<=Ze.in.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",Vl(t)),this.xi.getDocumentsMatchingQuery(e,t,is.min())}Fi(e,t,s,u){return this.xi.getDocumentsMatchingQuery(e,s,u).next(y=>(t.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Rv{constructor(e,t,s,u){this.persistence=e,this.Bi=t,this.serializer=u,this.Li=new te(Ar),this.qi=new bl(y=>Fl(y),ja),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(s)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $m(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Ov(i,e,t,s){return new Rv(i,e,t,s)}function Pv(i,e){return zm.apply(this,arguments)}function zm(){return zm=(0,de.Z)(function*(i,e){const t=fn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let u;return t.mutationQueue.getAllMutationBatches(s).next(y=>(u=y,t.Gi(e),t.mutationQueue.getAllMutationBatches(s))).next(y=>{const b=[],O=[];let G=Rr();for(const Q of u){b.push(Q.batchId);for(const pe of Q.mutations)G=G.add(pe.key)}for(const Q of y){O.push(Q.batchId);for(const pe of Q.mutations)G=G.add(pe.key)}return t.localDocuments.getDocuments(s,G).next(Q=>({Qi:Q,removedBatchIds:b,addedBatchIds:O}))})})}),zm.apply(this,arguments)}function sg(i){const e=fn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function Gm(i,e,t){let s=Rr(),u=Rr();return t.forEach(y=>s=s.add(y)),e.getEntries(i,s).next(y=>{let b=ro();return t.forEach((O,G)=>{const Q=y.get(O);G.isFoundDocument()!==Q.isFoundDocument()&&(u=u.add(O)),G.isNoDocument()&&G.version.isEqual(ar.min())?(e.removeEntry(O,G.readTime),b=b.insert(O,G)):!Q.isValidDocument()||G.version.compareTo(Q.version)>0||0===G.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(G),b=b.insert(O,G)):Yt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",Q.version," Watch version:",G.version)}),{zi:b,ji:u}})}function hh(i,e){const t=fn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fh(i,e){const t=fn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return t.Ds.getTargetData(s,e).next(y=>y?(u=y,jt.resolve(u)):t.Ds.allocateTargetId(s).next(b=>(u=new Gl(e,b,0,s.currentSequenceNumber),t.Ds.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=t.Li.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Li=t.Li.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function Pd(i,e,t){return ph.apply(this,arguments)}function ph(){return ph=(0,de.Z)(function*(i,e,t){const s=fn(i),u=s.Li.get(e),y=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",y,b=>s.persistence.referenceDelegate.removeTarget(b,u)))}catch(b){if(!ya(b))throw b;Yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}s.Li=s.Li.remove(e),s.qi.delete(u.target)}),ph.apply(this,arguments)}function Yf(i,e,t){const s=fn(i);let u=ar.min(),y=Rr();return s.persistence.runTransaction("Execute query","readonly",b=>function(O,G,Q){const pe=fn(O),at=pe.qi.get(Q);return void 0!==at?jt.resolve(pe.Li.get(at)):pe.Ds.getTargetData(G,Q)}(s,b,ko(e)).next(O=>{if(O)return u=O.lastLimboFreeSnapshotVersion,s.Ds.getMatchingKeysForTargetId(b,O.targetId).next(G=>{y=G})}).next(()=>s.Bi.getDocumentsMatchingQuery(b,e,t?u:ar.min(),t?y:Rr())).next(O=>(Km(s,md(e),O),{documents:O,Wi:y})))}function og(i,e){const t=fn(i),s=fn(t.Ds),u=t.Li.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",y=>s.ne(y,e).next(b=>b?b.target:null))}function Wm(i,e){const t=fn(i),s=t.Ui.get(e)||ar.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Ki.getAllFromCollectionGroup(u,e,Rl(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Km(t,e,u),u))}function Km(i,e,t){let s=i.Ui.get(e)||ar.min();t.forEach((u,y)=>{y.readTime.compareTo(s)>0&&(s=y.readTime)}),i.Ui.set(e,s)}function ag(){return ag=(0,de.Z)(function*(i,e,t,s){const u=fn(i);let y=Rr(),b=ro();for(const Q of t){const pe=e.Hi(Q.metadata.name);Q.document&&(y=y.add(pe));const at=e.Ji(Q);at.setReadTime(e.Yi(Q.metadata.readTime)),b=b.insert(pe,at)}const O=u.Ki.newChangeBuffer({trackRemovals:!0}),G=yield fh(u,(Q=s,ko(Ha(Zr.fromString(`__bundle__/docs/${Q}`)))));var Q;return u.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Gm(Q,O,b).next(pe=>(O.apply(Q),pe)).next(pe=>u.Ds.removeMatchingKeysForTargetId(Q,G.targetId).next(()=>u.Ds.addMatchingKeys(Q,y,G.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Q,pe.zi,pe.ji)).next(()=>pe.zi)))}),ag.apply(this,arguments)}function Fv(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,de.Z)(function*(i,e,t=Rr()){const s=yield fh(i,ko(Kh(e.bundledQuery))),u=fn(i);return u.persistence.runTransaction("Save named query","readwrite",y=>{const b=hs(e.readTime);if(s.snapshotVersion.compareTo(b)>=0)return u.xs.saveNamedQuery(y,e);const O=s.withResumeToken(tr.EMPTY_BYTE_STRING,b);return u.Li=u.Li.insert(O.targetId,O),u.Ds.updateTargetData(y,O).next(()=>u.Ds.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>u.Ds.addMatchingKeys(y,t,s.targetId)).next(()=>u.xs.saveNamedQuery(y,e))})}),qf.apply(this,arguments)}function Ym(i,e){return`firestore_clients_${i}_${e}`}function lg(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Zf(i,e){return`firestore_targets_${i}_${e}`}class gh{constructor(e,t,s,u){this.user=e,this.batchId=t,this.state=s,this.error=u}static Zi(e,t,s){const u=JSON.parse(s);let y,b="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return b&&u.error&&(b="string"==typeof u.error.message&&"string"==typeof u.error.code,b&&(y=new rn(u.error.code,u.error.message))),b?new gh(e,t,u.state,y):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xf{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let u,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(u=new rn(s.error.code,s.error.message))),y?new Xf(e,s.state,u):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let u="object"==typeof s&&s.activeTargetIds instanceof Array,y=Hl();for(let b=0;u&&b<s.activeTargetIds.length;++b)u=tu(s.activeTargetIds[b]),y=y.add(s.activeTargetIds[b]);return u?new mh(e,y):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ug{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ug(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qm{constructor(){this.activeTargetIds=Hl()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qc{constructor(e,t,s,u,y){this.window=e,this.Ws=t,this.persistenceKey=s,this.nr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new te(Ar),this.started=!1,this.ur=[];const b=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.cr=Ym(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new qm),this.hr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,de.Z)(function*(){const t=yield e.syncEngine.bi();for(const u of t){if(u===e.nr)continue;const y=e.getItem(Ym(e.persistenceKey,u));if(y){const b=mh.Zi(u,y);b&&(e.rr=e.rr.insert(b.clientId,b))}}e.mr();const s=e.storage.getItem(e.wr);if(s){const u=e.gr(s);u&&e.yr(u)}for(const u of e.ur)e.ir(u);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((s,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,s){this.Ir(e,t,s),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Zf(this.persistenceKey,e));if(s){const u=Xf.Zi(e,s);u&&(t=u.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zf(this.persistenceKey,e))}updateQueryState(e,t,s){this.Ar(e,t,s)}handleUserChange(e,t,s){t.forEach(u=>{this.Tr(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Yt("SharedClientState","READ",e,t),t}setItem(e,t){Yt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Yt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Yt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.cr)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,de.Z)(function*(){if(t.started){if(null!==s.key)if(t.hr.test(s.key)){if(null==s.newValue){const u=t.br(s.key);return t.Pr(u,null)}{const u=t.Vr(s.key,s.newValue);if(u)return t.Pr(u.clientId,u)}}else if(t.lr.test(s.key)){if(null!==s.newValue){const u=t.Sr(s.key,s.newValue);if(u)return t.Dr(u)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const u=t.Cr(s.key,s.newValue);if(u)return t.Nr(u)}}else if(s.key===t.wr){if(null!==s.newValue){const u=t.gr(s.newValue);if(u)return t.yr(u)}}else if(s.key===t.ar){const u=function(y){let b=to.ct;if(null!=y)try{const O=JSON.parse(y);Nn("number"==typeof O),b=O}catch(O){vr("SharedClientState","Failed to read sequence number from WebStorage",O)}return b}(s.newValue);u!==to.ct&&t.sequenceNumberHandler(u)}else if(s.key===t._r){const u=t.kr(s.newValue);yield Promise.all(u.map(y=>t.syncEngine.Or(y)))}}else t.ur.push(s)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,s){const u=new gh(this.currentUser,e,t,s),y=lg(this.persistenceKey,this.currentUser,e);this.setItem(y,u.Xi())}Tr(e){const t=lg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,s){const u=Zf(this.persistenceKey,e),y=new Xf(e,t,s);this.setItem(u,y.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const s=this.br(e);return mh.Zi(s,t)}Sr(e,t){const s=this.lr.exec(e),u=Number(s[1]);return gh.Zi(new we(void 0!==s[2]?s[2]:null),u,t)}Cr(e,t){const s=this.dr.exec(e),u=Number(s[1]);return Xf.Zi(u,t)}gr(e){return ug.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,de.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Yt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const s=t?this.rr.insert(e,t):this.rr.remove(e),u=this.pr(this.rr),y=this.pr(s),b=[],O=[];return y.forEach(G=>{u.has(G)||b.push(G)}),u.forEach(G=>{y.has(G)||O.push(G)}),this.syncEngine.Fr(b,O).then(()=>{this.rr=s})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=Hl();return e.forEach((s,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class cg{constructor(){this.Br=new qm,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,s){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new qm,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lv{qr(e){}shutdown(){}}class dg{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qf=null;function hg(){return null===Qf?Qf=268435456+Math.round(2147483648*Math.random()):Qf++,"0x"+Qf.toString(16)}const Jf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yh{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const Zo="WebChannelConnection";class ef extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,s,u,y){const b=hg(),O=this.ao(e,t);Yt("RestConnection",`Sending RPC '${e}' ${b}:`,O,s);const G={};return this.ho(G,u,y),this.lo(e,O,G,s).then(Q=>(Yt("RestConnection",`Received RPC '${e}' ${b}: `,Q),Q),Q=>{throw sr("RestConnection",`RPC '${e}' ${b} failed with error: `,Q,"url: ",O,"request:",s),Q})}fo(e,t,s,u,y,b){return this.co(e,t,s,u,y)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,y)=>e[y]=u),s&&s.headers.forEach((u,y)=>e[y]=u)}ao(e,t){return`${this.ro}/v1/${t}:${Jf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,u){const y=hg();return new Promise((b,O)=>{const G=new U;G.setWithCredentials(!0),G.listenOnce(gl.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Qa.NO_ERROR:const pe=G.getResponseJson();Yt(Zo,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(pe)),b(pe);break;case Qa.TIMEOUT:Yt(Zo,`RPC '${e}' ${y} timed out`),O(new rn($t.DEADLINE_EXCEEDED,"Request time out"));break;case Qa.HTTP_ERROR:const at=G.getStatus();if(Yt(Zo,`RPC '${e}' ${y} failed with status:`,at,"response text:",G.getResponseText()),at>0){let Ft=G.getResponseJson();Array.isArray(Ft)&&(Ft=Ft[0]);const sn=null==Ft?void 0:Ft.error;if(sn&&sn.status&&sn.message){const Rn=function(qn){const br=qn.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(br)>=0?br:$t.UNKNOWN}(sn.status);O(new rn(Rn,sn.message))}else O(new rn($t.UNKNOWN,"Server responded with status "+G.getStatus()))}else O(new rn($t.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{Yt(Zo,`RPC '${e}' ${y} completed.`)}});const Q=JSON.stringify(u);Yt(Zo,`RPC '${e}' ${y} sending request:`,u),G.send(t,"POST",Q,s,15)})}wo(e,t,s){const u=hg(),y=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=pl(),O=Es(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(G.xmlHttpFactory=new k({})),this.ho(G.initMessageHeaders,t,s),G.encodeInitMessageHeaders=!0;const Q=y.join("");Yt(Zo,`Creating RPC '${e}' stream ${u}: ${Q}`,G);const pe=b.createWebChannel(Q,G);let at=!1,Ft=!1;const sn=new yh({Wr:qn=>{Ft?Yt(Zo,`Not sending because RPC '${e}' stream ${u} is closed:`,qn):(at||(Yt(Zo,`Opening RPC '${e}' stream ${u} transport.`),pe.open(),at=!0),Yt(Zo,`RPC '${e}' stream ${u} sending:`,qn),pe.send(qn))},Hr:()=>pe.close()}),Rn=(qn,br,Ui)=>{qn.listen(br,Ms=>{try{Ui(Ms)}catch(yi){setTimeout(()=>{throw yi},0)}})};return Rn(pe,K.EventType.OPEN,()=>{Ft||Yt(Zo,`RPC '${e}' stream ${u} transport opened.`)}),Rn(pe,K.EventType.CLOSE,()=>{Ft||(Ft=!0,Yt(Zo,`RPC '${e}' stream ${u} transport closed`),sn.so())}),Rn(pe,K.EventType.ERROR,qn=>{Ft||(Ft=!0,sr(Zo,`RPC '${e}' stream ${u} transport errored:`,qn),sn.so(new rn($t.UNAVAILABLE,"The operation could not be completed")))}),Rn(pe,K.EventType.MESSAGE,qn=>{var br;if(!Ft){const Ui=qn.data[0];Nn(!!Ui);const yi=Ui.error||(null===(br=Ui[0])||void 0===br?void 0:br.error);if(yi){Yt(Zo,`RPC '${e}' stream ${u} received error:`,yi);const Xo=yi.status;let Rs=function(Za){const hd=C[Za];if(void 0!==hd)return x(hd)}(Xo),Os=yi.message;void 0===Rs&&(Rs=$t.INTERNAL,Os="Unknown error status: "+Xo+" with message "+yi.message),Ft=!0,sn.so(new rn(Rs,Os)),pe.close()}else Yt(Zo,`RPC '${e}' stream ${u} received:`,Ui),sn.io(Ui)}}),Rn(O,Vo.STAT_EVENT,qn=>{qn.stat===ha.PROXY?Yt(Zo,`RPC '${e}' stream ${u} detected buffering proxy`):qn.stat===ha.NOPROXY&&Yt(Zo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{sn.no()},0),sn}}function ep(){return typeof window<"u"?window:null}function Nd(){return typeof document<"u"?document:null}function vh(i){return new Hc(i,!0)}class tf{constructor(e,t,s=1e3,u=1.5,y=6e4){this.Ws=e,this.timerId=t,this._o=s,this.mo=u,this.yo=y,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),u=Math.max(0,t-s);u>0&&Yt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class tp{constructor(e,t,s,u,y,b,O,G){this.Ws=e,this.bo=s,this.Po=u,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=O,this.listener=G,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new tf(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,de.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,de.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var s=this;return(0,de.Z)(function*(){s.Bo(),s.Lo(),s.Co.cancel(),s.Vo++,4!==e?s.Co.reset():t&&t.code===$t.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),s.Co.Eo()):t&&t.code===$t.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Vo===t&&this.Ko(s,u)},s=>{e(()=>{const u=new rn($t.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Go(u)})})}Ko(e,t){const s=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{s(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(u=>{s(()=>this.Go(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}ko(){var e=this;this.state=5,this.Co.Ao((0,de.Z)(function*(){e.state=0,e.start()}))}Go(e){return Yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fg extends tp{constructor(e,t,s,u,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,u,b),this.serializer=y}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Xp(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:Dn(),u=e.targetChange.targetIds||[],y=function(G,Q){return G.useProto3Json?(Nn(void 0===Q||"string"==typeof Q),tr.fromBase64String(Q||"")):(Nn(void 0===Q||Q instanceof Uint8Array),tr.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,O=b&&function(G){const Q=void 0===G.code?$t.UNKNOWN:x(G.code);return new rn(Q,G.message||"")}(b);t=new Er(s,u,y,O||null)}else if("documentChange"in e){const s=e.documentChange,u=Tl(i,s.document.name),y=hs(s.document.updateTime),b=s.document.createTime?hs(s.document.createTime):ar.min(),O=new $i({mapValue:{fields:s.document.fields}}),G=Vi.newFoundDocument(u,y,b,O);t=new kn(s.targetIds||[],s.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const s=e.documentDelete,u=Tl(i,s.document),y=s.readTime?hs(s.readTime):ar.min(),b=Vi.newNoDocument(u,y);t=new kn([],s.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const s=e.documentRemove,u=Tl(i,s.document);t=new kn([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Dn();{const s=e.filter,y=new Ff(s.count||0);t=new Qn(s.targetId,y)}}var G;return t}(this.serializer,e),s=function(u){if(!("targetChange"in u))return ar.min();const y=u.targetChange;return y.targetIds&&y.targetIds.length?ar.min():y.readTime?hs(y.readTime):ar.min()}(e);return this.listener.zo(t,s)}jo(e){const t={};t.database=Cd(this.serializer),t.addTarget=function(u,y){let b;const O=y.target;return b=Ll(O)?{documents:Gc(u,O)}:{query:Hh(u,O)},b.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?b.resumeToken=nh(u,y.resumeToken):y.snapshotVersion.compareTo(ar.min())>0&&(b.readTime=cl(u,y.snapshotVersion.toTimestamp())),b}(this.serializer,e);const s=function $f(i,e){const t=function(s,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Fo(t)}Wo(e){const t={};t.database=Cd(this.serializer),t.removeTarget=e,this.Fo(t)}}class Zm extends tp{constructor(e,t,s,u,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,u,b),this.serializer=y,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function Ka(i,e){return i&&i.length>0?(Nn(void 0!==e),i.map(t=>function(s,u){let y=hs(s.updateTime?s.updateTime:u);return y.isEqual(ar.min())&&(y=hs(u)),new uu(y,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=hs(e.commitTime);return this.listener.Zo(s,t)}return Nn(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Cd(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Sa(this.serializer,s))};this.Fo(t)}}class pg extends class{}{constructor(e,t,s,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=u,this.eu=!1}nu(){if(this.eu)throw new rn($t.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,y])=>this.connection.co(e,t,s,u,y)).catch(u=>{throw"FirebaseError"===u.name?(u.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rn($t.UNKNOWN,u.toString())})}fo(e,t,s,u){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.fo(e,t,s,y,b,u)).catch(y=>{throw"FirebaseError"===y.name?(y.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new rn($t.UNKNOWN,y.toString())})}terminate(){this.eu=!0}}class Xm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(vr(t),this.ru=!1):Yt("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class $v{constructor(e,t,s,u,y){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=y,this._u.qr(O=>{s.enqueueAndForget((0,de.Z)(function*(){var G;mc(b)&&(Yt("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,de.Z)(function*(Q){const pe=fn(Q);pe.du.add(4),yield Eh(pe),pe.mu.set("Unknown"),pe.du.delete(4),yield _h(pe)}),function(Q){return G.apply(this,arguments)})(b))}))}),this.mu=new Xm(s,u)}}function _h(i){return np.apply(this,arguments)}function np(){return np=(0,de.Z)(function*(i){if(mc(i))for(const e of i.wu)yield e(!0)}),np.apply(this,arguments)}function Eh(i){return mg.apply(this,arguments)}function mg(){return mg=(0,de.Z)(function*(i){for(const e of i.wu)yield e(!1)}),mg.apply(this,arguments)}function Aa(i,e){const t=fn(i);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),rp(t)?nf(t):kd(t).No()&&yg(t,e))}function Ih(i,e){const t=fn(i),s=kd(t);t.fu.delete(e),s.No()&&Vv(t,e),0===t.fu.size&&(s.No()?s.$o():mc(t)&&t.mu.set("Unknown"))}function yg(i,e){i.gu.Ot(e.targetId),kd(i).jo(e)}function Vv(i,e){i.gu.Ot(e),kd(i).Wo(e)}function nf(i){i.gu=new Ks({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.fu.get(e)||null}),kd(i).start(),i.mu.ou()}function rp(i){return mc(i)&&!kd(i).xo()&&i.fu.size>0}function mc(i){return 0===fn(i).du.size}function Qm(i){i.gu=void 0}function Uv(i){return ip.apply(this,arguments)}function ip(){return ip=(0,de.Z)(function*(i){i.fu.forEach((e,t)=>{yg(i,e)})}),ip.apply(this,arguments)}function jv(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,de.Z)(function*(i,e){Qm(i),rp(i)?(i.mu.au(e),nf(i)):i.mu.set("Unknown")}),vg.apply(this,arguments)}function _g(i,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,de.Z)(function*(i,e,t){if(i.mu.set("Online"),e instanceof Er&&2===e.state&&e.cause)try{yield(s=(0,de.Z)(function*(u,y){const b=y.cause;for(const O of y.targetIds)u.fu.has(O)&&(yield u.remoteSyncer.rejectListen(O,b),u.fu.delete(O),u.gu.removeTarget(O))}),function(u,y){return s.apply(this,arguments)})(i,e)}catch(s){Yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield sp(i,s)}else if(e instanceof kn?i.gu.Kt(e):e instanceof Qn?i.gu.Jt(e):i.gu.zt(e),!t.isEqual(ar.min()))try{const s=yield sg(i.localStore);t.compareTo(s)>=0&&(yield function(u,y){const b=u.gu.Xt(y);return b.targetChanges.forEach((O,G)=>{if(O.resumeToken.approximateByteSize()>0){const Q=u.fu.get(G);Q&&u.fu.set(G,Q.withResumeToken(O.resumeToken,y))}}),b.targetMismatches.forEach(O=>{const G=u.fu.get(O);if(!G)return;u.fu.set(O,G.withResumeToken(tr.EMPTY_BYTE_STRING,G.snapshotVersion)),Vv(u,O);const Q=new Gl(G.target,O,1,G.sequenceNumber);yg(u,Q)}),u.remoteSyncer.applyRemoteEvent(b)}(i,t))}catch(s){Yt("RemoteStore","Failed to raise snapshot:",s),yield sp(i,s)}var s}),Eg.apply(this,arguments)}function sp(i,e,t){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,de.Z)(function*(i,e,t){if(!ya(e))throw e;i.du.add(1),yield Eh(i),i.mu.set("Offline"),t||(t=()=>sg(i.localStore)),i.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Yt("RemoteStore","Retrying IndexedDB access"),yield t(),i.du.delete(1),yield _h(i)}))}),Ig.apply(this,arguments)}function Jm(i,e){return e().catch(t=>sp(i,t,e))}function wh(i){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,de.Z)(function*(i){const e=fn(i),t=yc(e);let s=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;wg(e);)try{const u=yield hh(e.localStore,s);if(null===u){0===e.lu.length&&t.$o();break}s=u.batchId,Hv(e,u)}catch(u){yield sp(e,u)}ey(e)&&bg(e)}),Yl.apply(this,arguments)}function wg(i){return mc(i)&&i.lu.length<10}function Hv(i,e){i.lu.push(e);const t=yc(i);t.No()&&t.Jo&&t.Yo(e.mutations)}function ey(i){return mc(i)&&!yc(i).xo()&&i.lu.length>0}function bg(i){yc(i).start()}function zv(i){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,de.Z)(function*(i){yc(i).tu()}),Cg.apply(this,arguments)}function Gv(i){return rf.apply(this,arguments)}function rf(){return rf=(0,de.Z)(function*(i){const e=yc(i);for(const t of i.lu)e.Yo(t.mutations)}),rf.apply(this,arguments)}function Wv(i,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,de.Z)(function*(i,e,t){const s=i.lu.shift(),u=wd.from(s,e,t);yield Jm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield wh(i)}),Dg.apply(this,arguments)}function op(i,e){return sf.apply(this,arguments)}function sf(){return sf=(0,de.Z)(function*(i,e){var t;e&&yc(i).Jo&&(yield(t=(0,de.Z)(function*(s,u){if(v(y=u.code)&&y!==$t.ABORTED){const b=s.lu.shift();yc(s).Oo(),yield Jm(s,()=>s.remoteSyncer.rejectFailedWrite(b.batchId,u)),yield wh(s)}var y}),function(s,u){return t.apply(this,arguments)})(i,e)),ey(i)&&bg(i)}),sf.apply(this,arguments)}function af(i,e){return ty.apply(this,arguments)}function ty(){return ty=(0,de.Z)(function*(i,e){const t=fn(i);t.asyncQueue.verifyOperationInProgress(),Yt("RemoteStore","RemoteStore received new credentials");const s=mc(t);t.du.add(3),yield Eh(t),s&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield _h(t)}),ty.apply(this,arguments)}function lf(i,e){return ny.apply(this,arguments)}function ny(){return ny=(0,de.Z)(function*(i,e){const t=fn(i);e?(t.du.delete(2),yield _h(t)):e||(t.du.add(2),yield Eh(t),t.mu.set("Unknown"))}),ny.apply(this,arguments)}function kd(i){return i.yu||(i.yu=function(e,t,s){const u=fn(e);return u.nu(),new fg(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{Jr:Uv.bind(null,i),Zr:jv.bind(null,i),zo:_g.bind(null,i)}),i.wu.push(function(){var e=(0,de.Z)(function*(t){t?(i.yu.Oo(),rp(i)?nf(i):i.mu.set("Unknown")):(yield i.yu.stop(),Qm(i))});return function(t){return e.apply(this,arguments)}}())),i.yu}function yc(i){return i.pu||(i.pu=function(e,t,s){const u=fn(e);return u.nu(),new Zm(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{Jr:zv.bind(null,i),Zr:op.bind(null,i),Xo:Gv.bind(null,i),Zo:Wv.bind(null,i)}),i.wu.push(function(){var e=(0,de.Z)(function*(t){t?(i.pu.Oo(),yield wh(i)):(yield i.pu.stop(),i.lu.length>0&&(Yt("RemoteStore",`Stopping write stream with ${i.lu.length} pending writes`),i.lu=[]))});return function(t){return e.apply(this,arguments)}}())),i.pu}class ap{constructor(e,t,s,u,y){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=u,this.removalCallback=y,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,s,u,y){const b=Date.now()+s,O=new ap(e,t,b,u,y);return O.start(s),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rn($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(i,e){if(vr("AsyncQueue",`${e}: ${i}`),ya(i))return new rn($t.UNAVAILABLE,`${e}: ${i}`);throw i}class Zc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ln.comparator(t.key,s.key):(t,s)=>Ln.comparator(t.key,s.key),this.keyedMap=jl(),this.sortedSet=new te(this.comparator)}static emptySet(e){return new Zc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,y=s.getNext().key;if(!u.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Zc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Lu{constructor(){this.Iu=new te(Ln.comparator)}track(e){const t=e.doc.key,s=this.Iu.get(t);s?0!==e.type&&3===s.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==s.type?this.Iu=this.Iu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Iu=this.Iu.remove(t):1===e.type&&2===s.type?this.Iu=this.Iu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Dn():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,s)=>{e.push(s)}),e}}class vc{constructor(e,t,s,u,y,b,O,G,Q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=O,this.excludesMetadataChanges=G,this.hasCachedResults=Q}static fromInitialDocuments(e,t,s,u,y){const b=[];return t.forEach(O=>{b.push({type:0,doc:O})}),new vc(e,t,Zc.emptySet(t),b,s,u,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$l(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==s[u].type||!t[u].doc.isEqual(s[u].doc))return!1;return!0}}class lp{constructor(){this.Eu=void 0,this.listeners=[]}}class uf{constructor(){this.queries=new bl(e=>ec(e),$l),this.onlineState="Unknown",this.Au=new Set}}function Sg(i,e){return up.apply(this,arguments)}function up(){return up=(0,de.Z)(function*(i,e){const t=fn(i),s=e.query;let u=!1,y=t.queries.get(s);if(y||(u=!0,y=new lp),u)try{y.Eu=yield t.onListen(s)}catch(b){const O=Fd(b,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(O)}t.queries.set(s,y),y.listeners.push(e),e.Ru(t.onlineState),y.Eu&&e.vu(y.Eu)&&Ag(t)}),up.apply(this,arguments)}function cp(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,de.Z)(function*(i,e){const t=fn(i),s=e.query;let u=!1;const y=t.queries.get(s);if(y){const b=y.listeners.indexOf(e);b>=0&&(y.listeners.splice(b,1),u=0===y.listeners.length)}if(u)return t.queries.delete(s),t.onUnlisten(s)}),Tg.apply(this,arguments)}function Kv(i,e){const t=fn(i);let s=!1;for(const u of e){const b=t.queries.get(u.query);if(b){for(const O of b.listeners)O.vu(u)&&(s=!0);b.Eu=u}}s&&Ag(t)}function cf(i,e,t){const s=fn(i),u=s.queries.get(e);if(u)for(const y of u.listeners)y.onError(t);s.queries.delete(e)}function Ag(i){i.Au.forEach(e=>{e.next()})}class ry{constructor(e,t,s){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=s||{}}vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new vc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class Yv{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class iy{constructor(e){this.serializer=e}Hi(e){return Tl(this.serializer,e)}Ji(e){return e.metadata.exists?io(this.serializer,e.document,!1):Vi.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return hs(e)}}class qv{constructor(e,t,s){this.Ou=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sy(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const s=Zr.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,s=new iy(this.serializer);for(const u of e)if(u.metadata.queries){const y=s.Hi(u.metadata.name);for(const b of u.metadata.queries){const O=(t.get(b)||Rr()).add(y);t.set(b,O)}}return t}complete(){var e=this;return(0,de.Z)(function*(){const t=yield function kv(i,e,t,s){return ag.apply(this,arguments)}(e.localStore,new iy(e.serializer),e.documents,e.Ou.id),s=e.Mu(e.documents);for(const u of e.queries)yield Fv(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function sy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class oy{constructor(e){this.key=e}}class ay{constructor(e){this.key=e}}class ly{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Rr(),this.mutatedKeys=Rr(),this.Ku=Ul(e),this.Gu=new Zc(this.Ku)}get Qu(){return this.Lu}zu(e,t){const s=t?t.ju:new Lu,u=t?t.Gu:this.Gu;let y=t?t.mutatedKeys:this.mutatedKeys,b=u,O=!1;const G="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Q="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((pe,at)=>{const Ft=u.get(pe),sn=au(this.query,at)?at:null,Rn=!!Ft&&this.mutatedKeys.has(Ft.key),qn=!!sn&&(sn.hasLocalMutations||this.mutatedKeys.has(sn.key)&&sn.hasCommittedMutations);let br=!1;Ft&&sn?Ft.data.isEqual(sn.data)?Rn!==qn&&(s.track({type:3,doc:sn}),br=!0):this.Wu(Ft,sn)||(s.track({type:2,doc:sn}),br=!0,(G&&this.Ku(sn,G)>0||Q&&this.Ku(sn,Q)<0)&&(O=!0)):!Ft&&sn?(s.track({type:0,doc:sn}),br=!0):Ft&&!sn&&(s.track({type:1,doc:Ft}),br=!0,(G||Q)&&(O=!0)),br&&(sn?(b=b.add(sn),y=qn?y.add(pe):y.delete(pe)):(b=b.delete(pe),y=y.delete(pe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const pe="F"===this.query.limitType?b.last():b.first();b=b.delete(pe.key),y=y.delete(pe.key),s.track({type:1,doc:pe})}return{Gu:b,ju:s,Mi:O,mutatedKeys:y}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const y=e.ju.Tu();y.sort((Q,pe)=>function(at,Ft){const sn=Rn=>{switch(Rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return sn(at)-sn(Ft)}(Q.type,pe.type)||this.Ku(Q.doc,pe.doc)),this.Hu(s);const b=t?this.Ju():[],O=0===this.Uu.size&&this.current?1:0,G=O!==this.qu;return this.qu=O,0!==y.length||G?{snapshot:new vc(this.query,e.Gu,u,y,e.mutatedKeys,0===O,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),Yu:b}:{Yu:b}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Lu,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Rr(),this.Gu.forEach(s=>{this.Zu(s.key)&&(this.Uu=this.Uu.add(s.key))});const t=[];return e.forEach(s=>{this.Uu.has(s)||t.push(new ay(s))}),this.Uu.forEach(s=>{e.has(s)||t.push(new oy(s))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Rr();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return vc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class uy{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class xg{constructor(e){this.key=e,this.ec=!1}}class Zv{constructor(e,t,s,u,y,b){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=u,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.nc={},this.sc=new bl(O=>ec(O),$l),this.ic=new Map,this.rc=new Set,this.oc=new te(Ln.comparator),this.uc=new Map,this.cc=new Yr,this.ac={},this.hc=new Map,this.lc=Ya.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Mg(i,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,de.Z)(function*(i,e){const t=Hg(i);let s,u;const y=t.sc.get(e);if(y)s=y.targetId,t.sharedClientState.addLocalQueryTarget(s),u=y.view.tc();else{const b=yield fh(t.localStore,ko(e));t.isPrimaryClient&&Aa(t.remoteStore,b);const O=t.sharedClientState.addLocalQueryTarget(b.targetId);s=b.targetId,u=yield Og(t,e,s,"current"===O,b.resumeToken)}return u}),Rg.apply(this,arguments)}function Og(i,e,t,s,u){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,de.Z)(function*(i,e,t,s,u){i.dc=(at,Ft,sn)=>{return(Rn=(0,de.Z)(function*(qn,br,Ui,Ms){let yi=br.view.zu(Ui);yi.Mi&&(yi=yield Yf(qn.localStore,br.query,!1).then(({documents:Os})=>br.view.zu(Os,yi)));const Xo=Ms&&Ms.targetChanges.get(br.targetId),Rs=br.view.applyChanges(yi,qn.isPrimaryClient,Xo);return Ch(qn,br.targetId,Rs.Yu),Rs.snapshot}),function(qn,br,Ui,Ms){return Rn.apply(this,arguments)})(i,at,Ft,sn);var Rn};const y=yield Yf(i.localStore,e,!0),b=new ly(e,y.Wi),O=b.zu(y.documents),G=Zt.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,u),Q=b.applyChanges(O,i.isPrimaryClient,G);Ch(i,t,Q.Yu);const pe=new uy(e,t,b);return i.sc.set(e,pe),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),Q.snapshot}),Pg.apply(this,arguments)}function Xv(i,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,de.Z)(function*(i,e){const t=fn(i),s=t.sc.get(e),u=t.ic.get(s.targetId);if(u.length>1)return t.ic.set(s.targetId,u.filter(y=>!$l(y,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Pd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ih(t.remoteStore,s.targetId),So(t,s.targetId)}).catch(us))):(So(t,s.targetId),yield Pd(t.localStore,s.targetId,!0))}),Ng.apply(this,arguments)}function kg(){return kg=(0,de.Z)(function*(i,e,t){const s=zg(i);try{const u=yield function(y,b){const O=fn(y),G=pi.now(),Q=b.reduce((Ft,sn)=>Ft.add(sn.key),Rr());let pe,at;return O.persistence.runTransaction("Locally write mutations","readwrite",Ft=>{let sn=ro(),Rn=Rr();return O.Ki.getEntries(Ft,Q).next(qn=>{sn=qn,sn.forEach((br,Ui)=>{Ui.isValidDocument()||(Rn=Rn.add(br))})}).next(()=>O.localDocuments.getOverlayedDocuments(Ft,sn)).next(qn=>{pe=qn;const br=[];for(const Ui of b){const Ms=Jd(Ui,pe.get(Ui.key).overlayedDocument);null!=Ms&&br.push(new Da(Ui.key,Ms,Eu(Ms.value.mapValue),mi.exists(!0)))}return O.mutationQueue.addMutationBatch(Ft,G,br,b)}).next(qn=>{at=qn;const br=qn.applyToLocalDocumentSet(pe,Rn);return O.documentOverlayCache.saveOverlays(Ft,qn.batchId,br)})}).then(()=>({batchId:at.batchId,changes:Fc(pe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(y,b,O){let G=y.ac[y.currentUser.toKey()];G||(G=new te(Ar)),G=G.insert(b,O),y.ac[y.currentUser.toKey()]=G}(s,u.batchId,t),yield hl(s,u.changes),yield wh(s.remoteStore)}catch(u){const y=Fd(u,"Failed to persist write");t.reject(y)}}),kg.apply(this,arguments)}function Fg(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,de.Z)(function*(i,e){const t=fn(i);try{const s=yield function S0(i,e){const t=fn(i),s=e.snapshotVersion;let u=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=t.Ki.newChangeBuffer({trackRemovals:!0});u=t.Li;const O=[];e.targetChanges.forEach((pe,at)=>{const Ft=u.get(at);if(!Ft)return;O.push(t.Ds.removeMatchingKeys(y,pe.removedDocuments,at).next(()=>t.Ds.addMatchingKeys(y,pe.addedDocuments,at)));let sn=Ft.withSequenceNumber(y.currentSequenceNumber);var Rn,qn,br;e.targetMismatches.has(at)?sn=sn.withResumeToken(tr.EMPTY_BYTE_STRING,ar.min()).withLastLimboFreeSnapshotVersion(ar.min()):pe.resumeToken.approximateByteSize()>0&&(sn=sn.withResumeToken(pe.resumeToken,s)),u=u.insert(at,sn),qn=sn,br=pe,(0===(Rn=Ft).resumeToken.approximateByteSize()||qn.snapshotVersion.toMicroseconds()-Rn.snapshotVersion.toMicroseconds()>=3e8||br.addedDocuments.size+br.modifiedDocuments.size+br.removedDocuments.size>0)&&O.push(t.Ds.updateTargetData(y,sn))});let G=ro(),Q=Rr();if(e.documentUpdates.forEach(pe=>{e.resolvedLimboDocuments.has(pe)&&O.push(t.persistence.referenceDelegate.updateLimboDocument(y,pe))}),O.push(Gm(y,b,e.documentUpdates).next(pe=>{G=pe.zi,Q=pe.ji})),!s.isEqual(ar.min())){const pe=t.Ds.getLastRemoteSnapshotVersion(y).next(at=>t.Ds.setTargetsMetadata(y,y.currentSequenceNumber,s));O.push(pe)}return jt.waitFor(O).next(()=>b.apply(y)).next(()=>t.localDocuments.getLocalViewOfDocuments(y,G,Q)).next(()=>G)}).then(y=>(t.Li=u,y))}(t.localStore,e);e.targetChanges.forEach((u,y)=>{const b=t.uc.get(y);b&&(Nn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?b.ec=!0:u.modifiedDocuments.size>0?Nn(b.ec):u.removedDocuments.size>0&&(Nn(b.ec),b.ec=!1))}),yield hl(t,s,e)}catch(s){yield us(s)}}),dp.apply(this,arguments)}function cy(i,e,t){const s=fn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const u=[];s.sc.forEach((y,b)=>{const O=b.view.Ru(e);O.snapshot&&u.push(O.snapshot)}),function(y,b){const O=fn(y);O.onlineState=b;let G=!1;O.queries.forEach((Q,pe)=>{for(const at of pe.listeners)at.Ru(b)&&(G=!0)}),G&&Ag(O)}(s.eventManager,e),u.length&&s.nc.zo(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function T0(i,e,t){return hp.apply(this,arguments)}function hp(){return hp=(0,de.Z)(function*(i,e,t){const s=fn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const u=s.uc.get(e),y=u&&u.key;if(y){let b=new te(Ln.comparator);b=b.insert(y,Vi.newNoDocument(y,ar.min()));const O=Rr().add(y),G=new wt(ar.min(),new Map,new Tt(Ar),b,O);yield Fg(s,G),s.oc=s.oc.remove(y),s.uc.delete(e),df(s)}else yield Pd(s.localStore,e,!1).then(()=>So(s,e,t)).catch(us)}),hp.apply(this,arguments)}function A0(i,e){return bh.apply(this,arguments)}function bh(){return bh=(0,de.Z)(function*(i,e){const t=fn(i),s=e.batch.batchId;try{const u=yield function Nv(i,e){const t=fn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),y=t.Ki.newChangeBuffer({trackRemovals:!0});return function(b,O,G,Q){const pe=G.batch,at=pe.keys();let Ft=jt.resolve();return at.forEach(sn=>{Ft=Ft.next(()=>Q.getEntry(O,sn)).next(Rn=>{const qn=G.docVersions.get(sn);Nn(null!==qn),Rn.version.compareTo(qn)<0&&(pe.applyToRemoteDocument(Rn,G),Rn.isValidDocument()&&(Rn.setReadTime(G.commitVersion),Q.addEntry(Rn)))})}),Ft.next(()=>b.mutationQueue.removeMutationBatch(O,pe))}(t,s,e,y).next(()=>y.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let O=Rr();for(let G=0;G<b.mutationResults.length;++G)b.mutationResults[G].transformResults.length>0&&(O=O.add(b.batch.mutations[G].key));return O}(e))).next(()=>t.localDocuments.getDocuments(s,u))})}(t.localStore,e);Ld(t,s,null),ql(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield hl(t,u)}catch(u){yield us(u)}}),bh.apply(this,arguments)}function Jv(i,e,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,de.Z)(function*(i,e,t){const s=fn(i);try{const u=yield function(y,b){const O=fn(y);return O.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let Q;return O.mutationQueue.lookupMutationBatch(G,b).next(pe=>(Nn(null!==pe),Q=pe.keys(),O.mutationQueue.removeMutationBatch(G,pe))).next(()=>O.mutationQueue.performConsistencyCheck(G)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(G,Q,b)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,Q)).next(()=>O.localDocuments.getDocuments(G,Q))})}(s.localStore,e);Ld(s,e,t),ql(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield hl(s,u)}catch(u){yield us(u)}}),Lg.apply(this,arguments)}function $g(){return $g=(0,de.Z)(function*(i,e){const t=fn(i);mc(t.remoteStore)||Yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const b=fn(y);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>b.mutationQueue.getHighestUnacknowledgedBatchId(O))}(t.localStore);if(-1===s)return void e.resolve();const u=t.hc.get(s)||[];u.push(e),t.hc.set(s,u)}catch(s){const u=Fd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),$g.apply(this,arguments)}function ql(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Ld(i,e,t){const s=fn(i);let u=s.ac[s.currentUser.toKey()];if(u){const y=u.get(e);y&&(t?y.reject(t):y.resolve(),u=u.remove(e)),s.ac[s.currentUser.toKey()]=u}}function So(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ic.get(e))i.sc.delete(s),t&&i.nc.wc(s,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.hs(e).forEach(s=>{i.cc.containsKey(s)||Xc(i,s)})}function Xc(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Ih(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),df(i))}function Ch(i,e,t){for(const s of t)s instanceof oy?(i.cc.addReference(s.key,e),Zl(i,s)):s instanceof ay?(Yt("SyncEngine","Document no longer in limbo: "+s.key),i.cc.removeReference(s.key,e),i.cc.containsKey(s.key)||Xc(i,s.key)):Dn()}function Zl(i,e){const t=e.key,s=t.path.canonicalString();i.oc.get(t)||i.rc.has(s)||(Yt("SyncEngine","New document in limbo: "+t),i.rc.add(s),df(i))}function df(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new Ln(Zr.fromString(e)),s=i.lc.next();i.uc.set(s,new xg(t)),i.oc=i.oc.insert(t,s),Aa(i.remoteStore,new Gl(ko(Ha(t.path)),s,2,to.ct))}}function hl(i,e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,de.Z)(function*(i,e,t){const s=fn(i),u=[],y=[],b=[];var O;s.sc.isEmpty()||(s.sc.forEach((O,G)=>{b.push(s.dc(G,e,t).then(Q=>{if((Q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(G.targetId,null!=Q&&Q.fromCache?"not-current":"current"),Q){u.push(Q);const pe=Jh.Di(G.targetId,Q);y.push(pe)}}))}),yield Promise.all(b),s.nc.zo(u),yield(O=(0,de.Z)(function*(G,Q){const pe=fn(G);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",at=>jt.forEach(Q,Ft=>jt.forEach(Ft.Vi,sn=>pe.persistence.referenceDelegate.addReference(at,Ft.targetId,sn)).next(()=>jt.forEach(Ft.Si,sn=>pe.persistence.referenceDelegate.removeReference(at,Ft.targetId,sn)))))}catch(at){if(!ya(at))throw at;Yt("LocalStore","Failed to update sequence numbers: "+at)}for(const at of Q){const Ft=at.targetId;if(!at.fromCache){const sn=pe.Li.get(Ft),qn=sn.withLastLimboFreeSnapshotVersion(sn.snapshotVersion);pe.Li=pe.Li.insert(Ft,qn)}}}),function(G,Q){return O.apply(this,arguments)})(s.localStore,y))}),Qc.apply(this,arguments)}function Dh(i,e){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,de.Z)(function*(i,e){const t=fn(i);if(!t.currentUser.isEqual(e)){Yt("SyncEngine","User change. New user:",e.toKey());const s=yield Pv(t.localStore,e);t.currentUser=e,(u=t).hc.forEach(b=>{b.forEach(O=>{O.reject(new rn($t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield hl(t,s.Qi)}var u}),Jc.apply(this,arguments)}function Sh(i,e){const t=fn(i),s=t.uc.get(e);if(s&&s.ec)return Rr().add(s.key);{let u=Rr();const y=t.ic.get(e);if(!y)return u;for(const b of y){const O=t.sc.get(b);u=u.unionWith(O.view.Qu)}return u}}function Th(i,e){return ed.apply(this,arguments)}function ed(){return ed=(0,de.Z)(function*(i,e){const t=fn(i),s=yield Yf(t.localStore,e.query,!0),u=e.view.Xu(s);return t.isPrimaryClient&&Ch(t,e.targetId,u.Yu),u}),ed.apply(this,arguments)}function Ah(i,e){return td.apply(this,arguments)}function td(){return td=(0,de.Z)(function*(i,e){const t=fn(i);return Wm(t.localStore,e).then(s=>hl(t,s))}),td.apply(this,arguments)}function dy(i,e,t,s){return fp.apply(this,arguments)}function fp(){return fp=(0,de.Z)(function*(i,e,t,s){const u=fn(i),y=yield function(b,O){const G=fn(b),Q=fn(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",pe=>Q.In(pe,O).next(at=>at?G.localDocuments.getDocuments(pe,at):jt.resolve(null)))}(u.localStore,e);var O;null!==y?("pending"===t?yield wh(u.remoteStore):"acknowledged"===t||"rejected"===t?(Ld(u,e,s||null),ql(u,e),O=e,fn(fn(u.localStore).mutationQueue).En(O)):Dn(),yield hl(u,y)):Yt("SyncEngine","Cannot apply mutation batch with id: "+e)}),fp.apply(this,arguments)}function pp(){return pp=(0,de.Z)(function*(i,e){const t=fn(i);if(Hg(t),zg(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),u=yield Vg(t,s.toArray());t.fc=!0,yield lf(t.remoteStore,!0);for(const y of u)Aa(t.remoteStore,y)}else if(!1===e&&!1!==t.fc){const s=[];let u=Promise.resolve();t.ic.forEach((y,b)=>{t.sharedClientState.isLocalQueryTarget(b)?s.push(b):u=u.then(()=>(So(t,b),Pd(t.localStore,b,!0))),Ih(t.remoteStore,b)}),yield u,yield Vg(t,s),function(y){const b=fn(y);b.uc.forEach((O,G)=>{Ih(b.remoteStore,G)}),b.cc.ls(),b.uc=new Map,b.oc=new te(Ln.comparator)}(t),t.fc=!1,yield lf(t.remoteStore,!1)}}),pp.apply(this,arguments)}function Vg(i,e,t){return gp.apply(this,arguments)}function gp(){return gp=(0,de.Z)(function*(i,e,t){const s=fn(i),u=[],y=[];for(const b of e){let O;const G=s.ic.get(b);if(G&&0!==G.length){O=yield fh(s.localStore,ko(G[0]));for(const Q of G){const pe=s.sc.get(Q),at=yield Th(s,pe);at.snapshot&&y.push(at.snapshot)}}else{const Q=yield og(s.localStore,b);O=yield fh(s.localStore,Q),yield Og(s,Ug(Q),b,!1,O.resumeToken)}u.push(O)}return s.nc.zo(y),u}),gp.apply(this,arguments)}function Ug(i){return ol(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function fy(i){const e=fn(i);return fn(fn(e.localStore).persistence).bi()}function py(i,e,t,s){return jg.apply(this,arguments)}function jg(){return jg=(0,de.Z)(function*(i,e,t,s){const u=fn(i);if(u.fc)return void Yt("SyncEngine","Ignoring unexpected query state notification.");const y=u.ic.get(e);if(y&&y.length>0)switch(t){case"current":case"not-current":{const b=yield Wm(u.localStore,md(y[0])),O=wt.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,tr.EMPTY_BYTE_STRING);yield hl(u,b,O);break}case"rejected":yield Pd(u.localStore,e,!0),So(u,e,s);break;default:Dn()}}),jg.apply(this,arguments)}function e_(i,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,de.Z)(function*(i,e,t){const s=Hg(i);if(s.fc){for(const u of e){if(s.ic.has(u)){Yt("SyncEngine","Adding an already active target "+u);continue}const y=yield og(s.localStore,u),b=yield fh(s.localStore,y);yield Og(s,Ug(y),b.targetId,!1,b.resumeToken),Aa(s.remoteStore,b)}for(const u of t)s.ic.has(u)&&(yield Pd(s.localStore,u,!1).then(()=>{Ih(s.remoteStore,u),So(s,u)}).catch(us))}}),mp.apply(this,arguments)}function Hg(i){const e=fn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T0.bind(null,e),e.nc.zo=Kv.bind(null,e.eventManager),e.nc.wc=cf.bind(null,e.eventManager),e}function zg(i){const e=fn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jv.bind(null,e),e}class xh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=vh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ov(this.persistence,new Kf,e.initialUser,this.serializer)}createPersistence(e){return new rg(Qh.Fs,this.serializer)}createSharedClientState(e){return new cg}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wg extends xh{constructor(e,t,s){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,de.Z)(function*(){yield t().call(s,e),yield s.mc.initialize(s,e),yield zg(s.mc.syncEngine),yield wh(s.mc.remoteStore),yield s.persistence.hi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ov(this.persistence,new Kf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Pm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new Cc(t,this.persistence);return new eu(e.asyncQueue,s)}createPersistence(e){const t=ig(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?dl.withCacheSize(this.cacheSizeBytes):dl.DEFAULT;return new Wf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,ep(),Nd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new cg}}class hf extends Wg{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,de.Z)(function*(){yield t().call(s,e);const u=s.mc.syncEngine;s.sharedClientState instanceof qc&&(s.sharedClientState.syncEngine={$r:dy.bind(null,u),Mr:py.bind(null,u),Fr:e_.bind(null,u),bi:fy.bind(null,u),Or:Ah.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.hi(function(){var y=(0,de.Z)(function*(b){yield function hy(i,e){return pp.apply(this,arguments)}(s.mc.syncEngine,b),s.gcScheduler&&(b&&!s.gcScheduler.started?s.gcScheduler.start():b||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(b&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():b||s.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ep();if(!qc.D(t))throw new rn($t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ig(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qc(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class _c{initialize(e,t){var s=this;return(0,de.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>cy(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Dh.bind(null,s.syncEngine),yield lf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uf}createDatastore(e){const t=vh(e.databaseInfo.databaseId),s=new ef(e.databaseInfo);return new pg(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,u=e.asyncQueue,y=O=>cy(this.syncEngine,O,0),b=dg.D()?new dg:new Lv,new $v(t,s,u,y,b);var t,s,u,y,b}createSyncEngine(e,t){return function(s,u,y,b,O,G,Q){const pe=new Zv(s,u,y,b,O,G);return Q&&(pe.fc=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const s=fn(t);Yt("RemoteStore","RemoteStore shutting down."),s.du.add(5),yield Eh(s),s._u.shutdown(),s.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yp(i,e=10240){let t=0;return{read:()=>(0,de.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kg{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Oi,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(s=>{s&&s.ku()?this.metadata.resolve(s.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Nu)}`))},s=>this.metadata.reject(s))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,de.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,de.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,de.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const s=e.Tc.decode(t),u=Number(s);isNaN(u)&&e.Rc(`length string (${s}) is not valid number`);const y=yield e.vc(u);return new Yv(JSON.parse(y),t.length+u)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,de.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}vc(e){var t=this;return(0,de.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const s=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,de.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Yg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new rn($t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,de.Z)(function*(y,b){const O=fn(y),G=Cd(O.serializer)+"/documents",Q={documents:b.map(sn=>Ru(O.serializer,sn))},pe=yield O.fo("BatchGetDocuments",G,Q,b.length),at=new Map;pe.forEach(sn=>{const Rn=function Zp(i,e){return"found"in e?function(t,s){Nn(!!s.found);const u=Tl(t,s.found.name),y=hs(s.found.updateTime),b=s.found.createTime?hs(s.found.createTime):ar.min(),O=new $i({mapValue:{fields:s.found.fields}});return Vi.newFoundDocument(u,y,b,O)}(i,e):"missing"in e?function(t,s){Nn(!!s.missing),Nn(!!s.readTime);const u=Tl(t,s.missing),y=hs(s.readTime);return Vi.newNoDocument(u,y)}(i,e):Dn()}(O.serializer,sn);at.set(Rn.key.toString(),Rn)});const Ft=[];return b.forEach(sn=>{const Rn=at.get(sn.toString());Nn(!!Rn),Ft.push(Rn)}),Ft}),function(y,b){return u.apply(this,arguments)})(t.datastore,e);var u;return s.forEach(u=>t.recordVersion(u)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ul(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,u)=>{const y=Ln.fromPath(u);e.mutations.push(new Uc(y,e.precondition(y)))}),yield(s=(0,de.Z)(function*(u,y){const b=fn(u),O=Cd(b.serializer)+"/documents",G={writes:y.map(Q=>Sa(b.serializer,Q))};yield b.co("Commit",O,G)}),function(u,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dn();t=ar.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new rn($t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ar.min())?mi.exists(!1):mi.updateTime(t):mi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ar.min()))throw new rn($t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(t)}return mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qg{constructor(e,t,s,u,y){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=u,this.deferred=y,this.Vc=s.maxAttempts,this.Co=new tf(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,de.Z)(function*(){const t=new Yg(e.datastore),s=e.Dc(t);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(y=>{e.Cc(y)}))}).catch(u=>{e.Cc(u)})}))}Dc(e){try{const t=this.updateFunction(e);return!Pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!v(t)}return!1}}class t_{constructor(e,t,s,u){var y=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=u,this.user=we.UNAUTHENTICATED,this.clientId=fa.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var b=(0,de.Z)(function*(O){Yt("FirestoreClient","Received user=",O.uid),yield y.authCredentialListener(O),y.user=O});return function(O){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(Yt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rn($t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const u=Fd(s,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Mh(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,de.Z)(function*(y){s.isEqual(y)||(yield Pv(e.localStore,y),s=y)});return function(y){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),_p.apply(this,arguments)}function Ep(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Xg(i);Yt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(u=>af(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,y)=>af(e.remoteStore,y)),i._onlineComponents=e}),ff.apply(this,arguments)}function Zg(i){return"FirebaseError"===i.name?i.code===$t.FAILED_PRECONDITION||i.code===$t.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Xg(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,de.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Yt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Zg(t))throw t;sr("Error using user provided cache. Falling back to memory cache: "+t),yield Mh(i,new xh)}}else Yt("FirestoreClient","Using default OfflineComponentProvider"),yield Mh(i,new xh);return i._offlineComponents}),Ip.apply(this,arguments)}function pf(i){return wp.apply(this,arguments)}function wp(){return wp=(0,de.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Yt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ep(i,i._uninitializedComponentsProvider._online)):(Yt("FirestoreClient","Using default OnlineComponentProvider"),yield Ep(i,new _c))),i._onlineComponents}),wp.apply(this,arguments)}function Qg(i){return Xg(i).then(e=>e.persistence)}function bp(i){return Xg(i).then(e=>e.localStore)}function Cp(i){return pf(i).then(e=>e.remoteStore)}function Dp(i){return pf(i).then(e=>e.syncEngine)}function nd(i){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,de.Z)(function*(i){const e=yield pf(i),t=e.eventManager;return t.onListen=Mg.bind(null,e.syncEngine),t.onUnlisten=Xv.bind(null,e.syncEngine),t}),Sp.apply(this,arguments)}function em(i,e,t={}){const s=new Oi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,y,b,O,G){const Q=new vp({next:at=>{y.enqueueAndForget(()=>cp(u,pe));const Ft=at.docs.has(b);!Ft&&at.fromCache?G.reject(new rn($t.UNAVAILABLE,"Failed to get document because the client is offline.")):Ft&&at.fromCache&&O&&"server"===O.source?G.reject(new rn($t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(at)},error:at=>G.reject(at)}),pe=new ry(Ha(b.path),Q,{includeMetadataChanges:!0,xu:!0});return Sg(u,pe)}(yield nd(i),i.asyncQueue,e,t,s)})),s.promise}function tm(i,e,t={}){const s=new Oi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,y,b,O,G){const Q=new vp({next:at=>{y.enqueueAndForget(()=>cp(u,pe)),at.fromCache&&"server"===O.source?G.reject(new rn($t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(at)},error:at=>G.reject(at)}),pe=new ry(b,Q,{includeMetadataChanges:!0,xu:!0});return Sg(u,pe)}(yield nd(i),i.asyncQueue,e,t,s)})),s.promise}const Ey=new Map;function gf(i,e,t){if(!t)throw new rn($t.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function id(i,e,t,s){if(!0===e&&!0===s)throw new rn($t.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Ap(i){if(!Ln.isDocumentKey(i))throw new rn($t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Iy(i){if(Ln.isDocumentKey(i))throw new rn($t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Rh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Dn()}function Ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new rn($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rh(i);throw new rn($t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function r_(i,e){if(e<=0)throw new rn($t.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class wy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new rn($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rn($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,id("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,t,s,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rn($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rn($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Oa;switch(t.type){case"firstParty":return new Ja(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new rn($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ey.get(e);t&&(Yt("ComponentProvider","Removing Datastore"),Ey.delete(e),t.terminate())}(this),Promise.resolve()}}class Us{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Us(this.firestore,e,this._key)}}class Ai{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class pu extends Ai{constructor(e,t,s){super(e,t,Ha(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Us(this.firestore,null,new Ln(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function by(i,e,...t){if(i=(0,Ue.m9)(i),gf("collection","path",e),i instanceof mf){const s=Zr.fromString(e,...t);return Iy(s),new pu(i,null,s)}{if(!(i instanceof Us||i instanceof pu))throw new rn($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zr.fromString(e,...t));return Iy(s),new pu(i.firestore,null,s)}}function yf(i,e,...t){if(i=(0,Ue.m9)(i),1===arguments.length&&(e=fa.A()),gf("doc","path",e),i instanceof mf){const s=Zr.fromString(e,...t);return Ap(s),new Us(i,null,new Ln(s))}{if(!(i instanceof Us||i instanceof pu))throw new rn($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zr.fromString(e,...t));return Ap(s),new Us(i.firestore,i instanceof pu?i.converter:null,new Ln(s))}}function Cy(i,e){return i=(0,Ue.m9)(i),e=(0,Ue.m9)(e),(i instanceof Us||i instanceof pu)&&(e instanceof Us||e instanceof pu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function xp(i,e){return i=(0,Ue.m9)(i),e=(0,Ue.m9)(e),i instanceof Ai&&e instanceof Ai&&i.firestore===e.firestore&&$l(i._query,e._query)&&i.converter===e.converter}class Dy{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new tf(this,"async_queue_retry"),this.qc=()=>{const t=Nd();t&&Yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Nd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Nd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Oi;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,de.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!ya(t))throw t;Yt("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(s=>{throw this.Mc=s,this.Fc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(y){let b=y.message||"";return y.stack&&(b=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),b}(s)),s}).then(s=>(this.Fc=!1,s))));return this.Nc=t,t}enqueueAfterDelay(e,t,s){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const u=ap.createAndSchedule(this,e,t,s,y=>this.Qc(y));return this.$c.push(u),u}Uc(){this.Mc&&Dn()}verifyOperationInProgress(){}zc(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function sd(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const u of["next","error","complete"])if(u in s&&"function"==typeof s[u])return!0;return!1}(i)}class s_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xs extends mf{constructor(e,t,s,u){super(e,t,s,u),this.type="firestore",this._queue=new Dy,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rm(this),this._firestoreClient.terminate()}}function Fo(i){return i._firestoreClient||rm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function rm(i){var e,t,s;const u=i._freezeSettings(),y=(O=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ru(i._databaseId,O,i._persistenceKey,(Q=u).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,Q.useFetchStreams));var O,Q;i._firestoreClient=new t_(i._authCredentials,i._appCheckCredentials,i._queue,y),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=u.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}function Sy(i,e,t){const s=new Oi;return i.asyncQueue.enqueue((0,de.Z)(function*(){try{yield Mh(i,t),yield Ep(i,e),s.resolve()}catch(u){const y=u;if(!Zg(y))throw y;sr("Error enabling indexeddb cache. Falling back to memory cache: "+y),s.reject(y)}})).then(()=>s.promise)}function Ay(i){if(i._initialized||i._terminated)throw new rn($t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(tr.fromBase64String(e))}catch(t){throw new rn($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xl(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Al{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new rn($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class od{constructor(e){this._methodName=e}}class Mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rn($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rn($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ar(this._lat,e._lat)||Ar(this._long,e._long)}}const xy=/^__.*__$/;class My{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Da(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vs(e,this.data,t,this.fieldTransforms)}}class _f{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ry(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class Ef{constructor(e,t,s,u,y,b){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===y&&this.Jc(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:s,ta:!1});return u.ea(e),u}na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:s,ta:!1});return u.Jc(),u}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return kp(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Ry(this.Yc)&&xy.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class Oy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||vh(e)}ua(e,t,s,u=!1){return new Ef({Yc:e,methodName:t,oa:s,path:gi.emptyPath(),ta:!1,ra:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ec(i){const e=i._freezeSettings(),t=vh(i._databaseId);return new Oy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Bd(i,e,t,s,u,y={}){const b=i.ua(y.merge||y.mergeFields?2:0,e,t,u);om("Data must be an object, but it was:",b,s);const O=Ly(s,b);let G,Q;if(y.merge)G=new jn(b.fieldMask),Q=b.fieldTransforms;else if(y.mergeFields){const pe=[];for(const at of y.mergeFields){const Ft=If(e,at,t);if(!b.contains(Ft))throw new rn($t.INVALID_ARGUMENT,`Field '${Ft}' is specified in your field mask but missing from your input data.`);$y(pe,Ft)||pe.push(Ft)}G=new jn(pe),Q=b.fieldTransforms.filter(at=>G.covers(at.field))}else G=null,Q=b.fieldTransforms;return new My(new $i(O),G,Q)}class Oh extends od{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function sm(i,e,t){return new Ef({Yc:3,oa:e.settings.oa,methodName:i._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rp extends od{_toFieldTransform(e){return new Ga(e.path,new za)}isEqual(e){return e instanceof Rp}}class Py extends od{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=sm(this,e,!0),s=this.ca.map(y=>$d(y,t)),u=new lu(s);return new Ga(e.path,u)}isEqual(e){return this===e}}class Ny extends od{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=sm(this,e,!0),s=this.ca.map(y=>$d(y,t)),u=new al(s);return new Ga(e.path,u)}isEqual(e){return this===e}}class ky extends od{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Ca(e.serializer,tc(e.serializer,this.aa));return new Ga(e.path,t)}isEqual(e){return this===e}}function Op(i,e,t,s){const u=i.ua(1,e,t);om("Data must be an object, but it was:",u,s);const y=[],b=$i.empty();B(s,(G,Q)=>{const pe=Np(e,G,t);Q=(0,Ue.m9)(Q);const at=u.na(pe);if(Q instanceof Oh)y.push(pe);else{const Ft=$d(Q,at);null!=Ft&&(y.push(pe),b.set(pe,Ft))}});const O=new jn(y);return new _f(b,O,u.fieldTransforms)}function Pp(i,e,t,s,u,y){const b=i.ua(1,e,t),O=[If(e,s,t)],G=[u];if(y.length%2!=0)throw new rn($t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ft=0;Ft<y.length;Ft+=2)O.push(If(e,y[Ft])),G.push(y[Ft+1]);const Q=[],pe=$i.empty();for(let Ft=O.length-1;Ft>=0;--Ft)if(!$y(Q,O[Ft])){const sn=O[Ft];let Rn=G[Ft];Rn=(0,Ue.m9)(Rn);const qn=b.na(sn);if(Rn instanceof Oh)Q.push(sn);else{const br=$d(Rn,qn);null!=br&&(Q.push(sn),pe.set(sn,br))}}const at=new jn(Q);return new _f(pe,at,b.fieldTransforms)}function Fy(i,e,t,s=!1){return $d(t,i.ua(s?4:3,e))}function $d(i,e){if(By(i=(0,Ue.m9)(i)))return om("Unsupported field value:",e,i),Ly(i,e);if(i instanceof od)return function(t,s){if(!Ry(s.Yc))throw s.ia(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ia(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,s){const u=[];let y=0;for(const b of t){let O=$d(b,s.sa(y));null==O&&(O={nullValue:"NULL_VALUE"}),u.push(O),y++}return{arrayValue:{values:u}}}(i,e)}return function(t,s){if(null===(t=(0,Ue.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=pi.fromDate(t);return{timestampValue:cl(s.serializer,u)}}if(t instanceof pi){const u=new pi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cl(s.serializer,u)}}if(t instanceof Mp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xl)return{bytesValue:nh(s.serializer,t._byteString)};if(t instanceof Us){const u=s.databaseId,y=t.firestore._databaseId;if(!y.isEqual(u))throw s.ia(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zc(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ia(`Unsupported field value: ${Rh(t)}`)}(i,e)}function Ly(i,e){const t={};return H(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):B(i,(s,u)=>{const y=$d(u,e.Xc(s));null!=y&&(t[s]=y)}),{mapValue:{fields:t}}}function By(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof pi||i instanceof Mp||i instanceof Xl||i instanceof Us||i instanceof od)}function om(i,e,t){if(!By(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Rh(t);throw e.ia("an object"===s?i+" a custom object":i+" "+s)}var s}function If(i,e,t){if((e=(0,Ue.m9)(e))instanceof Al)return e._internalPath;if("string"==typeof e)return Np(i,e);throw kp("Field path arguments must be of type string or ",i,!1,void 0,t)}const h_=new RegExp("[~\\*/\\[\\]]");function Np(i,e,t){if(e.search(h_)>=0)throw kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Al(...e.split("."))._internalPath}catch(s){throw kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function kp(i,e,t,s,u){const y=s&&!s.isEmpty(),b=void 0!==u;let O=`Function ${e}() called with invalid data`;t&&(O+=" (via `toFirestore()`)"),O+=". ";let G="";return(y||b)&&(G+=" (found",y&&(G+=` in field ${s}`),b&&(G+=` in document ${u}`),G+=")"),new rn($t.INVALID_ARGUMENT,O+i+G)}function $y(i,e){return i.some(t=>t.isEqual(e))}class wf{constructor(e,t,s,u,y){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=u,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new f_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class f_ extends wf{data(){return super.data()}}function Fp(i,e){return"string"==typeof e?Np(i,e):e instanceof Al?e._internalPath:e._delegate._internalPath}function Vy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new rn($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class am{}class bf extends am{}function ad(i,e,...t){let s=[];e instanceof am&&s.push(e),s=s.concat(t),function(u){const y=u.filter(O=>O instanceof Vd).length,b=u.filter(O=>O instanceof Cf).length;if(y>1||y>0&&b>0)throw new rn($t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class Cf extends bf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Cf(e,t,s)}_apply(e){const t=this._parse(e);return lm(e._query,t),new Ai(e.firestore,e.converter,kc(e._query,t))}_parse(e){const t=Ec(e.firestore);return function(u,y,b,O,G,Q,pe){let at;if(G.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new rn($t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){v_(pe,Q);const Ft=[];for(const sn of pe)Ft.push($p(O,u,sn));at={arrayValue:{values:Ft}}}else at=$p(O,u,pe)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||v_(pe,Q),at=Fy(b,"where",pe,"in"===Q||"not-in"===Q);return Br.create(G,Q,at)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vd extends am{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vd(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,u){let y=s;const b=u.getFlattenedFilters();for(const O of b)lm(y,O),y=kc(y,O)}(e._query,t),new Ai(e.firestore,e.converter,kc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lp extends bf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lp(e,t)}_apply(e){const t=function(s,u,y){if(null!==s.startAt)throw new rn($t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new rn($t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Iu(u,y);return function(O,G){if(null===su(O)){const Q=Nc(O);null!==Q&&um(0,Q,G.field)}}(s,b),b}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(s,u){const y=s.explicitOrderBy.concat([u]);return new co(s.path,s.collectionGroup,y,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Df extends bf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Df(e,t,s)}_apply(e){return new Ai(e.firestore,e.converter,Ju(e._query,this._limit,this._limitType))}}class Sf extends bf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Sf(e,t,s)}_apply(e){const t=y_(e,this.type,this._docOrFields,this._inclusive);return new Ai(e.firestore,e.converter,(u=t,new co((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)));var s,u}}class Bp extends bf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Bp(e,t,s)}_apply(e){const t=y_(e,this.type,this._docOrFields,this._inclusive);return new Ai(e.firestore,e.converter,(u=t,new co((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)));var s,u}}function y_(i,e,t,s){if(t[0]=(0,Ue.m9)(t[0]),t[0]instanceof wf)return function(u,y,b,O,G){if(!O)throw new rn($t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Q=[];for(const pe of ou(u))if(pe.field.isKeyField())Q.push(Ea(y,O.key));else{const at=O.data.field(pe.field);if(Ua(at))throw new rn($t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===at){const Ft=pe.field.canonicalString();throw new rn($t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ft}' (used as the orderBy) does not exist.`)}Q.push(at)}return new wl(Q,G)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const u=Ec(i.firestore);return function(y,b,O,G,Q,pe){const at=y.explicitOrderBy;if(Q.length>at.length)throw new rn($t.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ft=[];for(let sn=0;sn<Q.length;sn++){const Rn=Q[sn];if(at[sn].field.isKeyField()){if("string"!=typeof Rn)throw new rn($t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Rn}`);if(!ba(y)&&-1!==Rn.indexOf("/"))throw new rn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Rn}' contains a slash.`);const qn=y.path.child(Zr.fromString(Rn));if(!Ln.isDocumentKey(qn))throw new rn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${qn}' is not because it contains an odd number of segments.`);const br=new Ln(qn);Ft.push(Ea(b,br))}else{const qn=Fy(O,G,Rn);Ft.push(qn)}}return new wl(Ft,pe)}(i._query,i.firestore._databaseId,u,e,t,s)}}function $p(i,e,t){if("string"==typeof(t=(0,Ue.m9)(t))){if(""===t)throw new rn($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ba(e)&&-1!==t.indexOf("/"))throw new rn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Zr.fromString(t));if(!Ln.isDocumentKey(s))throw new rn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ea(i,new Ln(s))}if(t instanceof Us)return Ea(i,t._key);throw new rn($t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(t)}.`)}function v_(i,e){if(!Array.isArray(i)||0===i.length)throw new rn($t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lm(i,e){if(e.isInequality()){const s=Nc(i),u=e.field;if(null!==s&&!s.isEqual(u))throw new rn($t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${u.toString()}'`);const y=su(i);null!==y&&um(0,u,y)}const t=function(s,u){for(const y of s)for(const b of y.getFlattenedFilters())if(u.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new rn($t.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function um(i,e,t){if(!t.isEqual(e))throw new rn($t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class kr{convertValue(e,t="none"){switch(_l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dn()}}convertObject(e,t){const s={};return B(e.fields,(u,y)=>{s[u]=this.convertValue(y,t)}),s}convertGeoPoint(e){return new Mp(Gi(e.latitude),Gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=wo(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ws(e));default:return null}}convertTimestamp(e){const t=zi(e);return new pi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Zr.fromString(e);Nn(Gh(s));const u=new _a(s.get(1),s.get(3)),y=new Ln(s.popFirst(5));return u.isEqual(t)||vr(`Document ${y} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),y}}function Vp(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class E_ extends kr{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,t)}}class fs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends wf{constructor(e,t,s,u,y,b){super(e,t,s,u,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Fp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Nh extends ld{data(e={}){return super.data(e)}}class Ic{constructor(e,t,s,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new fs(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Nh(this._firestore,this._userDataWriter,s.key,s,new fs(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rn($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let y=0;return s._snapshot.docChanges.map(b=>({type:"added",doc:new Nh(s._firestore,s._userDataWriter,b.doc.key,b.doc,new fs(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:y++}))}{let y=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(b=>u||3!==b.type).map(b=>{const O=new Nh(s._firestore,s._userDataWriter,b.doc.key,b.doc,new fs(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter);let G=-1,Q=-1;return 0!==b.type&&(G=y.indexOf(b.doc.key),y=y.delete(b.doc.key)),1!==b.type&&(y=y.add(b.doc),Q=y.indexOf(b.doc.key)),{type:w_(b.type),doc:O,oldIndex:G,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}function hm(i,e){return i instanceof ld&&e instanceof ld?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Ic&&e instanceof Ic&&i._firestore===e._firestore&&xp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class wc extends kr{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,t)}}function Yy(i,e,t){i=Ti(i,Us);const s=Ti(i.firestore,xs),u=Vp(i.converter,e,t);return jd(s,[Bd(Ec(s),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,mi.none())])}function qy(i,e,t,...s){i=Ti(i,Us);const u=Ti(i.firestore,xs),y=Ec(u);let b;return b="string"==typeof(e=(0,Ue.m9)(e))||e instanceof Al?Pp(y,"updateDoc",i._key,e,t,s):Op(y,"updateDoc",i._key,e),jd(u,[b.toMutation(i._key,mi.exists(!0))])}function fm(i,...e){var t,s,u;i=(0,Ue.m9)(i);let y={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||sd(e[b])||(y=e[b],b++);const O={includeMetadataChanges:y.includeMetadataChanges};if(sd(e[b])){const at=e[b];e[b]=null===(t=at.next)||void 0===t?void 0:t.bind(at),e[b+1]=null===(s=at.error)||void 0===s?void 0:s.bind(at),e[b+2]=null===(u=at.complete)||void 0===u?void 0:u.bind(at)}let G,Q,pe;if(i instanceof Us)Q=Ti(i.firestore,xs),pe=Ha(i._key.path),G={next:at=>{e[b]&&e[b](pm(Q,i,at))},error:e[b+1],complete:e[b+2]};else{const at=Ti(i,Ai);Q=Ti(at.firestore,xs),pe=at._query;const Ft=new wc(Q);G={next:sn=>{e[b]&&e[b](new Ic(Q,Ft,at,sn))},error:e[b+1],complete:e[b+2]},Vy(i._query)}return function(at,Ft,sn,Rn){const qn=new vp(Rn),br=new ry(Ft,qn,sn);return at.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return Sg(yield nd(at),br)})),()=>{qn.yc(),at.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return cp(yield nd(at),br)}))}}(Fo(Q),pe,O,G)}function jd(i,e){return function(t,s){const u=new Oi;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function Qv(i,e,t){return kg.apply(this,arguments)}(yield Dp(t),s,u)})),u.promise}(Fo(i),e)}function pm(i,e,t){const s=t.docs.get(e._key),u=new wc(i);return new ld(i,u,e._key,s,new fs(t.hasPendingWrites,t.fromCache),e.converter)}const O_={maxAttempts:5};class Jy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ec(e)}set(e,t,s){this._verifyNotCommitted();const u=Hd(e,this._firestore),y=Vp(u.converter,t,s),b=Bd(this._dataReader,"WriteBatch.set",u._key,y,null!==u.converter,s);return this._mutations.push(b.toMutation(u._key,mi.none())),this}update(e,t,s,...u){this._verifyNotCommitted();const y=Hd(e,this._firestore);let b;return b="string"==typeof(t=(0,Ue.m9)(t))||t instanceof Al?Pp(this._dataReader,"WriteBatch.update",y._key,t,s,u):Op(this._dataReader,"WriteBatch.update",y._key,t),this._mutations.push(b.toMutation(y._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hd(e,this._firestore);return this._mutations=this._mutations.concat(new ul(t._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rn($t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hd(i,e){if((i=(0,Ue.m9)(i)).firestore!==e)throw new rn($t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class P0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ec(e)}get(e){const t=Hd(e,this._firestore),s=new E_(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Dn();const y=u[0];if(y.isFoundDocument())return new wf(this._firestore,s,y.key,y,t.converter);if(y.isNoDocument())return new wf(this._firestore,s,t._key,null,t.converter);throw Dn()})}set(e,t,s){const u=Hd(e,this._firestore),y=Vp(u.converter,t,s),b=Bd(this._dataReader,"Transaction.set",u._key,y,null!==u.converter,s);return this._transaction.set(u._key,b),this}update(e,t,s,...u){const y=Hd(e,this._firestore);let b;return b="string"==typeof(t=(0,Ue.m9)(t))||t instanceof Al?Pp(this._dataReader,"Transaction.update",y._key,t,s,u):Op(this._dataReader,"Transaction.update",y._key,t),this._transaction.update(y._key,b),this}delete(e){const t=Hd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hd(e,this._firestore),s=new wc(this._firestore);return super.get(e).then(u=>new ld(this._firestore,s,t._key,u._document,new fs(!1,!1),t.converter))}}!function(i,e=!0){Bt=ht.SDK_VERSION,(0,ht._registerComponent)(new Be.wA("firestore",(t,{instanceIdentifier:s,options:u})=>{const y=t.getProvider("app").getImmediate(),b=new xs(new ml(t.getProvider("auth-internal")),new ka(t.getProvider("app-check-internal")),function(O,G){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new rn($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(O.options.projectId,G)}(y,s),y);return u=Object.assign({useFetchStreams:e},u),b._setSettings(u),b},"PUBLIC").setMultipleInstances(!0)),(0,ht.registerVersion)(se,"3.10.0",i),(0,ht.registerVersion)(se,"3.10.0","esm2017")}();function gm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rn("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function B_(){if(typeof Uint8Array>"u")throw new rn("unimplemented","Uint8Arrays are not available in this environment.")}function nv(){if(!function Kr(){return typeof atob<"u"}())throw new rn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kh{constructor(e){this._delegate=e}static fromBase64String(e){return nv(),new kh(Xl.fromBase64String(e))}static fromUint8Array(e){return B_(),new kh(Xl.fromUint8Array(e))}toBase64(){return nv(),this._delegate.toBase64()}toUint8Array(){return B_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mm(i){return function $_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class Mf{enableIndexedDbPersistence(e,t){return function im(i,e){Ay(i=Ti(i,xs));const t=Fo(i);if(t._uninitializedComponentsProvider)throw new rn($t.FAILED_PRECONDITION,"SDK cache is already specified.");sr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),u=new _c;return Sy(t,u,new Wg(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Bu(i){Ay(i=Ti(i,xs));const e=Fo(i);if(e._uninitializedComponentsProvider)throw new rn($t.FAILED_PRECONDITION,"SDK cache is already specified.");sr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new _c;return Sy(e,s,new hf(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function l_(i){if(i._initialized&&!i._terminated)throw new rn($t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Oi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(t=(0,de.Z)(function*(s){if(!lo.D())return Promise.resolve();const u=s+"main";yield lo.delete(u)}),function(s){return t.apply(this,arguments)})(ig(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class rv{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof _a||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&sr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function nm(i,e,t,s={}){var u;const y=(i=Ti(i,mf))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&sr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let b,O;if("string"==typeof s.mockUserToken)b=s.mockUserToken,O=we.MOCK_USER;else{b=(0,Ue.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new rn($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new we(G)}i._authCredentials=new Pa(new Gs(b,O))}}(this._delegate,e,t,s)}enableNetwork(){return function gu(i){return function gy(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Qg(i),t=yield Cp(i);return e.setNetworkEnabled(!0),function(s){const u=fn(s);return u.du.delete(0),_h(u)}(t)}))}(Fo(i=Ti(i,xs)))}(this._delegate)}disableNetwork(){return function mu(i){return function my(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Qg(i),t=yield Cp(i);return e.setNetworkEnabled(!1),(s=(0,de.Z)(function*(u){const y=fn(u);y.du.add(0),yield Eh(y),y.mu.set("Offline")}),function(u){return s.apply(this,arguments)})(t);var s}))}(Fo(i=Ti(i,xs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,id("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $u(i){return function(e){const t=new Oi;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function Bg(i,e){return $g.apply(this,arguments)}(yield Dp(e),t)})),t.promise}(Fo(i=Ti(i,xs)))}(this._delegate)}onSnapshotsInSync(e){return function Zy(i,e){return function _y(i,e){const t=new vp(e);return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return s=yield nd(i),u=t,fn(s).Au.add(u),void u.next();var s,u})),()=>{t.yc(),i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return s=yield nd(i),u=t,void fn(s).Au.delete(u);var s,u}))}}(Fo(i=Ti(i,xs)),sd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new rn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lh(this,by(this._delegate,e))}catch(t){throw ua(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ql(this,yf(this._delegate,e))}catch(t){throw ua(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qa(this,function i_(i,e){if(i=Ti(i,mf),gf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rn($t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ai(i,null,(t=e,new co(Zr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ua(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function N0(i,e,t){i=Ti(i,xs);const s=Object.assign(Object.assign({},O_),t);return function(u){if(u.maxAttempts<1)throw new rn($t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,y,b){const O=new Oi;return u.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const G=yield function Jg(i){return pf(i).then(e=>e.datastore)}(u);new qg(u.asyncQueue,G,b,y,O).run()})),O.promise}(Fo(i),u=>e(new P0(i,u)),s)}(this._delegate,t=>e(new ym(this,t)))}batch(){return Fo(this._delegate),new iv(new Jy(this._delegate,e=>jd(this._delegate,e)))}loadBundle(e){return function Ty(i,e){const t=Fo(i=Ti(i,xs)),s=new s_;return function Tp(i,e,t,s){const u=function(y,b){let O;return O="string"==typeof y?(new TextEncoder).encode(y):y,G=function(G,Q){if(G instanceof Uint8Array)return yp(G,Q);if(G instanceof ArrayBuffer)return yp(new Uint8Array(G),Q);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new Kg(G,b);var G}(t,vh(e));i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function Gg(i,e,t){const s=fn(i);var u;(u=(0,de.Z)(function*(y,b,O){try{const G=yield b.getMetadata();if(yield function(Ft,sn){const Rn=fn(Ft),qn=hs(sn.createTime);return Rn.persistence.runTransaction("hasNewerBundle","readonly",br=>Rn.xs.getBundleMetadata(br,sn.id)).then(br=>!!br&&br.createTime.compareTo(qn)>=0)}(y.localStore,G))return yield b.close(),O._completeWith({taskState:"Success",documentsLoaded:(Ft=G).totalDocuments,bytesLoaded:Ft.totalBytes,totalDocuments:Ft.totalDocuments,totalBytes:Ft.totalBytes}),Promise.resolve(new Set);O._updateProgress(sy(G));const Q=new qv(G,y.localStore,b.serializer);let pe=yield b._c();for(;pe;){const Ft=yield Q.$u(pe);Ft&&O._updateProgress(Ft),pe=yield b._c()}const at=yield Q.complete();return yield hl(y,at.Bu,void 0),yield function(Ft,sn){const Rn=fn(Ft);return Rn.persistence.runTransaction("Save bundle","readwrite",qn=>Rn.xs.saveBundleMetadata(qn,sn))}(y.localStore,G),O._completeWith(at.progress),Promise.resolve(at.Fu)}catch(G){return sr("SyncEngine",`Loading bundle failed with ${G}`),O._failWith(G),Promise.resolve(new Set)}var Ft}),function(y,b,O){return u.apply(this,arguments)})(s,e,t).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Dp(i),u,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function c_(i,e){return function rd(i,e){return i.asyncQueue.enqueue((0,de.Z)(function*(){return function(t,s){const u=fn(t);return u.persistence.runTransaction("Get named query","readonly",y=>u.xs.getNamedQuery(y,s))}(yield bp(i),e)}))}(Fo(i=Ti(i,xs)),e).then(t=>t?new Ai(i,null,t.query):null)}(this._delegate,e).then(t=>t?new qa(this,t):null)}}class Rf extends kr{constructor(e){super(),this.firestore=e}convertBytes(e){return new kh(new Xl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ql.forKey(t,this.firestore,null)}}class ym{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rf(e)}get(e){const t=cd(e);return this._delegate.get(t).then(s=>new Fh(this._firestore,new ld(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const u=cd(e);return s?(gm("Transaction.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const y=cd(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,s,...u),this}delete(e){const t=cd(e);return this._delegate.delete(t),this}}class iv{constructor(e){this._delegate=e}set(e,t,s){const u=cd(e);return s?(gm("WriteBatch.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const y=cd(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,s,...u),this}delete(e){const t=cd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ud{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Nh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Of(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=ud.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let y=u.get(t);return y||(y=new ud(e,new Rf(e),t),u.set(t,y)),y}}ud.INSTANCES=new WeakMap;class Ql{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new rn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ql(t,new Us(t._delegate,s,new Ln(e)))}static forKey(e,t,s){return new Ql(t,new Us(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Lh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lh(this.firestore,by(this._delegate,e))}catch(t){throw ua(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ue.m9)(e))instanceof Us&&Cy(this._delegate,e)}set(e,t){t=gm("DocumentReference.set",t);try{return t?Yy(this._delegate,e,t):Yy(this._delegate,e)}catch(s){throw ua(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?qy(this._delegate,e):qy(this._delegate,e,t,...s)}catch(u){throw ua(u,"updateDoc()","DocumentReference.update()")}}delete(){return function S_(i){return jd(Ti(i.firestore,xs),[new ul(i._key,mi.none())])}(this._delegate)}onSnapshot(...e){const t=sv(e),s=vm(e,u=>new Fh(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return fm(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Ky(i){i=Ti(i,Us);const e=Ti(i.firestore,xs),t=Fo(e),s=new wc(e);return function yy(i,e){const t=new Oi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(s=(0,de.Z)(function*(u,y,b){try{const O=yield function(G,Q){const pe=fn(G);return pe.persistence.runTransaction("read document","readonly",at=>pe.localDocuments.getDocument(at,Q))}(u,y);O.isFoundDocument()?b.resolve(O):O.isNoDocument()?b.resolve(null):b.reject(new rn($t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const G=Fd(O,`Failed to get document '${y} from cache`);b.reject(G)}}),function(u,y,b){return s.apply(this,arguments)})(yield bp(i),e,t);var s})),t.promise}(t,i._key).then(u=>new ld(e,s,i._key,u,new fs(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function b_(i){i=Ti(i,Us);const e=Ti(i.firestore,xs);return em(Fo(e),i._key,{source:"server"}).then(t=>pm(e,i,t))}(this._delegate):function Wy(i){i=Ti(i,Us);const e=Ti(i.firestore,xs);return em(Fo(e),i._key).then(t=>pm(e,i,t))}(this._delegate),t.then(s=>new Fh(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ql(this.firestore,this._delegate.withConverter(e?ud.getInstance(this.firestore,e):null))}}function ua(i,e,t){return i.message=i.message.replace(e,t),i}function sv(i){for(const e of i)if("object"==typeof e&&!mm(e))return e;return{}}function vm(i,e){var t,s;let u;return u=mm(i[0])?i[0]:mm(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:y=>{u.next&&u.next(e(y))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Fh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ql(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hm(this._delegate,e._delegate)}}class Of extends Fh{data(e){const t=this._delegate.data(e);return function Yo(i,e){i||Dn()}(void 0!==t),t}}class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rf(e)}where(e,t,s){try{return new qa(this.firestore,ad(this._delegate,function Uy(i,e,t){const s=e,u=Fp("where",i);return Cf._create(u,s,t)}(e,t,s)))}catch(u){throw ua(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qa(this.firestore,ad(this._delegate,function jy(i,e="asc"){const t=e,s=Fp("orderBy",i);return Lp._create(s,t)}(e,t)))}catch(s){throw ua(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qa(this.firestore,ad(this._delegate,function Hy(i){return r_("limit",i),Df._create("limit",i,"F")}(e)))}catch(t){throw ua(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qa(this.firestore,ad(this._delegate,function zy(i){return r_("limitToLast",i),Df._create("limitToLast",i,"L")}(e)))}catch(t){throw ua(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qa(this.firestore,ad(this._delegate,function Gy(...i){return Sf._create("startAt",i,!0)}(...e)))}catch(t){throw ua(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qa(this.firestore,ad(this._delegate,function Ud(...i){return Sf._create("startAfter",i,!1)}(...e)))}catch(t){throw ua(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qa(this.firestore,ad(this._delegate,function m_(...i){return Bp._create("endBefore",i,!1)}(...e)))}catch(t){throw ua(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qa(this.firestore,ad(this._delegate,function Ph(...i){return Bp._create("endAt",i,!0)}(...e)))}catch(t){throw ua(t,"endAt()","Query.endAt()")}}isEqual(e){return xp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function D_(i){i=Ti(i,Ai);const e=Ti(i.firestore,xs),t=Fo(e),s=new wc(e);return function vy(i,e){const t=new Oi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(s=(0,de.Z)(function*(u,y,b){try{const O=yield Yf(u,y,!0),G=new ly(y,O.Wi),Q=G.zu(O.documents),pe=G.applyChanges(Q,!1);b.resolve(pe.snapshot)}catch(O){const G=Fd(O,`Failed to execute query '${y} against cache`);b.reject(G)}}),function(u,y,b){return s.apply(this,arguments)})(yield bp(i),e,t);var s})),t.promise}(t,i._query).then(u=>new Ic(e,s,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Af(i){i=Ti(i,Ai);const e=Ti(i.firestore,xs),t=Fo(e),s=new wc(e);return tm(t,i._query,{source:"server"}).then(u=>new Ic(e,s,i,u))}(this._delegate):function C_(i){i=Ti(i,Ai);const e=Ti(i.firestore,xs),t=Fo(e),s=new wc(e);return Vy(i._query),tm(t,i._query).then(u=>new Ic(e,s,i,u))}(this._delegate),t.then(s=>new Pf(this.firestore,new Ic(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=sv(e),s=vm(e,u=>new Pf(this.firestore,new Ic(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return fm(this._delegate,t,s)}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?ud.getInstance(this.firestore,e):null))}}class U_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Of(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Of(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new U_(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Of(this._firestore,s))})}isEqual(e){return hm(this._delegate,e._delegate)}}class Lh extends qa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ql(this.firestore,e):null}doc(e){try{return new Ql(this.firestore,void 0===e?yf(this._delegate):yf(this._delegate,e))}catch(t){throw ua(t,"doc()","CollectionReference.doc()")}}add(e){return function Up(i,e){const t=Ti(i.firestore,xs),s=yf(i),u=Vp(i.converter,e);return jd(t,[Bd(Ec(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,mi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ql(this.firestore,t))}isEqual(e){return Cy(this._delegate,e._delegate)}withConverter(e){return new Lh(this.firestore,this._delegate.withConverter(e?ud.getInstance(this.firestore,e):null))}}function cd(i){return Ti(i,Us)}class _m{constructor(...e){this._delegate=new Al(...e)}static documentId(){return new _m(gi.keyField().canonicalString())}isEqual(e){return(e=(0,Ue.m9)(e))instanceof Al&&this._delegate._internalPath.isEqual(e._internalPath)}}class zd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ev(){return new Rp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zd(e)}static delete(){const e=function k0(){return new Oh("deleteField")}();return e._methodName="FieldValue.delete",new zd(e)}static arrayUnion(...e){const t=function Hp(...i){return new Py("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new zd(t)}static arrayRemove(...e){const t=function P_(...i){return new Ny("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new zd(t)}static increment(e){const t=function N_(i){return new ky("increment",i)}(e);return t._methodName="FieldValue.increment",new zd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const j_={Firestore:rv,GeoPoint:Mp,Timestamp:pi,Blob:kh,Transaction:ym,WriteBatch:iv,DocumentReference:Ql,DocumentSnapshot:Fh,Query:qa,QueryDocumentSnapshot:Of,QuerySnapshot:Pf,CollectionReference:Lh,FieldPath:_m,FieldValue:zd,setLogLevel:function V_(i){!function Wr(i){Qt.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function z_(i){(function H_(i,e){i.INTERNAL.registerComponent(new Be.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},j_)))})(i,(e,t)=>new rv(e,t,new Mf)),i.registerVersion("@firebase/firestore-compat","0.3.6")}(ye.Z);var dd=V(1205),G_=V(6217),W_=V(9260);function Em(i,e){return function ov(i,e=ee.z){return new z.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function Im(i,e){return Em(i,e).pipe((0,ie.U)(t=>({payload:t,type:"query"})))}function Nf(i,e){return Im(i,e).pipe((0,ge.O)(void 0),ve(),(0,ie.U)(([t,s])=>{const u=s.payload.docChanges(),y=u.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((b,O)=>{const G=u.find(pe=>pe.doc.ref.isEqual(b.ref)),Q=null==t?void 0:t.payload.docs.find(pe=>pe.ref.isEqual(b.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(b.metadata)||!G&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(b.metadata)||y.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:b}})}),y}))}function av(i,e,t){return Nf(i,t).pipe((0,ce.R)((s,u)=>function Y_(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function bm(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return wm(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return wm(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wm(i,e.oldIndex,1)}return i}(i,s))}),i}(s,u.map(y=>y.payload),e),[]),(0,xe.x)(),(0,ie.U)(s=>s.map(u=>({type:u.type,payload:u}))))}function wm(i,e,t,...s){const u=i.slice();return u.splice(e,t,...s),u}function Gp(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Cm{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Nf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ie.U)(s=>s.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ge.O)(void 0),ve(),(0,ze.h)(([s,u])=>u.length>0||!s),(0,ie.U)(([s,u])=>u),be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Gp(e);return av(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return Im(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),be.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(be.iC)}add(e){return this.ref.add(e)}doc(e){return new Wp(this.ref.doc(e),this.afs)}}class Wp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:u,query:y}=Gd(s,t);return new Cm(u,y,this.afs)}snapshotChanges(){return function K_(i,e){return Em(i,e).pipe((0,ge.O)(void 0),ve(),(0,ie.U)(([t,s])=>s.exists?null!=t&&t.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ie.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ce.D)(this.ref.get(e)).pipe(be.iC)}}class q_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Nf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ze.h)(t=>t.length>0),be.iC):Nf(this.query,this.afs.schedulers.outsideAngular).pipe(be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Gp(e);return av(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return Im(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(s=>s.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),be.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(be.iC)}}const lv=new a.OlP("angularfire2.enableFirestorePersistence"),Kp=new a.OlP("angularfire2.firestore.persistenceSettings"),Z_=new a.OlP("angularfire2.firestore.settings"),uv=new a.OlP("angularfire2.firestore.use-emulator");function Gd(i,e=(t=>t)){return{query:e(i),ref:i}}let Dm=(()=>{class i{constructor(t,s,u,y,b,O,G,Q,pe,at,Ft,sn,Rn,qn,br,Ui,Ms){this.schedulers=G;const yi=(0,dt.on)(t,O,s),Xo=pe;at&&(0,dd.nw)(yi,O,Ft,Rn,qn,br,sn,Ui),[this.firestore,this.persistenceEnabled$]=(0,dt.cc)(`${yi.name}.firestore`,"AngularFirestore",yi.name,()=>{const Rs=O.runOutsideAngular(()=>yi.firestore());if(y&&Rs.settings(y),Xo&&Rs.useEmulator(...Xo),u&&!(0,Mt.PM)(b)){const Os=()=>{try{return(0,Ce.D)(Rs.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(Za){return typeof console<"u"&&console.warn(Za),(0,Te.of)(!1)}};return[Rs,O.runOutsideAngular(Os)]}return[Rs,(0,Te.of)(!1)]},[y,Xo,u])}collection(t,s){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:y,query:b}=Gd(u,s),O=this.schedulers.ngZone.run(()=>y);return new Cm(O,b,this)}collectionGroup(t,s){const u=s||(b=>b),y=this.firestore.collectionGroup(t);return new q_(u(y),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>s);return new Wp(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(dt.Dh),a.LFG(dt.xv,8),a.LFG(lv,8),a.LFG(Z_,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(be.HU),a.LFG(Kp,8),a.LFG(uv,8),a.LFG(dd.zQ,8),a.LFG(dd.Qv,8),a.LFG(dd.L6,8),a.LFG(dd._Q,8),a.LFG(dd.rT,8),a.LFG(dd.lh,8),a.LFG(dd.f7,8),a.LFG(G_.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),X_=(()=>{class i{constructor(){W_.Z.registerVersion("angularfire",be.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:lv,useValue:!0},{provide:Kp,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Dm]}),i})()},2011:(_n,yt,V)=>{"use strict";V.d(yt,{Dh:()=>De,GT:()=>be,cc:()=>ze,hO:()=>xe,on:()=>ve,pX:()=>Te,xv:()=>ke});var a=V(4650),ee=V(9260),z=V(2122);_n=V.hmd(_n);const Ce=["ngOnDestroy"],Te=(ye,de,ht,Be={})=>new Proxy(ye,{get:(Ze,Ue)=>ht.runOutsideAngular(()=>{var Oe;if(ye[Ue])return!(null===(Oe=null==Be?void 0:Be.spy)||void 0===Oe)&&Oe.get&&Be.spy.get(Ue,ye[Ue]),ye[Ue];if(Ce.indexOf(Ue)>-1)return()=>{};const Fe=de.toPromise().then(N=>{const Ge=N&&N[Ue];return"function"==typeof Ge?Ge.bind(N):Ge&&Ge.then?Ge.then(je=>ht.run(()=>je)):ht.run(()=>Ge)});return new Proxy(()=>{},{get:(N,Ge)=>Fe[Ge],apply:(N,Ge,je)=>Fe.then(Je=>{var tt;const ft=Je&&Je(...je);return!(null===(tt=null==Be?void 0:Be.spy)||void 0===tt)&&tt.apply&&Be.spy.apply(Ue,je,ft),ft})})})}),be=(ye,de)=>{de.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(Be=>{Object.defineProperty(ye.prototype,Be,Object.getOwnPropertyDescriptor(ht.prototype||ht,Be))})})};class ge{constructor(de){return de}}const De=new a.OlP("angularfire2.app.options"),ke=new a.OlP("angularfire2.app.name");function ve(ye,de,ht){const Ze="object"==typeof ht&&ht||{};Ze.name=Ze.name||"string"==typeof ht&&ht||"[DEFAULT]";const Oe=ee.Z.apps.filter(Fe=>Fe&&Fe.name===Ze.name)[0]||de.runOutsideAngular(()=>ee.Z.initializeApp(ye,Ze));try{JSON.stringify(ye)!==JSON.stringify(Oe.options)&&ie("error",`${Oe.name} Firebase App already initialized with different options${_n.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Fe){}return new ge(Oe)}const ie=(ye,...de)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ye](...de)},ce={provide:ge,useFactory:ve,deps:[De,a.R0b,[new a.FiY,ke]]};let xe=(()=>{class ye{constructor(ht){ee.Z.registerVersion("angularfire",z.q4.full,"core"),ee.Z.registerVersion("angularfire",z.q4.full,"app-compat"),ee.Z.registerVersion("angular",a.q4F.full,ht.toString())}static initializeApp(ht,Be){return{ngModule:ye,providers:[{provide:De,useValue:ht},{provide:ke,useValue:Be}]}}}return ye.\u0275fac=function(ht){return new(ht||ye)(a.LFG(a.Lbi))},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({providers:[ce]}),ye})();function ze(ye,de,ht,Be,Ze){const[,Ue,Oe]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===ye)||[];if(Ue)return function dt(ye,de){try{return ye.toString()===de.toString()}catch(ht){return ye===de}}(Ze,Oe)||(Re("error",`${de} was already initialized on the ${ht} Firebase App with different settings.${Mt?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:Ze,was:Oe})),Ue;{const Fe=Be();return globalThis.\u0275AngularfireInstanceCache.push([ye,Fe,Ze]),Fe}}const Mt=!!_n.hot,Re=(ye,...de)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ye](...de)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_n,yt,V)=>{"use strict";V.d(yt,{q4:()=>ia,iC:()=>Bn,HU:()=>ne,vb:()=>M,JM:()=>T});var a=V(4650),ee=V(259),z=V(5861),Ce=V(9681),Te=V(2090),be=V(4859),ge=V(1877),De=V(8766);const ke="@firebase/installations",ve="0.6.4",ie=1e4,ce=`w:${ve}`,xe="FIS_v2",ze="https://firebaseinstallations.googleapis.com/v1",dt=36e5,de=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(B){return B instanceof Te.ZR&&B.code.includes("request-failed")}function Be({projectId:B}){return`${ze}/projects/${B}/installations`}function Ze(B){return{token:B.token,requestStatus:2,expiresIn:Je(B.expiresIn),creationTime:Date.now()}}function Ue(B,H){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,z.Z)(function*(B,H){const Ve=(yield H.json()).error;return de.create("request-failed",{requestName:B,serverCode:Ve.code,serverMessage:Ve.message,serverStatus:Ve.status})})).apply(this,arguments)}function Fe({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Ge(B){return je.apply(this,arguments)}function je(){return(je=(0,z.Z)(function*(B){const H=yield B();return H.status>=500&&H.status<600?B():H})).apply(this,arguments)}function Je(B){return Number(B.replace("s","000"))}function st(){return(st=(0,z.Z)(function*({appConfig:B,heartbeatServiceProvider:H},{fid:te}){const Ve=Be(B),vt=Fe(B),Tt=H.getImmediate({optional:!0});if(Tt){const wr=yield Tt.getHeartbeatsHeader();wr&&vt.append("x-firebase-client",wr)}const Xn={method:"POST",headers:vt,body:JSON.stringify({fid:te,authVersion:xe,appId:B.appId,sdkVersion:ce})},jn=yield Ge(()=>fetch(Ve,Xn));if(jn.ok){const wr=yield jn.json();return{fid:wr.fid||te,registrationStatus:2,refreshToken:wr.refreshToken,authToken:Ze(wr.authToken)}}throw yield Ue("Create Installation",jn)})).apply(this,arguments)}function bt(B){return new Promise(H=>{setTimeout(H,B)})}const Me=/^[cdef][\w-]{21}$/,Pe="";function Se(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const te=function lt(B){return function gt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return Me.test(te)?te:Pe}catch(B){return Pe}}function Xe(B){return`${B.appName}!${B.appId}`}const ut=new Map;function ot(B,H){const te=Xe(B);Pt(te,H),function Ot(B,H){const te=function An(){return!$n&&"BroadcastChannel"in self&&($n=new BroadcastChannel("[Firebase] FID Change"),$n.onmessage=B=>{Pt(B.data.key,B.data.fid)}),$n}();te&&te.postMessage({key:B,fid:H}),function Mn(){0===ut.size&&$n&&($n.close(),$n=null)}()}(te,H)}function Pt(B,H){const te=ut.get(B);if(te)for(const Ve of te)Ve(H)}let $n=null;const Un="firebase-installations-database",yn=1,er="firebase-installations-store";let cr=null;function At(){return cr||(cr=(0,De.X3)(Un,yn,{upgrade:(B,H)=>{0===H&&B.createObjectStore(er)}})),cr}function mt(B,H){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,z.Z)(function*(B,H){const te=Xe(B),vt=(yield At()).transaction(er,"readwrite"),Tt=vt.objectStore(er),mn=yield Tt.get(te);return yield Tt.put(H,te),yield vt.done,(!mn||mn.fid!==H.fid)&&ot(B,H.fid),H})).apply(this,arguments)}function St(B){return bn.apply(this,arguments)}function bn(){return(bn=(0,z.Z)(function*(B){const H=Xe(B),Ve=(yield At()).transaction(er,"readwrite");yield Ve.objectStore(er).delete(H),yield Ve.done})).apply(this,arguments)}function on(B,H){return In.apply(this,arguments)}function In(){return(In=(0,z.Z)(function*(B,H){const te=Xe(B),vt=(yield At()).transaction(er,"readwrite"),Tt=vt.objectStore(er),mn=yield Tt.get(te),Xn=H(mn);return void 0===Xn?yield Tt.delete(te):yield Tt.put(Xn,te),yield vt.done,Xn&&(!mn||mn.fid!==Xn.fid)&&ot(B,Xn.fid),Xn})).apply(this,arguments)}function dr(B){return pr.apply(this,arguments)}function pr(){return pr=(0,z.Z)(function*(B){let H;const te=yield on(B.appConfig,Ve=>{const vt=function un(B){return ni(B||{fid:Se(),registrationStatus:0})}(Ve),Tt=function Cn(B,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(de.create("app-offline"))};const te={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Ve=function hn(B,H){return Fn.apply(this,arguments)}(B,te);return{installationEntry:te,registrationPromise:Ve}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:lr(B)}:{installationEntry:H}}(B,vt);return H=Tt.registrationPromise,Tt.installationEntry});return te.fid===Pe?{installationEntry:yield H}:{installationEntry:te,registrationPromise:H}}),pr.apply(this,arguments)}function Fn(){return Fn=(0,z.Z)(function*(B,H){try{const te=yield function ft(B,H){return st.apply(this,arguments)}(B,H);return mt(B.appConfig,te)}catch(te){throw ht(te)&&409===te.customData.serverCode?yield St(B.appConfig):yield mt(B.appConfig,{fid:H.fid,registrationStatus:0}),te}}),Fn.apply(this,arguments)}function lr(B){return nn.apply(this,arguments)}function nn(){return(nn=(0,z.Z)(function*(B){let H=yield yr(B.appConfig);for(;1===H.registrationStatus;)yield bt(100),H=yield yr(B.appConfig);if(0===H.registrationStatus){const{installationEntry:te,registrationPromise:Ve}=yield dr(B);return Ve||te}return H})).apply(this,arguments)}function yr(B){return on(B,H=>{if(!H)throw de.create("installation-not-found");return ni(H)})}function ni(B){return function ri(B){return 1===B.registrationStatus&&B.registrationTime+ie<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function ii(){return(ii=(0,z.Z)(function*({appConfig:B,heartbeatServiceProvider:H},te){const Ve=function rr(B,{fid:H}){return`${Be(B)}/${H}/authTokens:generate`}(B,te),vt=function N(B,{refreshToken:H}){const te=Fe(B);return te.append("Authorization",function tt(B){return`${xe} ${B}`}(H)),te}(B,te),Tt=H.getImmediate({optional:!0});if(Tt){const wr=yield Tt.getHeartbeatsHeader();wr&&vt.append("x-firebase-client",wr)}const Xn={method:"POST",headers:vt,body:JSON.stringify({installation:{sdkVersion:ce,appId:B.appId}})},jn=yield Ge(()=>fetch(Ve,Xn));if(jn.ok)return Ze(yield jn.json());throw yield Ue("Generate Auth Token",jn)})).apply(this,arguments)}function Hn(B){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,z.Z)(function*(B,H=!1){let te;const Ve=yield on(B.appConfig,Tt=>{if(!kt(Tt))throw de.create("not-registered");const mn=Tt.authToken;if(!H&&function Wt(B){return 2===B.requestStatus&&!function Ie(B){const H=Date.now();return H<B.creationTime||B.creationTime+B.expiresIn<H+dt}(B)}(mn))return Tt;if(1===mn.requestStatus)return te=function cn(B,H){return qt.apply(this,arguments)}(B,H),Tt;{if(!navigator.onLine)throw de.create("app-offline");const Xn=function Ee(B){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:H})}(Tt);return te=function Ae(B,H){return We.apply(this,arguments)}(B,Xn),Xn}});return te?yield te:Ve.authToken}),Qr.apply(this,arguments)}function qt(){return(qt=(0,z.Z)(function*(B,H){let te=yield Et(B.appConfig);for(;1===te.authToken.requestStatus;)yield bt(100),te=yield Et(B.appConfig);const Ve=te.authToken;return 0===Ve.requestStatus?Hn(B,H):Ve})).apply(this,arguments)}function Et(B){return on(B,H=>{if(!kt(H))throw de.create("not-registered");return function Ye(B){return 1===B.requestStatus&&B.requestTime+ie<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function We(){return We=(0,z.Z)(function*(B,H){try{const te=yield function xr(B,H){return ii.apply(this,arguments)}(B,H),Ve=Object.assign(Object.assign({},H),{authToken:te});return yield mt(B.appConfig,Ve),te}catch(te){if(!ht(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Ve=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield mt(B.appConfig,Ve)}else yield St(B.appConfig);throw te}}),We.apply(this,arguments)}function kt(B){return void 0!==B&&2===B.registrationStatus}function Ct(){return(Ct=(0,z.Z)(function*(B){const H=B,{installationEntry:te,registrationPromise:Ve}=yield dr(H);return Ve?Ve.catch(console.error):Hn(H).catch(console.error),te.fid})).apply(this,arguments)}function Qe(){return Qe=(0,z.Z)(function*(B,H=!1){const te=B;return yield function qe(B){return me.apply(this,arguments)}(te),(yield Hn(te,H)).token}),Qe.apply(this,arguments)}function me(){return(me=(0,z.Z)(function*(B){const{registrationPromise:H}=yield dr(B);H&&(yield H)})).apply(this,arguments)}function ji(B){return de.create("missing-app-config-values",{valueName:B})}const oi="installations",Fr=B=>{const H=B.getProvider("app").getImmediate(),te=function bi(B){if(!B||!B.options)throw ji("App Configuration");if(!B.name)throw ji("App Name");const H=["projectId","apiKey","appId"];for(const te of H)if(!B.options[te])throw ji(te);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(H);return{app:H,appConfig:te,heartbeatServiceProvider:(0,Ce._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},es=B=>{const H=B.getProvider("app").getImmediate(),te=(0,Ce._getProvider)(H,oi).getImmediate();return{getId:()=>function Rt(B){return Ct.apply(this,arguments)}(te),getToken:vt=>function wn(B){return Qe.apply(this,arguments)}(te,vt)}};(function Ni(){(0,Ce._registerComponent)(new be.wA(oi,Fr,"PUBLIC")),(0,Ce._registerComponent)(new be.wA("installations-internal",es,"PRIVATE"))})(),(0,Ce.registerVersion)(ke,ve),(0,Ce.registerVersion)(ke,ve,"esm2017");const ir="@firebase/remote-config",Mr=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pn{constructor(H,te,Ve,vt){this.client=H,this.storage=te,this.storageCache=Ve,this.logger=vt}isCachedDataFresh(H,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ve=Date.now()-te,vt=Ve<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ve}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${vt}.`),vt}fetch(H){var te=this;return(0,z.Z)(function*(){const[Ve,vt]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(vt&&te.isCachedDataFresh(H.cacheMaxAgeMillis,Ve))return vt;H.eTag=vt&&vt.eTag;const Tt=yield te.client.fetch(H),mn=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Tt.status&&mn.push(te.storage.setLastSuccessfulFetchResponse(Tt)),yield Promise.all(mn),Tt})()}}function vn(B=navigator){return B.languages&&B.languages[0]||B.language}class Wn{constructor(H,te,Ve,vt,Tt,mn){this.firebaseInstallations=H,this.sdkVersion=te,this.namespace=Ve,this.projectId=vt,this.apiKey=Tt,this.appId=mn}fetch(H){var te=this;return(0,z.Z)(function*(){const[Ve,vt]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),mn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Xn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},jn={sdk_version:te.sdkVersion,app_instance_id:Ve,app_instance_id_token:vt,app_id:te.appId,language_code:vn()},wr={method:"POST",headers:Xn,body:JSON.stringify(jn)},Kr=fetch(mn,wr),tr=new Promise((wo,Ws)=>{H.signal.addEventListener(()=>{const ru=new Error("The operation was aborted.");ru.name="AbortError",Ws(ru)})});let Io;try{yield Promise.race([Kr,tr]),Io=yield Kr}catch(wo){let Ws="fetch-client-network";throw"AbortError"===(null==wo?void 0:wo.name)&&(Ws="fetch-timeout"),Mr.create(Ws,{originalErrorMessage:null==wo?void 0:wo.message})}let zi=Io.status;const Gi=Io.headers.get("ETag")||void 0;let Va,Ua;if(200===Io.status){let wo;try{wo=yield Io.json()}catch(Ws){throw Mr.create("fetch-client-parse",{originalErrorMessage:null==Ws?void 0:Ws.message})}Va=wo.entries,Ua=wo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ua?zi=500:"NO_CHANGE"===Ua?zi=304:("NO_TEMPLATE"===Ua||"EMPTY_CONFIG"===Ua)&&(Va={}),304!==zi&&200!==zi)throw Mr.create("fetch-status",{httpStatus:zi});return{status:zi,eTag:Gi,config:Va}})()}}class Ke{constructor(H,te){this.client=H,this.storage=te}fetch(H){var te=this;return(0,z.Z)(function*(){const Ve=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(H,Ve)})()}attemptFetch(H,{throttleEndTimeMillis:te,backoffCount:Ve}){var vt=this;return(0,z.Z)(function*(){yield function gr(B,H){return new Promise((te,Ve)=>{const vt=Math.max(H-Date.now(),0),Tt=setTimeout(te,vt);B.addEventListener(()=>{clearTimeout(Tt),Ve(Mr.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,te);try{const Tt=yield vt.client.fetch(H);return yield vt.storage.deleteThrottleMetadata(),Tt}catch(Tt){if(!function ct(B){if(!(B instanceof Te.ZR&&B.customData))return!1;const H=Number(B.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Tt))throw Tt;const mn={throttleEndTimeMillis:Date.now()+(0,Te.$s)(Ve),backoffCount:Ve+1};return yield vt.storage.setThrottleMetadata(mn),vt.attemptFetch(H,mn)}})()}}class Xt{constructor(H,te,Ve,vt,Tt){this.app=H,this._client=te,this._storageCache=Ve,this._storage=vt,this._logger=Tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gn(B,H){const te=B.target.error||void 0;return Mr.create(H,{originalErrorMessage:te&&(null==te?void 0:te.message)})}const Zn="app_namespace_store";class si{constructor(H,te,Ve,vt=function ws(){return new Promise((B,H)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Ve=>{H(gn(Ve,"storage-open"))},te.onsuccess=Ve=>{B(Ve.target.result)},te.onupgradeneeded=Ve=>{0===Ve.oldVersion&&Ve.target.result.createObjectStore(Zn,{keyPath:"compositeKey"})}}catch(te){H(Mr.create("storage-open",{originalErrorMessage:null==te?void 0:te.message}))}})}()){this.appId=H,this.appName=te,this.namespace=Ve,this.openDbPromise=vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var te=this;return(0,z.Z)(function*(){const Ve=yield te.openDbPromise;return new Promise((vt,Tt)=>{const Xn=Ve.transaction([Zn],"readonly").objectStore(Zn),jn=te.createCompositeKey(H);try{const wr=Xn.get(jn);wr.onerror=Kr=>{Tt(gn(Kr,"storage-get"))},wr.onsuccess=Kr=>{const tr=Kr.target.result;vt(tr?tr.value:void 0)}}catch(wr){Tt(Mr.create("storage-get",{originalErrorMessage:null==wr?void 0:wr.message}))}})})()}set(H,te){var Ve=this;return(0,z.Z)(function*(){const vt=yield Ve.openDbPromise;return new Promise((Tt,mn)=>{const jn=vt.transaction([Zn],"readwrite").objectStore(Zn),wr=Ve.createCompositeKey(H);try{const Kr=jn.put({compositeKey:wr,value:te});Kr.onerror=tr=>{mn(gn(tr,"storage-set"))},Kr.onsuccess=()=>{Tt()}}catch(Kr){mn(Mr.create("storage-set",{originalErrorMessage:null==Kr?void 0:Kr.message}))}})})()}delete(H){var te=this;return(0,z.Z)(function*(){const Ve=yield te.openDbPromise;return new Promise((vt,Tt)=>{const Xn=Ve.transaction([Zn],"readwrite").objectStore(Zn),jn=te.createCompositeKey(H);try{const wr=Xn.delete(jn);wr.onerror=Kr=>{Tt(gn(Kr,"storage-delete"))},wr.onsuccess=()=>{vt()}}catch(wr){Tt(Mr.create("storage-delete",{originalErrorMessage:null==wr?void 0:wr.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class di{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,z.Z)(function*(){const te=H.storage.getLastFetchStatus(),Ve=H.storage.getLastSuccessfulFetchTimestampMillis(),vt=H.storage.getActiveConfig(),Tt=yield te;Tt&&(H.lastFetchStatus=Tt);const mn=yield Ve;mn&&(H.lastSuccessfulFetchTimestampMillis=mn);const Xn=yield vt;Xn&&(H.activeConfig=Xn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function Hi(){return po.apply(this,arguments)}function po(){return(po=(0,z.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(B){return!1}})).apply(this,arguments)}!function zr(){(0,Ce._registerComponent)(new be.wA("remote-config",function B(H,{instanceIdentifier:te}){const Ve=H.getProvider("app").getImmediate(),vt=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!(0,Te.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:Tt,apiKey:mn,appId:Xn}=Ve.options;if(!Tt)throw Mr.create("registration-project-id");if(!mn)throw Mr.create("registration-api-key");if(!Xn)throw Mr.create("registration-app-id");const jn=new si(Xn,Ve.name,te=te||"firebase"),wr=new di(jn),Kr=new ge.Yd(ir);Kr.logLevel=ge.in.ERROR;const tr=new Wn(vt,Ce.SDK_VERSION,te,Tt,mn,Xn),Io=new Ke(tr,jn),zi=new pn(Io,jn,wr,Kr),Gi=new Xt(Ve,zi,wr,jn,Kr);return function Y(B){const H=(0,Te.m9)(B);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Gi),Gi},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(ir,"0.4.4"),(0,Ce.registerVersion)(ir,"0.4.4","esm2017")}();const Ki="/firebase-messaging-sw.js",ps="/firebase-cloud-messaging-push-scope",Yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ts="https://fcmregistrations.googleapis.com/v1",so="google.c.a.c_id",gs="google.c.a.c_l",Ys="google.c.a.ts",Qi="google.c.a.e";var Hs=(()=>{return(B=Hs||(Hs={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",Hs;var B})();function ms(B){const H=new Uint8Array(B);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qo(B){const te=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ve=atob(te),vt=new Uint8Array(Ve.length);for(let Tt=0;Tt<Ve.length;++Tt)vt[Tt]=Ve.charCodeAt(Tt);return vt}const go="fcm_token_details_db",mo=5,ai="fcm_token_object_Store";function Ps(){return Ps=(0,z.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tt=>Tt.name).includes(go))return null;let H=null;return(yield(0,De.X3)(go,mo,{upgrade:(Ve=(0,z.Z)(function*(vt,Tt,mn,Xn){var jn;if(Tt<2||!vt.objectStoreNames.contains(ai))return;const wr=Xn.objectStore(ai),Kr=yield wr.index("fcmSenderId").get(B);if(yield wr.clear(),Kr)if(2===Tt){const tr=Kr;if(!tr.auth||!tr.p256dh||!tr.endpoint)return;H={token:tr.fcmToken,createTime:null!==(jn=tr.createTime)&&void 0!==jn?jn:Date.now(),subscriptionOptions:{auth:tr.auth,p256dh:tr.p256dh,endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:"string"==typeof tr.vapidKey?tr.vapidKey:ms(tr.vapidKey)}}}else if(3===Tt){const tr=Kr;H={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:ms(tr.auth),p256dh:ms(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:ms(tr.vapidKey)}}}else if(4===Tt){const tr=Kr;H={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:ms(tr.auth),p256dh:ms(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:ms(tr.vapidKey)}}}}),function(Tt,mn,Xn,jn){return Ve.apply(this,arguments)})})).close(),yield(0,De.Lj)(go),yield(0,De.Lj)("fcm_vapid_details_db"),yield(0,De.Lj)("undefined"),function Ns(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:H}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}(H)?H:null;var Ve}),Ps.apply(this,arguments)}const ks="firebase-messaging-database",jr=1,xi="firebase-messaging-store";let Mi=null;function ys(){return Mi||(Mi=(0,De.X3)(ks,jr,{upgrade:(B,H)=>{0===H&&B.createObjectStore(xi)}})),Mi}function _i(B){return qs.apply(this,arguments)}function qs(){return qs=(0,z.Z)(function*(B){const H=ss(B),Ve=yield(yield ys()).transaction(xi).objectStore(xi).get(H);if(Ve)return Ve;{const vt=yield function ur(B){return Ps.apply(this,arguments)}(B.appConfig.senderId);if(vt)return yield ns(B,vt),vt}}),qs.apply(this,arguments)}function ns(B,H){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,z.Z)(function*(B,H){const te=ss(B),vt=(yield ys()).transaction(xi,"readwrite");return yield vt.objectStore(xi).put(H,te),yield vt.done,H})).apply(this,arguments)}function Ao(){return(Ao=(0,z.Z)(function*(B){const H=ss(B),Ve=(yield ys()).transaction(xi,"readwrite");yield Ve.objectStore(xi).delete(H),yield Ve.done})).apply(this,arguments)}function ss({appConfig:B}){return B.appId}const Nr=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zs(B,H){return vo.apply(this,arguments)}function vo(){return(vo=(0,z.Z)(function*(B,H){const te=yield Ko(B),Ve=Ei(H),vt={method:"POST",headers:te,body:JSON.stringify(Ve)};let Tt;try{Tt=yield(yield fetch(Wo(B.appConfig),vt)).json()}catch(mn){throw Nr.create("token-subscribe-failed",{errorInfo:null==mn?void 0:mn.toString()})}if(Tt.error)throw Nr.create("token-subscribe-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Nr.create("token-subscribe-no-token");return Tt.token})).apply(this,arguments)}function Go(){return(Go=(0,z.Z)(function*(B,H){const te=yield Ko(B),Ve=Ei(H.subscriptionOptions),vt={method:"PATCH",headers:te,body:JSON.stringify(Ve)};let Tt;try{Tt=yield(yield fetch(`${Wo(B.appConfig)}/${H.token}`,vt)).json()}catch(mn){throw Nr.create("token-update-failed",{errorInfo:null==mn?void 0:mn.toString()})}if(Tt.error)throw Nr.create("token-update-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Nr.create("token-update-no-token");return Tt.token})).apply(this,arguments)}function Zs(B,H){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,z.Z)(function*(B,H){const Ve={method:"DELETE",headers:yield Ko(B)};try{const Tt=yield(yield fetch(`${Wo(B.appConfig)}/${H}`,Ve)).json();if(Tt.error)throw Nr.create("token-unsubscribe-failed",{errorInfo:Tt.error.message})}catch(vt){throw Nr.create("token-unsubscribe-failed",{errorInfo:null==vt?void 0:vt.toString()})}})).apply(this,arguments)}function Wo({projectId:B}){return`${ts}/projects/${B}/registrations`}function Ko(B){return vs.apply(this,arguments)}function vs(){return(vs=(0,z.Z)(function*({appConfig:B,installations:H}){const te=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function Ei({p256dh:B,auth:H,endpoint:te,vapidKey:Ve}){const vt={web:{endpoint:te,auth:H,p256dh:B}};return Ve!==Yi&&(vt.web.applicationPubKey=Ve),vt}const ki=6048e5;function _s(){return _s=(0,z.Z)(function*(B){const H=yield function Qs(B,H){return Ds.apply(this,arguments)}(B.swRegistration,B.vapidKey),te={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:H.endpoint,auth:ms(H.getKey("auth")),p256dh:ms(H.getKey("p256dh"))},Ve=yield _i(B.firebaseDependencies);if(Ve){if(function xa(B,H){return H.vapidKey===B.vapidKey&&H.endpoint===B.endpoint&&H.auth===B.auth&&H.p256dh===B.p256dh}(Ve.subscriptionOptions,te))return Date.now()>=Ve.createTime+ki?function Mo(B,H){return Ir.apply(this,arguments)}(B,{token:Ve.token,createTime:Date.now(),subscriptionOptions:te}):Ve.token;try{yield Zs(B.firebaseDependencies,Ve.token)}catch(vt){console.warn(vt)}return li(B.firebaseDependencies,te)}return li(B.firebaseDependencies,te)}),_s.apply(this,arguments)}function xo(){return xo=(0,z.Z)(function*(B){const H=yield _i(B.firebaseDependencies);H&&(yield Zs(B.firebaseDependencies,H.token),yield function yo(B){return Ao.apply(this,arguments)}(B.firebaseDependencies));const te=yield B.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),xo.apply(this,arguments)}function Ir(){return Ir=(0,z.Z)(function*(B,H){try{const te=yield function ci(B,H){return Go.apply(this,arguments)}(B.firebaseDependencies,H),Ve=Object.assign(Object.assign({},H),{token:te,createTime:Date.now()});return yield ns(B.firebaseDependencies,Ve),te}catch(te){throw yield function fr(B){return xo.apply(this,arguments)}(B),te}}),Ir.apply(this,arguments)}function li(B,H){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,z.Z)(function*(B,H){const Ve={token:yield zs(B,H),createTime:Date.now(),subscriptionOptions:H};return yield ns(B,Ve),Ve.token})).apply(this,arguments)}function Ds(){return(Ds=(0,z.Z)(function*(B,H){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qo(H)})})).apply(this,arguments)}function Ss(B){const H={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Ts(B,H){if(!H.notification)return;B.notification={};const te=H.notification.title;te&&(B.notification.title=te);const Ve=H.notification.body;Ve&&(B.notification.body=Ve);const vt=H.notification.image;vt&&(B.notification.image=vt);const Tt=H.notification.icon;Tt&&(B.notification.icon=Tt)}(H,B),function g(B,H){H.data&&(B.data=H.data)}(H,B),function I(B,H){var te,Ve,vt,Tt,mn;if(!(H.fcmOptions||null!==(te=H.notification)&&void 0!==te&&te.click_action))return;B.fcmOptions={};const Xn=null!==(vt=null===(Ve=H.fcmOptions)||void 0===Ve?void 0:Ve.link)&&void 0!==vt?vt:null===(Tt=H.notification)||void 0===Tt?void 0:Tt.click_action;Xn&&(B.fcmOptions.link=Xn);const jn=null===(mn=H.fcmOptions)||void 0===mn?void 0:mn.analytics_label;jn&&(B.fcmOptions.analyticsLabel=jn)}(H,B),H}function D(B,H){const te=[];for(let Ve=0;Ve<B.length;Ve++)te.push(B.charAt(Ve)),Ve<H.length&&te.push(H.charAt(Ve));return te.join("")}function et(B){return Nr.create("missing-app-config-values",{valueName:B})}D("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),D("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class an{constructor(H,te,Ve){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const vt=function q(B){if(!B||!B.options)throw et("App Configuration Object");if(!B.name)throw et("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:te}=B;for(const Ve of H)if(!te[Ve])throw et(Ve);return{appName:B.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:vt,installations:te,analyticsProvider:Ve}}_delete(){return Promise.resolve()}}function xn(B){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,z.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(Ki,{scope:ps}),B.swRegistration.update().catch(()=>{})}catch(H){throw Nr.create("failed-service-worker-registration",{browserErrorMessage:null==H?void 0:H.message})}})).apply(this,arguments)}function Gr(){return(Gr=(0,z.Z)(function*(B,H){if(!H&&!B.swRegistration&&(yield xn(B)),H||!B.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw Nr.create("invalid-sw-registration");B.swRegistration=H}})).apply(this,arguments)}function qi(){return(qi=(0,z.Z)(function*(B,H){H?B.vapidKey=H:B.vapidKey||(B.vapidKey=Yi)})).apply(this,arguments)}function qr(){return qr=(0,z.Z)(function*(B,H){if(!navigator)throw Nr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nr.create("permission-blocked");return yield function Pr(B,H){return qi.apply(this,arguments)}(B,null==H?void 0:H.vapidKey),yield function Or(B,H){return Gr.apply(this,arguments)}(B,null==H?void 0:H.serviceWorkerRegistration),function Ji(B){return _s.apply(this,arguments)}(B)}),qr.apply(this,arguments)}function As(){return(As=(0,z.Z)(function*(B,H,te){const Ve=function Jo(B){switch(B){case Hs.NOTIFICATION_CLICKED:return"notification_open";case Hs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(H);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Ve,{message_id:te[so],message_name:te[gs],message_time:te[Ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ro(){return Ro=(0,z.Z)(function*(B,H){const te=H.data;if(!te.isFirebaseMessaging)return;B.onMessageHandler&&te.messageType===Hs.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Ss(te)):B.onMessageHandler.next(Ss(te)));const Ve=te.data;(function h(B){return"object"==typeof B&&!!B&&so in B})(Ve)&&"1"===Ve[Qi]&&(yield function Fi(B,H,te){return As.apply(this,arguments)}(B,te.messageType,Ve))}),Ro.apply(this,arguments)}const ea="@firebase/messaging",Xa=B=>{const H=new an(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function as(B,H){return Ro.apply(this,arguments)}(H,te)),H},Oo=B=>{const H=B.getProvider("messaging").getImmediate();return{getToken:Ve=>function os(B,H){return qr.apply(this,arguments)}(H,Ve)}};function ca(){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,z.Z)(function*(){try{yield(0,Te.eu)()}catch(B){return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Po(){(0,Ce._registerComponent)(new be.wA("messaging",Xa,"PUBLIC")),(0,Ce._registerComponent)(new be.wA("messaging-internal",Oo,"PRIVATE")),(0,Ce.registerVersion)(ea,"0.12.4"),(0,Ce.registerVersion)(ea,"0.12.4","esm2017")}();const Eo="analytics",Bo="firebase_id",Zi="origin",ls=6e4,fi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$o="https://www.googletagmanager.com/gtag/js",Ri=new ge.Yd("@firebase/analytics"),Es=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Qa(B){if(!B.startsWith($o)){const H=Es.create("invalid-gtag-resource",{gtagURL:B});return Ri.warn(H.message),""}return B}function gl(B){return Promise.all(B.map(H=>H.catch(te=>te)))}function U(){return(U=(0,z.Z)(function*(B,H,te,Ve,vt,Tt){const mn=Ve[vt];try{if(mn)yield H[mn];else{const jn=(yield gl(te)).find(wr=>wr.measurementId===vt);jn&&(yield H[jn.appId])}}catch(Xn){Ri.error(Xn)}B("config",vt,Tt)})).apply(this,arguments)}function we(){return(we=(0,z.Z)(function*(B,H,te,Ve,vt){try{let Tt=[];if(vt&&vt.send_to){let mn=vt.send_to;Array.isArray(mn)||(mn=[mn]);const Xn=yield gl(te);for(const jn of mn){const wr=Xn.find(tr=>tr.measurementId===jn),Kr=wr&&H[wr.appId];if(!Kr){Tt=[];break}Tt.push(Kr)}}0===Tt.length&&(Tt=Object.values(H)),yield Promise.all(Tt),B("event",Ve,vt||{})}catch(Tt){Ri.error(Tt)}})).apply(this,arguments)}const Wr=30,sr=new class vr{constructor(H={},te=1e3){this.throttleMetadata=H,this.intervalMillis=te}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,te){this.throttleMetadata[H]=te}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function Li(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Nn(){return(Nn=(0,z.Z)(function*(B){var H;const{appId:te,apiKey:Ve}=B,vt={method:"GET",headers:Li(Ve)},Tt=fi.replace("{app-id}",te),mn=yield fetch(Tt,vt);if(200!==mn.status&&304!==mn.status){let Xn="";try{const jn=yield mn.json();null!==(H=jn.error)&&void 0!==H&&H.message&&(Xn=jn.error.message)}catch(jn){}throw Es.create("config-fetch-failed",{httpStatus:mn.status,responseMessage:Xn})}return mn.json()})).apply(this,arguments)}function fn(){return(fn=(0,z.Z)(function*(B,H=sr,te){const{appId:Ve,apiKey:vt,measurementId:Tt}=B.options;if(!Ve)throw Es.create("no-app-id");if(!vt){if(Tt)return{measurementId:Tt,appId:Ve};throw Es.create("no-api-key")}const mn=H.getThrottleMetadata(Ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xn=new Oa;return setTimeout((0,z.Z)(function*(){Xn.abort()}),void 0!==te?te:ls),$t({appId:Ve,apiKey:vt,measurementId:Tt},mn,Xn,H)})).apply(this,arguments)}function $t(B,H,te){return rn.apply(this,arguments)}function rn(){return rn=(0,z.Z)(function*(B,{throttleEndTimeMillis:H,backoffCount:te},Ve,vt=sr){var Tt;const{appId:mn,measurementId:Xn}=B;try{yield function Oi(B,H){return new Promise((te,Ve)=>{const vt=Math.max(H-Date.now(),0),Tt=setTimeout(te,vt);B.addEventListener(()=>{clearTimeout(Tt),Ve(Es.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(Ve,H)}catch(jn){if(Xn)return Ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xn} provided in the "measurementId" field in the local Firebase config. [${null==jn?void 0:jn.message}]`),{appId:mn,measurementId:Xn};throw jn}try{const jn=yield function Dn(B){return Nn.apply(this,arguments)}(B);return vt.deleteThrottleMetadata(mn),jn}catch(jn){const wr=jn;if(!function Gs(B){if(!(B instanceof Te.ZR&&B.customData))return!1;const H=Number(B.customData.httpStatus);return 429===H||500===H||503===H||504===H}(wr)){if(vt.deleteThrottleMetadata(mn),Xn)return Ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xn} provided in the "measurementId" field in the local Firebase config. [${null==wr?void 0:wr.message}]`),{appId:mn,measurementId:Xn};throw jn}const Kr=503===Number(null===(Tt=null==wr?void 0:wr.customData)||void 0===Tt?void 0:Tt.httpStatus)?(0,Te.$s)(te,vt.intervalMillis,Wr):(0,Te.$s)(te,vt.intervalMillis),tr={throttleEndTimeMillis:Date.now()+Kr,backoffCount:te+1};return vt.setThrottleMetadata(mn,tr),Ri.debug(`Calling attemptFetch again in ${Kr} millis`),$t(B,tr,Ve,vt)}}),rn.apply(this,arguments)}class Oa{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let Pa,pa;function na(){return(na=(0,z.Z)(function*(B,H,te,Ve,vt){if(vt&&vt.global)B("event",te,Ve);else{const Tt=yield H;B("event",te,Object.assign(Object.assign({},Ve),{send_to:Tt}))}})).apply(this,arguments)}function Zr(){return(Zr=(0,z.Z)(function*(){if(!(0,Te.hl)())return Ri.warn(Es.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(B){return Ri.warn(Es.create("indexeddb-unavailable",{errorInfo:null==B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function gi(){return gi=(0,z.Z)(function*(B,H,te,Ve,vt,Tt,mn){var Xn;const jn=function Yo(B){return fn.apply(this,arguments)}(B);jn.then(zi=>{te[zi.measurementId]=zi.appId,B.options.measurementId&&zi.measurementId!==B.options.measurementId&&Ri.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${zi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zi=>Ri.error(zi)),H.push(jn);const wr=function ga(){return Zr.apply(this,arguments)}().then(zi=>{if(zi)return Ve.getId()}),[Kr,tr]=yield Promise.all([jn,wr]);(function Vn(B){const H=window.document.getElementsByTagName("script");for(const te of Object.values(H))if(te.src&&te.src.includes($o)&&te.src.includes(B))return te;return null})(Tt)||function ha(B,H){const te=function Vo(B,H){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(B,H)),te}("firebase-js-sdk-policy",{createScriptURL:Qa}),Ve=document.createElement("script"),vt=`${$o}?l=${B}&id=${H}`;Ve.src=te?null==te?void 0:te.createScriptURL(vt):vt,Ve.async=!0,document.head.appendChild(Ve)}(Tt,Kr.measurementId),pa&&(vt("consent","default",pa),function pi(B){pa=B}(void 0)),vt("js",new Date);const Io=null!==(Xn=null==mn?void 0:mn.config)&&void 0!==Xn?Xn:{};return Io[Zi]="firebase",Io.update=!0,null!=tr&&(Io[Bo]=tr),vt("config",Kr.measurementId,Io),Pa&&(vt("set",Pa),function ar(B){Pa=B}(void 0)),Kr.measurementId}),gi.apply(this,arguments)}class Ln{constructor(H){this.app=H}_delete(){return delete Bi[this.app.options.appId],Promise.resolve()}}let Bi={},Fa=[];const Bs={};let ma,rs,el="dataLayer",La="gtag",Rl=!1;function tl(B,H,te){!function is(){const B=[];if((0,Te.ru)()&&B.push("This is a browser extension environment."),(0,Te.zI)()||B.push("Cookies are not available."),B.length>0){const H=B.map((Ve,vt)=>`(${vt+1}) ${Ve}`).join(" "),te=Es.create("invalid-analytics-context",{errorInfo:H});Ri.warn(te.message)}}();const Ve=B.options.appId;if(!Ve)throw Es.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Es.create("no-api-key");Ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bi[Ve])throw Es.create("already-exists",{id:Ve});if(!Rl){!function k(B){let H=[];Array.isArray(window[B])?H=window[B]:window[B]=H}(el);const{wrappedGtag:Tt,gtagCore:mn}=function Qt(B,H,te,Ve,vt){let Tt=function(...mn){window[Ve].push(arguments)};return window[vt]&&"function"==typeof window[vt]&&(Tt=window[vt]),window[vt]=function Bt(B,H,te,Ve){function Tt(){return Tt=(0,z.Z)(function*(mn,Xn,jn){try{"event"===mn?yield function se(B,H,te,Ve,vt){return we.apply(this,arguments)}(B,H,te,Xn,jn):"config"===mn?yield function K(B,H,te,Ve,vt,Tt){return U.apply(this,arguments)}(B,H,te,Ve,Xn,jn):"consent"===mn?B("consent","update",jn):B("set",Xn)}catch(wr){Ri.error(wr)}}),Tt.apply(this,arguments)}return function vt(mn,Xn,jn){return Tt.apply(this,arguments)}}(Tt,B,H,te),{gtagCore:Tt,wrappedGtag:window[vt]}}(Bi,Fa,Bs,el,La);rs=Tt,ma=mn,Rl=!0}return Bi[Ve]=function Uu(B,H,te,Ve,vt,Tt,mn){return gi.apply(this,arguments)}(B,Fa,Bs,H,ma,el,te),new Ln(B)}function us(){return ra.apply(this,arguments)}function ra(){return(ra=(0,z.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(B){return!1}})).apply(this,arguments)}const va="@firebase/analytics";!function vl(){(0,Ce._registerComponent)(new be.wA(Eo,(H,{options:te})=>tl(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,Ce._registerComponent)(new be.wA("analytics-internal",function B(H){try{const te=H.getProvider(Eo).getImmediate();return{logEvent:(Ve,vt,Tt)=>function ya(B,H,te,Ve){B=(0,Te.m9)(B),function ml(B,H,te,Ve,vt){return na.apply(this,arguments)}(rs,Bi[B.app.options.appId],H,te,Ve).catch(vt=>Ri.error(vt))}(te,Ve,vt,Tt)}}catch(te){throw Es.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,Ce.registerVersion)(va,"0.9.5"),(0,Ce.registerVersion)(va,"0.9.5","esm2017")}();var eu=V(4408),to=V(7565);const No=new class Pl extends to.v{}(class Cc extends eu.o{constructor(H,te){super(H,te),this.scheduler=H,this.work=te}schedule(H,te=0){return te>0?super.schedule(H,te):(this.delay=te,this.state=H,this.scheduler.flush(this),this)}execute(H,te){return te>0||this.closed?super.execute(H,te):this._execute(H,te)}requestAsyncId(H,te,Ve=0){return null!=Ve&&Ve>0||null==Ve&&this.delay>0?super.requestAsyncId(H,te,Ve):(H.flush(this),0)}});var no=V(4986),Xi=V(8505),rl=V(9468),Pi=V(5363);const ia=new a.GfV("7.5.0"),cs="__angularfire_symbol__analyticsIsSupportedValue",$s="__angularfire_symbol__analyticsIsSupported",$a="__angularfire_symbol__remoteConfigIsSupportedValue",sa="__angularfire_symbol__remoteConfigIsSupported",oa="__angularfire_symbol__messagingIsSupportedValue",Nl="__angularfire_symbol__messagingIsSupported";function T(B,H,te){if(H){if(1===H.length)return H[0];const Tt=H.filter(mn=>mn.app===te);if(1===Tt.length)return Tt[0]}return te.container.getProvider(B).getImmediate({optional:!0})}globalThis[$s]||(globalThis[$s]=us().then(B=>globalThis[cs]=B).catch(()=>globalThis[cs]=!1)),globalThis[Nl]||(globalThis[Nl]=ca().then(B=>globalThis[oa]=B).catch(()=>globalThis[oa]=!1)),globalThis[sa]||(globalThis[sa]=Hi().then(B=>globalThis[$a]=B).catch(()=>globalThis[$a]=!1));const M=(B,H)=>{const te=H?[H]:(0,ee.C6)(),Ve=[];return te.forEach(vt=>{vt.container.getProvider(B).instances.forEach(mn=>{Ve.includes(mn)||Ve.push(mn)})}),Ve};function w(){}class R{constructor(H,te=No){this.zone=H,this.delegate=te}now(){return this.delegate.now()}schedule(H,te,Ve){const vt=this.zone;return this.delegate.schedule(function(mn){vt.runGuarded(()=>{H.apply(this,[mn])})},te,Ve)}}class j{constructor(H){this.zone=H,this.task=null}call(H,te){const Ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",w,{},w,w)),te.pipe((0,Xi.b)({next:Ve,complete:Ve,error:Ve})).subscribe(H).add(Ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ne=(()=>{class B{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new R(Zone.current)),this.insideAngular=te.run(()=>new R(Zone.current,no.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(te){return new(te||B)(a.LFG(a.R0b))},B.\u0275prov=a.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function ue(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Bn(B){return ue(),function ti(B){return function(te){return(te=te.lift(new j(B.ngZone))).pipe((0,rl.R)(B.outsideAngular),(0,Pi.Q)(B.insideAngular))}}(ue())(B)}},2090:(_n,yt,V)=>{"use strict";V.d(yt,{$s:()=>Ae,BH:()=>Ue,DV:()=>cr,Dv:()=>nn,G6:()=>Me,GJ:()=>yn,L:()=>ke,LL:()=>ot,Pz:()=>Ze,Sg:()=>Oe,UG:()=>Ge,UI:()=>mt,US:()=>be,Wj:()=>ri,Wl:()=>Ot,Yr:()=>gt,ZB:()=>ce,ZR:()=>ut,aH:()=>Be,b$:()=>tt,cI:()=>Pt,dS:()=>ii,eu:()=>Se,g5:()=>z,gK:()=>yr,gQ:()=>pr,h$:()=>De,hl:()=>Pe,hu:()=>ee,jU:()=>je,lb:()=>xr,m9:()=>Wt,ne:()=>un,p$:()=>ie,pd:()=>dr,r3:()=>er,ru:()=>Je,tV:()=>ve,uI:()=>N,ug:()=>rr,vZ:()=>Nt,w1:()=>st,w9:()=>Un,xO:()=>on,xb:()=>At,z$:()=>Fe,zI:()=>lt,zd:()=>In});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ee=function(Ie,Ee){if(!Ie)throw z(Ee)},z=function(Ie){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ie)},Ce=function(Ie){const Ee=[];let Ye=0;for(let Rt=0;Rt<Ie.length;Rt++){let Ct=Ie.charCodeAt(Rt);Ct<128?Ee[Ye++]=Ct:Ct<2048?(Ee[Ye++]=Ct>>6|192,Ee[Ye++]=63&Ct|128):55296==(64512&Ct)&&Rt+1<Ie.length&&56320==(64512&Ie.charCodeAt(Rt+1))?(Ct=65536+((1023&Ct)<<10)+(1023&Ie.charCodeAt(++Rt)),Ee[Ye++]=Ct>>18|240,Ee[Ye++]=Ct>>12&63|128,Ee[Ye++]=Ct>>6&63|128,Ee[Ye++]=63&Ct|128):(Ee[Ye++]=Ct>>12|224,Ee[Ye++]=Ct>>6&63|128,Ee[Ye++]=63&Ct|128)}return Ee},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,Ee){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ye=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Rt=[];for(let Ct=0;Ct<Ie.length;Ct+=3){const wn=Ie[Ct],Qe=Ct+1<Ie.length,qe=Qe?Ie[Ct+1]:0,me=Ct+2<Ie.length,_t=me?Ie[Ct+2]:0;let On=(15&qe)<<2|_t>>6,Kn=63&_t;me||(Kn=64,Qe||(On=64)),Rt.push(Ye[wn>>2],Ye[(3&wn)<<4|qe>>4],Ye[On],Ye[Kn])}return Rt.join("")},encodeString(Ie,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(Ie):this.encodeByteArray(Ce(Ie),Ee)},decodeString(Ie,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(Ie):function(Ie){const Ee=[];let Ye=0,Rt=0;for(;Ye<Ie.length;){const Ct=Ie[Ye++];if(Ct<128)Ee[Rt++]=String.fromCharCode(Ct);else if(Ct>191&&Ct<224){const wn=Ie[Ye++];Ee[Rt++]=String.fromCharCode((31&Ct)<<6|63&wn)}else if(Ct>239&&Ct<365){const me=((7&Ct)<<18|(63&Ie[Ye++])<<12|(63&Ie[Ye++])<<6|63&Ie[Ye++])-65536;Ee[Rt++]=String.fromCharCode(55296+(me>>10)),Ee[Rt++]=String.fromCharCode(56320+(1023&me))}else{const wn=Ie[Ye++],Qe=Ie[Ye++];Ee[Rt++]=String.fromCharCode((15&Ct)<<12|(63&wn)<<6|63&Qe)}}return Ee.join("")}(this.decodeStringToByteArray(Ie,Ee))},decodeStringToByteArray(Ie,Ee){this.init_();const Ye=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,Rt=[];for(let Ct=0;Ct<Ie.length;){const wn=Ye[Ie.charAt(Ct++)],qe=Ct<Ie.length?Ye[Ie.charAt(Ct)]:0;++Ct;const _t=Ct<Ie.length?Ye[Ie.charAt(Ct)]:64;++Ct;const en=Ct<Ie.length?Ye[Ie.charAt(Ct)]:64;if(++Ct,null==wn||null==qe||null==_t||null==en)throw new ge;Rt.push(wn<<2|qe>>4),64!==_t&&(Rt.push(qe<<4&240|_t>>2),64!==en&&Rt.push(_t<<6&192|en))}return Rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(Ie){const Ee=Ce(Ie);return be.encodeByteArray(Ee,!0)},ke=function(Ie){return De(Ie).replace(/\./g,"")},ve=function(Ie){try{return be.decodeString(Ie,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function ie(Ie){return ce(void 0,Ie)}function ce(Ie,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return Ee}for(const Ye in Ee)!Ee.hasOwnProperty(Ye)||!xe(Ye)||(Ie[Ye]=ce(Ie[Ye],Ee[Ye]));return Ie}function xe(Ie){return"__proto__"!==Ie}const ye=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ie=process.env.__FIREBASE_DEFAULTS__;return Ie?JSON.parse(Ie):void 0})()||(()=>{if(typeof document>"u")return;let Ie;try{Ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ye){return}const Ee=Ie&&ve(Ie[1]);return Ee&&JSON.parse(Ee)})()}catch(Ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ie}`)}},Be=()=>{var Ie;return null===(Ie=ye())||void 0===Ie?void 0:Ie.config},Ze=Ie=>{var Ee;return null===(Ee=ye())||void 0===Ee?void 0:Ee[`_${Ie}`]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,Ye)=>{this.resolve=Ee,this.reject=Ye})}wrapCallback(Ee){return(Ye,Rt)=>{Ye?this.reject(Ye):this.resolve(Rt),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(Ye):Ee(Ye,Rt))}}}function Oe(Ie,Ee){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Rt=Ee||"demo-project",Ct=Ie.iat||0,wn=Ie.sub||Ie.user_id;if(!wn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${Rt}`,aud:Rt,iat:Ct,exp:Ct+3600,auth_time:Ct,sub:wn,user_id:wn,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(Qe)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Ge(){var Ie;const Ee=null===(Ie=ye())||void 0===Ie?void 0:Ie.forceEnvironment;if("node"===Ee)return!0;if("browser"===Ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ye){return!1}}function je(){return"object"==typeof self&&self.self===self}function Je(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){const Ie=Fe();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function gt(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function Me(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch(Ie){return!1}}function Se(){return new Promise((Ie,Ee)=>{try{let Ye=!0;const Rt="validate-browser-context-for-indexeddb-analytics-module",Ct=self.indexedDB.open(Rt);Ct.onsuccess=()=>{Ct.result.close(),Ye||self.indexedDB.deleteDatabase(Rt),Ie(!0)},Ct.onupgradeneeded=()=>{Ye=!1},Ct.onerror=()=>{var wn;Ee((null===(wn=Ct.error)||void 0===wn?void 0:wn.message)||"")}}catch(Ye){Ee(Ye)}})}function lt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ut extends Error{constructor(Ee,Ye,Rt){super(Ye),this.code=Ee,this.customData=Rt,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}}class ot{constructor(Ee,Ye,Rt){this.service=Ee,this.serviceName=Ye,this.errors=Rt}create(Ee,...Ye){const Rt=Ye[0]||{},Ct=`${this.service}/${Ee}`,wn=this.errors[Ee],Qe=wn?function Kt(Ie,Ee){return Ie.replace(Vt,(Ye,Rt)=>{const Ct=Ee[Rt];return null!=Ct?String(Ct):`<${Rt}?>`})}(wn,Rt):"Error";return new ut(Ct,`${this.serviceName}: ${Qe} (${Ct}).`,Rt)}}const Vt=/\{\$([^}]+)}/g;function Pt(Ie){return JSON.parse(Ie)}function Ot(Ie){return JSON.stringify(Ie)}const $n=function(Ie){let Ee={},Ye={},Rt={},Ct="";try{const wn=Ie.split(".");Ee=Pt(ve(wn[0])||""),Ye=Pt(ve(wn[1])||""),Ct=wn[2],Rt=Ye.d||{},delete Ye.d}catch(wn){}return{header:Ee,claims:Ye,data:Rt,signature:Ct}},Un=function(Ie){const Ye=$n(Ie).claims;return!!Ye&&"object"==typeof Ye&&Ye.hasOwnProperty("iat")},yn=function(Ie){const Ee=$n(Ie).claims;return"object"==typeof Ee&&!0===Ee.admin};function er(Ie,Ee){return Object.prototype.hasOwnProperty.call(Ie,Ee)}function cr(Ie,Ee){if(Object.prototype.hasOwnProperty.call(Ie,Ee))return Ie[Ee]}function At(Ie){for(const Ee in Ie)if(Object.prototype.hasOwnProperty.call(Ie,Ee))return!1;return!0}function mt(Ie,Ee,Ye){const Rt={};for(const Ct in Ie)Object.prototype.hasOwnProperty.call(Ie,Ct)&&(Rt[Ct]=Ee.call(Ye,Ie[Ct],Ct,Ie));return Rt}function Nt(Ie,Ee){if(Ie===Ee)return!0;const Ye=Object.keys(Ie),Rt=Object.keys(Ee);for(const Ct of Ye){if(!Rt.includes(Ct))return!1;const wn=Ie[Ct],Qe=Ee[Ct];if(St(wn)&&St(Qe)){if(!Nt(wn,Qe))return!1}else if(wn!==Qe)return!1}for(const Ct of Rt)if(!Ye.includes(Ct))return!1;return!0}function St(Ie){return null!==Ie&&"object"==typeof Ie}function on(Ie){const Ee=[];for(const[Ye,Rt]of Object.entries(Ie))Array.isArray(Rt)?Rt.forEach(Ct=>{Ee.push(encodeURIComponent(Ye)+"="+encodeURIComponent(Ct))}):Ee.push(encodeURIComponent(Ye)+"="+encodeURIComponent(Rt));return Ee.length?"&"+Ee.join("&"):""}function In(Ie){const Ee={};return Ie.replace(/^\?/,"").split("&").forEach(Rt=>{if(Rt){const[Ct,wn]=Rt.split("=");Ee[decodeURIComponent(Ct)]=decodeURIComponent(wn)}}),Ee}function dr(Ie){const Ee=Ie.indexOf("?");if(!Ee)return"";const Ye=Ie.indexOf("#",Ee);return Ie.substring(Ee,Ye>0?Ye:void 0)}class pr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ee=1;Ee<this.blockSize;++Ee)this.pad_[Ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ee,Ye){Ye||(Ye=0);const Rt=this.W_;if("string"==typeof Ee)for(let en=0;en<16;en++)Rt[en]=Ee.charCodeAt(Ye)<<24|Ee.charCodeAt(Ye+1)<<16|Ee.charCodeAt(Ye+2)<<8|Ee.charCodeAt(Ye+3),Ye+=4;else for(let en=0;en<16;en++)Rt[en]=Ee[Ye]<<24|Ee[Ye+1]<<16|Ee[Ye+2]<<8|Ee[Ye+3],Ye+=4;for(let en=16;en<80;en++){const On=Rt[en-3]^Rt[en-8]^Rt[en-14]^Rt[en-16];Rt[en]=4294967295&(On<<1|On>>>31)}let _t,zt,Ct=this.chain_[0],wn=this.chain_[1],Qe=this.chain_[2],qe=this.chain_[3],me=this.chain_[4];for(let en=0;en<80;en++){en<40?en<20?(_t=qe^wn&(Qe^qe),zt=1518500249):(_t=wn^Qe^qe,zt=1859775393):en<60?(_t=wn&Qe|qe&(wn|Qe),zt=2400959708):(_t=wn^Qe^qe,zt=3395469782);const On=(Ct<<5|Ct>>>27)+_t+me+zt+Rt[en]&4294967295;me=qe,qe=Qe,Qe=4294967295&(wn<<30|wn>>>2),wn=Ct,Ct=On}this.chain_[0]=this.chain_[0]+Ct&4294967295,this.chain_[1]=this.chain_[1]+wn&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+qe&4294967295,this.chain_[4]=this.chain_[4]+me&4294967295}update(Ee,Ye){if(null==Ee)return;void 0===Ye&&(Ye=Ee.length);const Rt=Ye-this.blockSize;let Ct=0;const wn=this.buf_;let Qe=this.inbuf_;for(;Ct<Ye;){if(0===Qe)for(;Ct<=Rt;)this.compress_(Ee,Ct),Ct+=this.blockSize;if("string"==typeof Ee){for(;Ct<Ye;)if(wn[Qe]=Ee.charCodeAt(Ct),++Qe,++Ct,Qe===this.blockSize){this.compress_(wn),Qe=0;break}}else for(;Ct<Ye;)if(wn[Qe]=Ee[Ct],++Qe,++Ct,Qe===this.blockSize){this.compress_(wn),Qe=0;break}}this.inbuf_=Qe,this.total_+=Ye}digest(){const Ee=[];let Ye=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ct=this.blockSize-1;Ct>=56;Ct--)this.buf_[Ct]=255&Ye,Ye/=256;this.compress_(this.buf_);let Rt=0;for(let Ct=0;Ct<5;Ct++)for(let wn=24;wn>=0;wn-=8)Ee[Rt]=this.chain_[Ct]>>wn&255,++Rt;return Ee}}function un(Ie,Ee){const Ye=new Cn(Ie,Ee);return Ye.subscribe.bind(Ye)}class Cn{constructor(Ee,Ye){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ye,this.task.then(()=>{Ee(this)}).catch(Rt=>{this.error(Rt)})}next(Ee){this.forEachObserver(Ye=>{Ye.next(Ee)})}error(Ee){this.forEachObserver(Ye=>{Ye.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,Ye,Rt){let Ct;if(void 0===Ee&&void 0===Ye&&void 0===Rt)throw new Error("Missing Observer.");Ct=function Fn(Ie,Ee){if("object"!=typeof Ie||null===Ie)return!1;for(const Ye of Ee)if(Ye in Ie&&"function"==typeof Ie[Ye])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:Ye,complete:Rt},void 0===Ct.next&&(Ct.next=lr),void 0===Ct.error&&(Ct.error=lr),void 0===Ct.complete&&(Ct.complete=lr);const wn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ct.error(this.finalError):Ct.complete()}catch(Qe){}}),this.observers.push(Ct),wn}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let Ye=0;Ye<this.observers.length;Ye++)this.sendOne(Ye,Ee)}sendOne(Ee,Ye){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{Ye(this.observers[Ee])}catch(Rt){typeof console<"u"&&console.error&&console.error(Rt)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lr(){}const nn=function(Ie,Ee,Ye,Rt){let Ct;if(Rt<Ee?Ct="at least "+Ee:Rt>Ye&&(Ct=0===Ye?"none":"no more than "+Ye),Ct)throw new Error(Ie+" failed: Was called with "+Rt+(1===Rt?" argument.":" arguments.")+" Expects "+Ct+".")};function yr(Ie,Ee){return`${Ie} failed: ${Ee} argument `}function ri(Ie,Ee,Ye,Rt){if((!Rt||Ye)&&"function"!=typeof Ye)throw new Error(yr(Ie,Ee)+"must be a valid function.")}function xr(Ie,Ee,Ye,Rt){if((!Rt||Ye)&&("object"!=typeof Ye||null===Ye))throw new Error(yr(Ie,Ee)+"must be a valid context object.")}const ii=function(Ie){const Ee=[];let Ye=0;for(let Rt=0;Rt<Ie.length;Rt++){let Ct=Ie.charCodeAt(Rt);if(Ct>=55296&&Ct<=56319){const wn=Ct-55296;Rt++,ee(Rt<Ie.length,"Surrogate pair missing trail surrogate."),Ct=65536+(wn<<10)+(Ie.charCodeAt(Rt)-56320)}Ct<128?Ee[Ye++]=Ct:Ct<2048?(Ee[Ye++]=Ct>>6|192,Ee[Ye++]=63&Ct|128):Ct<65536?(Ee[Ye++]=Ct>>12|224,Ee[Ye++]=Ct>>6&63|128,Ee[Ye++]=63&Ct|128):(Ee[Ye++]=Ct>>18|240,Ee[Ye++]=Ct>>12&63|128,Ee[Ye++]=Ct>>6&63|128,Ee[Ye++]=63&Ct|128)}return Ee},rr=function(Ie){let Ee=0;for(let Ye=0;Ye<Ie.length;Ye++){const Rt=Ie.charCodeAt(Ye);Rt<128?Ee++:Rt<2048?Ee+=2:Rt>=55296&&Rt<=56319?(Ee+=4,Ye++):Ee+=3}return Ee},Qr=1e3,cn=2,qt=144e5,Et=.5;function Ae(Ie,Ee=Qr,Ye=cn){const Rt=Ee*Math.pow(Ye,Ie),Ct=Math.round(Et*Rt*(Math.random()-.5)*2);return Math.min(qt,Rt+Ct)}function Wt(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},2078:(_n,yt,V)=>{"use strict";V.d(yt,{dr:()=>ri,BJ:()=>xr,YG:()=>qt,PM:()=>Ae,FN:()=>We,Zi:()=>kt,tO:()=>Wt,Dq:()=>Ie,wI:()=>Rt,W2:()=>Ct,jY:()=>en,Gu:()=>On,gu:()=>Kn,Ie:()=>oi,Q$:()=>$r,q_:()=>Lr,jP:()=>_i,Nd:()=>J,VI:()=>_e,yq:()=>Ke,ZU:()=>xt,UN:()=>ns,yW:()=>Lt,wd:()=>Zn,sr:()=>hr,Pc:()=>Ts,r4:()=>Qs,t4:()=>Ps,j9:()=>un});var a=V(4650),ee=V(433),z=V(655),Ce=V(8421),Te=V(9751),be=V(5577),ge=V(1144),De=V(576),ke=V(3268);const ve=["addListener","removeListener"],ie=["addEventListener","removeEventListener"],ce=["on","off"];function xe(g,I,h,D){if((0,De.m)(h)&&(D=h,h=void 0),D)return xe(g,I,h).pipe((0,ke.Z)(D));const[q,et]=function Re(g){return(0,De.m)(g.addEventListener)&&(0,De.m)(g.removeEventListener)}(g)?ie.map(an=>xn=>g[an](I,xn,h)):function dt(g){return(0,De.m)(g.addListener)&&(0,De.m)(g.removeListener)}(g)?ve.map(ze(g,I)):function Mt(g){return(0,De.m)(g.on)&&(0,De.m)(g.off)}(g)?ce.map(ze(g,I)):[];if(!q&&(0,ge.z)(g))return(0,be.z)(an=>xe(an,I,h))((0,Ce.Xf)(g));if(!q)throw new TypeError("Invalid event target");return new Te.y(an=>{const xn=(...Gn)=>an.next(1<Gn.length?Gn:Gn[0]);return q(xn),()=>et(xn)})}function ze(g,I){return h=>D=>g[h](I,D)}var ye=V(7579),de=V(1135),ht=V(1194),Fe=(V(181),V(6439),V(7838),V(1898),V(5179)),N=V(5730),Ge=V(5820),je=V(1843),tt=(V(6369),V(3539)),bt=(V(3457),V(4349),V(1308)),Se=V(9300),lt=V(3900),Xe=V(1884),ut=V(6895);const Kt=Fe.i,Ot=["*"],$n=["outlet"],An=[[["","slot","top"]],"*"],Mn=["[slot=top]","*"],er=g=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(g):"function"==typeof requestAnimationFrame?requestAnimationFrame(g):setTimeout(g),cr=g=>!!g.resolveComponentFactory;let At=(()=>{class g{constructor(h,D){this.injector=h,this.el=D,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(h){this.el.nativeElement.value=this.lastValue=null==h?"":h,mt(this.el)}handleChangeEvent(h,D){h===this.el.nativeElement&&(D!==this.lastValue&&(this.lastValue=D,this.onChange(D)),mt(this.el))}_handleBlurEvent(h){h===this.el.nativeElement&&(this.onTouched(),mt(this.el))}registerOnChange(h){this.onChange=h}registerOnTouched(h){this.onTouched=h}setDisabledState(h){this.el.nativeElement.disabled=h}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let h;try{h=this.injector.get(ee.a5)}catch(q){}if(!h)return;h.statusChanges&&(this.statusChanges=h.statusChanges.subscribe(()=>mt(this.el)));const D=h.control;D&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(et=>{if(typeof D[et]<"u"){const an=D[et].bind(D);D[et]=(...xn)=>{an(...xn),mt(this.el)}}})}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.zs3),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,hostBindings:function(h,D){1&h&&a.NdJ("ionBlur",function(et){return D._handleBlurEvent(et.target)})}}),g})();const mt=g=>{er(()=>{const I=g.nativeElement,h=null!=I.value&&I.value.toString().length>0,D=Nt(I);St(I,D);const q=I.closest("ion-item");q&&St(q,h?[...D,"item-has-value"]:D)})},Nt=g=>{const I=g.classList,h=[];for(let D=0;D<I.length;D++){const q=I.item(D);null!==q&&bn(q,"ng-")&&h.push(`ion-${q.substring(3)}`)}return h},St=(g,I)=>{const h=g.classList;h.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),h.add(...I)},bn=(g,I)=>g.substring(0,I.length)===I;let un=(()=>{class g extends At{constructor(h,D){super(h,D)}_handleInputEvent(h){this.handleChangeEvent(h,h.value)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.zs3),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(h,D){1&h&&a.NdJ("ionChange",function(et){return D._handleInputEvent(et.target)})},features:[a._Bn([{provide:ee.JU,useExisting:g,multi:!0}]),a.qOj]}),g})();const Cn=(g,I)=>{const h=g.prototype;I.forEach(D=>{Object.defineProperty(h,D,{get(){return this.el[D]},set(q){this.z.runOutsideAngular(()=>this.el[D]=q)}})})},hn=(g,I)=>{const h=g.prototype;I.forEach(D=>{h[D]=function(){const q=arguments;return this.z.runOutsideAngular(()=>this.el[D].apply(this.el,q))}})},Fn=(g,I,h)=>{h.forEach(D=>g[D]=xe(I,D))};function nn(g){return function(h){const{defineCustomElementFn:D,inputs:q,methods:et}=g;return void 0!==D&&D(),q&&Cn(h,q),et&&hn(h,et),h}}let ri=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-app"]],ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0})],g),g})(),xr=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-avatar"]],ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0})],g),g})(),qt=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement,Fn(this,this.el,["ionFocus","ionBlur"])}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],g),g})(),Ae=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],g),g})(),We=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["mode"]})],g),g})(),kt=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],g),g})(),Wt=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","mode"]})],g),g})(),Ie=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","mode"]})],g),g})(),Rt=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],g),g})(),Ct=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement,Fn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],g),g})(),en=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["fixed"]})],g),g})(),On=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],g),g})(),Kn=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],g),g})(),oi=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],g),g})(),$r=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],g),g})(),Lr=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],g),g})(),J=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-row"]],ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0})],g),g})(),_e=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement,Fn(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],g),g})(),Ke=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],g),g})(),xt=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],g),g})(),Lt=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","mode"]})],g),g})(),Zn=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","size"]})],g),g})(),hr=(()=>{let g=class{constructor(h,D,q){this.z=q,h.detach(),this.el=D.nativeElement}};return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(h,D){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,z.gn)([nn({defineCustomElementFn:void 0,inputs:["color","mode"]})],g),g})();class ws{constructor(I={}){this.data=I}get(I){return this.data[I]}}let si=(()=>{class g{constructor(h,D){this.zone=h,this.appRef=D}create(h,D,q,et){return new di(h,D,q,this.appRef,this.zone,et)}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(a.R0b),a.LFG(a.z2F))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})();class di{constructor(I,h,D,q,et,an){this.resolverOrInjector=I,this.injector=h,this.location=D,this.appRef=q,this.zone=et,this.elementReferenceKey=an,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(I,h,D,q){return this.zone.run(()=>new Promise(et=>{const an=Object.assign({},D);void 0!==this.elementReferenceKey&&(an[this.elementReferenceKey]=I),et(zr(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,I,h,an,q))}))}removeViewFromDom(I,h){return this.zone.run(()=>new Promise(D=>{const q=this.elRefMap.get(h);if(q){q.destroy(),this.elRefMap.delete(h);const et=this.elEventsMap.get(h);et&&(et(),this.elEventsMap.delete(h))}D()}))}}const zr=(g,I,h,D,q,et,an,xn,Gn,Or,Gr)=>{let Pr;const qi=a.zs3.create({providers:po(Or),parent:h});if(I&&cr(I)){const As=I.resolveComponentFactory(Gn);Pr=D?D.createComponent(As,D.length,qi):As.create(qi)}else{if(!D)return null;Pr=D.createComponent(Gn,{index:D.indexOf,injector:qi,environmentInjector:I})}const os=Pr.instance,qr=Pr.location.nativeElement;if(Or&&Object.assign(os,Or),Gr)for(const As of Gr)qr.classList.add(As);const Fi=hi(g,os,qr);return xn.appendChild(qr),D||q.attachView(Pr.hostView),Pr.changeDetectorRef.reattach(),et.set(qr,Pr),an.set(qr,Fi),qr},Tr=[je.L,je.a,je.b,je.c,je.d],hi=(g,I,h)=>g.run(()=>{const D=Tr.filter(q=>"function"==typeof I[q]).map(q=>{const et=an=>I[q](an.detail);return h.addEventListener(q,et),()=>h.removeEventListener(q,et)});return()=>D.forEach(q=>q())}),Hi=new a.OlP("NavParamsToken"),po=g=>[{provide:Hi,useValue:g},{provide:ws,useFactory:Ki,deps:[Hi]}],Ki=g=>new ws(g),Yi=(g,I)=>((g=g.filter(h=>h.stackId!==I.stackId)).push(I),g),gs=(g,I)=>{const h=g.createUrlTree(["."],{relativeTo:I});return g.serializeUrl(h)},Qi=(g,I)=>{if(!g)return;const h=bs(I);for(let D=0;D<h.length;D++){if(D>=g.length)return h[D];if(h[D]!==g[D])return}},bs=g=>g.split("/").map(I=>I.trim()).filter(I=>""!==I),Hs=g=>{g&&(g.ref.destroy(),g.unlistenEvents())};class ms{constructor(I,h,D,q,et,an){this.containerEl=h,this.router=D,this.navCtrl=q,this.zone=et,this.location=an,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==I?bs(I):void 0}createView(I,h){var D;const q=gs(this.router,h),et=null===(D=null==I?void 0:I.location)||void 0===D?void 0:D.nativeElement,an=hi(this.zone,I.instance,et);return{id:this.nextId++,stackId:Qi(this.tabsPrefix,q),unlistenEvents:an,element:et,ref:I,url:q}}getExistingView(I){const h=gs(this.router,I),D=this.views.find(q=>q.url===h);return D&&D.ref.changeDetectorRef.reattach(),D}setActive(I){var h,D;const q=this.navCtrl.consumeTransition();let{direction:et,animation:an,animationBuilder:xn}=q;const Gn=this.activeView,Or=((g,I)=>!I||g.stackId!==I.stackId)(I,Gn);Or&&(et="back",an=void 0);const Gr=this.views.slice();let Pr;const qi=this.router;qi.getCurrentNavigation?Pr=qi.getCurrentNavigation():!(null===(h=qi.navigations)||void 0===h)&&h.value&&(Pr=qi.navigations.value),null!==(D=null==Pr?void 0:Pr.extras)&&void 0!==D&&D.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const os=this.views.includes(I),qr=this.insertView(I,et);os||I.ref.changeDetectorRef.detectChanges();const Fi=I.animationBuilder;return void 0===xn&&"back"===et&&!Or&&void 0!==Fi&&(xn=Fi),Gn&&(Gn.animationBuilder=xn),this.zone.runOutsideAngular(()=>this.wait(()=>(Gn&&Gn.ref.changeDetectorRef.detach(),I.ref.changeDetectorRef.reattach(),this.transition(I,Gn,an,this.canGoBack(1),!1,xn).then(()=>Qo(I,qr,Gr,this.location,this.zone)).then(()=>({enteringView:I,direction:et,animation:an,tabSwitch:Or})))))}canGoBack(I,h=this.getActiveStackId()){return this.getStack(h).length>I}pop(I,h=this.getActiveStackId()){return this.zone.run(()=>{var D,q;const et=this.getStack(h);if(et.length<=I)return Promise.resolve(!1);const an=et[et.length-I-1];let xn=an.url;const Gn=an.savedData;if(Gn){const Gr=Gn.get("primary");null!==(q=null===(D=null==Gr?void 0:Gr.route)||void 0===D?void 0:D._routerState)&&void 0!==q&&q.snapshot.url&&(xn=Gr.route._routerState.snapshot.url)}const{animationBuilder:Or}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(xn,Object.assign(Object.assign({},an.savedExtras),{animation:Or})).then(()=>!0)})}startBackTransition(){const I=this.activeView;if(I){const h=this.getStack(I.stackId),D=h[h.length-2],q=D.animationBuilder;return this.wait(()=>this.transition(D,I,"back",this.canGoBack(2),!0,q))}return Promise.resolve()}endBackTransition(I){I?(this.skipTransition=!0,this.pop(1)):this.activeView&&go(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(I){const h=this.getStack(I);return h.length>0?h[h.length-1]:void 0}getRootUrl(I){const h=this.getStack(I);return h.length>0?h[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Hs),this.activeView=void 0,this.views=[]}getStack(I){return this.views.filter(h=>h.stackId===I)}insertView(I,h){return this.activeView=I,this.views=((g,I,h)=>"root"===h?Yi(g,I):"forward"===h?((g,I)=>(g.indexOf(I)>=0?g=g.filter(D=>D.stackId!==I.stackId||D.id<=I.id):g.push(I),g))(g,I):((g,I)=>g.indexOf(I)>=0?g.filter(D=>D.stackId!==I.stackId||D.id<=I.id):Yi(g,I))(g,I))(this.views,I,h),this.views.slice()}transition(I,h,D,q,et,an){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(h===I)return Promise.resolve(!1);const xn=I?I.element:void 0,Gn=h?h.element:void 0,Or=this.containerEl;return xn&&xn!==Gn&&(xn.classList.add("ion-page"),xn.classList.add("ion-page-invisible"),xn.parentElement!==Or&&Or.appendChild(xn),Or.commit)?Or.commit(xn,Gn,{deepWait:!0,duration:void 0===D?0:void 0,direction:D,showGoBack:q,progressAnimation:et,animationBuilder:an}):Promise.resolve(!1)}wait(I){return(0,z.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const h=this.runningTask=I();return h.finally(()=>this.runningTask=void 0),h})}}const Qo=(g,I,h,D,q)=>"function"==typeof requestAnimationFrame?new Promise(et=>{requestAnimationFrame(()=>{go(g,I,h,D,q),et()})}):Promise.resolve(),go=(g,I,h,D,q)=>{q.run(()=>h.filter(et=>!I.includes(et)).forEach(Hs)),I.forEach(et=>{const xn=D.path().split("?")[0].split("#")[0];if(et!==g&&et.url!==xn){const Gn=et.element;Gn.setAttribute("aria-hidden","true"),Gn.classList.add("ion-page-hidden"),et.ref.changeDetectorRef.detach()}})};let mo=(()=>{class g{get(h,D){const q=ur();return q?q.get(h,D):null}getBoolean(h,D){const q=ur();return!!q&&q.getBoolean(h,D)}getNumber(h,D){const q=ur();return q?q.getNumber(h,D):0}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const ai=new a.OlP("USERCONFIG"),ur=()=>{if(typeof window<"u"){const g=window.Ionic;if(null!=g&&g.config)return g.config}return null};let Ps=(()=>{class g{constructor(h,D){this.doc=h,this.backButton=new ye.x,this.keyboardDidShow=new ye.x,this.keyboardDidHide=new ye.x,this.pause=new ye.x,this.resume=new ye.x,this.resize=new ye.x,D.run(()=>{var q;let et;this.win=h.defaultView,this.backButton.subscribeWithPriority=function(an,xn){return this.subscribe(Gn=>Gn.register(an,Or=>D.run(()=>xn(Or))))},ks(this.pause,h,"pause"),ks(this.resume,h,"resume"),ks(this.backButton,h,"ionBackButton"),ks(this.resize,this.win,"resize"),ks(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ks(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(an=>{et=an}),null!==(q=this.win)&&void 0!==q&&q.cordova?h.addEventListener("deviceready",()=>{et("cordova")},{once:!0}):et("dom")})}is(h){return(0,Fe.a)(this.win,h)}platforms(){return(0,Fe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(h){return Ns(this.win.location.href,h)}isLandscape(){return!this.isPortrait()}isPortrait(){var h,D;return null===(D=(h=this.win).matchMedia)||void 0===D?void 0:D.call(h,"(orientation: portrait)").matches}testUserAgent(h){const D=this.win.navigator;return!!(null!=D&&D.userAgent&&D.userAgent.indexOf(h)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(ut.K0),a.LFG(a.R0b))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Ns=(g,I)=>{I=I.replace(/[[\]\\]/g,"\\$&");const D=new RegExp("[\\?&]"+I+"=([^&#]*)").exec(g);return D?decodeURIComponent(D[1].replace(/\+/g," ")):null},ks=(g,I,h)=>{I&&I.addEventListener(h,D=>{g.next(null!=D?D.detail:void 0)})};let jr=(()=>{class g{constructor(h,D,q,et){this.location=D,this.serializer=q,this.router=et,this.direction=Mi,this.animated=ys,this.guessDirection="forward",this.lastNavId=-1,et&&et.events.subscribe(an=>{if(an instanceof ht.OD){const xn=an.restoredState?an.restoredState.navigationId:an.id;this.guessDirection=xn<this.lastNavId?"back":"forward",this.guessAnimation=an.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?an.id:xn}}),h.backButton.subscribeWithPriority(0,an=>{this.pop(),an()})}navigateForward(h,D={}){return this.setDirection("forward",D.animated,D.animationDirection,D.animation),this.navigate(h,D)}navigateBack(h,D={}){return this.setDirection("back",D.animated,D.animationDirection,D.animation),this.navigate(h,D)}navigateRoot(h,D={}){return this.setDirection("root",D.animated,D.animationDirection,D.animation),this.navigate(h,D)}back(h={animated:!0,animationDirection:"back"}){return this.setDirection("back",h.animated,h.animationDirection,h.animation),this.location.back()}pop(){return(0,z.mG)(this,void 0,void 0,function*(){let h=this.topOutlet;for(;h&&!(yield h.pop());)h=h.parentOutlet})}setDirection(h,D,q,et){this.direction=h,this.animated=xi(h,D,q),this.animationBuilder=et}setTopOutlet(h){this.topOutlet=h}consumeTransition(){let D,h="root";const q=this.animationBuilder;return"auto"===this.direction?(h=this.guessDirection,D=this.guessAnimation):(D=this.animated,h=this.direction),this.direction=Mi,this.animated=ys,this.animationBuilder=void 0,{direction:h,animation:D,animationBuilder:q}}navigate(h,D){if(Array.isArray(h))return this.router.navigate(h,D);{const q=this.serializer.parse(h.toString());return void 0!==D.queryParams&&(q.queryParams=Object.assign({},D.queryParams)),void 0!==D.fragment&&(q.fragment=D.fragment),this.router.navigateByUrl(q,D)}}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Ps),a.LFG(ut.Ye),a.LFG(ht.Hx),a.LFG(ht.F0,8))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const xi=(g,I,h)=>{if(!1!==I){if(void 0!==h)return h;if("forward"===g||"back"===g)return g;if("root"===g&&!0===I)return"forward"}},Mi="auto",ys=void 0;let _i=(()=>{class g{constructor(h,D,q,et,an,xn,Gn,Or,Gr,Pr,qi,os,qr){this.parentContexts=h,this.location=D,this.config=an,this.navCtrl=xn,this.componentFactoryResolver=Gn,this.parentOutlet=qr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new de.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=Gr.nativeElement,this.name=q||ht.eC,this.tabsPrefix="true"===et?gs(Pr,os):void 0,this.stackCtrl=new ms(this.tabsPrefix,this.nativeEl,Pr,xn,qi,Or),h.onChildOutletCreated(this.name,this)}set animation(h){this.nativeEl.animation=h}set animated(h){this.nativeEl.animated=h}set swipeGesture(h){this._swipeGesture=h,this.nativeEl.swipeHandler=h?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:D=>this.stackCtrl.endBackTransition(D)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const h=this.getContext();null!=h&&h.route&&this.activateWith(h.route,h.resolver||null)}new Promise(h=>(0,N.c)(this.nativeEl,h)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(h,D){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const D=this.getContext();this.activatedView.savedData=new Map(D.children.contexts);const q=this.activatedView.savedData.get("primary");if(q&&D.route&&(q.route=Object.assign({},D.route)),this.activatedView.savedExtras={},D.route){const et=D.route.snapshot;this.activatedView.savedExtras.queryParams=et.queryParams,this.activatedView.savedExtras.fragment=et.fragment}}const h=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(h)}}activateWith(h,D){var q;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=h;let et,an=this.stackCtrl.getExistingView(h);if(an){et=this.activated=an.ref;const xn=an.savedData;xn&&(this.getContext().children.contexts=xn),this.updateActivatedRouteProxy(et.instance,h)}else{const xn=h._futureSnapshot;if(null==xn.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Gn=this.parentContexts.getOrCreateContext(this.name).children,Or=new de.X(null),Gr=this.createActivatedRouteProxy(Or,h),Pr=new qs(Gr,Gn,this.location.injector),qi=null!==(q=xn.routeConfig.component)&&void 0!==q?q:xn.component;if((D=D||this.componentFactoryResolver)&&cr(D)){const os=D.resolveComponentFactory(qi);et=this.activated=this.location.createComponent(os,this.location.length,Pr)}else et=this.activated=this.location.createComponent(qi,{index:this.location.length,injector:Pr,environmentInjector:null!=D?D:this.environmentInjector});Or.next(et.instance),an=this.stackCtrl.createView(this.activated,h),this.proxyMap.set(et.instance,Gr),this.currentActivatedRoute$.next({component:et.instance,activatedRoute:h})}this.activatedView=an,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(an).then(xn=>{this.activateEvents.emit(et.instance),this.stackEvents.emit(xn)})}canGoBack(h=1,D){return this.stackCtrl.canGoBack(h,D)}pop(h=1,D){return this.stackCtrl.pop(h,D)}getLastUrl(h){const D=this.stackCtrl.getLastUrl(h);return D?D.url:void 0}getLastRouteView(h){return this.stackCtrl.getLastUrl(h)}getRootView(h){return this.stackCtrl.getRootUrl(h)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(h,D){const q=new ht.gz;return q._futureSnapshot=D._futureSnapshot,q._routerState=D._routerState,q.snapshot=D.snapshot,q.outlet=D.outlet,q.component=D.component,q._paramMap=this.proxyObservable(h,"paramMap"),q._queryParamMap=this.proxyObservable(h,"queryParamMap"),q.url=this.proxyObservable(h,"url"),q.params=this.proxyObservable(h,"params"),q.queryParams=this.proxyObservable(h,"queryParams"),q.fragment=this.proxyObservable(h,"fragment"),q.data=this.proxyObservable(h,"data"),q}proxyObservable(h,D){return h.pipe((0,Se.h)(q=>!!q),(0,lt.w)(q=>this.currentActivatedRoute$.pipe((0,Se.h)(et=>null!==et&&et.component===q),(0,lt.w)(et=>et&&et.activatedRoute[D]),(0,Xe.x)())))}updateActivatedRouteProxy(h,D){const q=this.proxyMap.get(h);if(!q)throw new Error("Could not find activated route proxy for view");q._futureSnapshot=D._futureSnapshot,q._routerState=D._routerState,q.snapshot=D.snapshot,q.outlet=D.outlet,q.component=D.component,this.currentActivatedRoute$.next({component:h,activatedRoute:D})}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(ht.y6),a.Y36(a.s_b),a.$8M("name"),a.$8M("tabs"),a.Y36(mo),a.Y36(jr),a.Y36(a._Vd,8),a.Y36(ut.Ye),a.Y36(a.SBq),a.Y36(ht.F0),a.Y36(a.R0b),a.Y36(ht.gz),a.Y36(g,12))},g.\u0275dir=a.lG2({type:g,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),g})();class qs{constructor(I,h,D){this.route=I,this.childContexts=h,this.parent=D}get(I,h){return I===ht.gz?this.route:I===ht.y6?this.childContexts:this.parent.get(I,h)}}let ns=(()=>{class g{constructor(h){this.navCtrl=h,this.ionTabsWillChange=new a.vpe,this.ionTabsDidChange=new a.vpe}onPageSelected(h){const D=h.enteringView.stackId;h.tabSwitch&&void 0!==D&&(this.ionTabsWillChange.emit({tab:D}),this.tabBar&&(this.tabBar.selectedTab=D),this.ionTabsDidChange.emit({tab:D}))}select(h){const D="string"==typeof h,q=D?h:h.detail.tab,et=this.outlet.getActiveStackId()===q,an=`${this.outlet.tabsPrefix}/${q}`;if(D||h.stopPropagation(),et){const xn=this.outlet.getActiveStackId(),Gn=this.outlet.getLastRouteView(xn);if((null==Gn?void 0:Gn.url)===an)return;const Or=this.outlet.getRootView(q);return this.navCtrl.navigateRoot(an,Object.assign(Object.assign({},Or&&an===Or.url&&Or.savedExtras),{animated:!0,animationDirection:"back"}))}{const xn=this.outlet.getLastRouteView(q);return this.navCtrl.navigateRoot((null==xn?void 0:xn.url)||an,Object.assign(Object.assign({},null==xn?void 0:xn.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(jr))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-tabs"]],contentQueries:function(h,D,q){if(1&h&&a.Suo(q,Ke,5),2&h){let et;a.iGM(et=a.CRH())&&(D.tabBar=et.first)}},viewQuery:function(h,D){if(1&h&&a.Gf($n,5,_i),2&h){let q;a.iGM(q=a.CRH())&&(D.outlet=q.first)}},hostBindings:function(h,D){1&h&&a.NdJ("ionTabButtonClick",function(et){return D.select(et)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Mn,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(h,D){1&h&&(a.F$t(An),a.Hsn(0),a.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),a.NdJ("stackEvents",function(et){return D.onPageSelected(et)}),a.qZA()(),a.Hsn(4,1)),2&h&&(a.xp6(2),a.Q6J("environmentInjector",D.environmentInjector))},dependencies:[_i],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),g})();class Dr{constructor(I){this.ctrl=I}create(I){return this.ctrl.create(I||{})}dismiss(I,h,D){return this.ctrl.dismiss(I,h,D)}getTop(){return this.ctrl.getTop()}}class Ji{}let _s=(()=>{class g extends Dr{constructor(h,D,q,et){super(tt.m),this.angularDelegate=h,this.resolver=D,this.injector=q,this.environmentInjector=et}create(h){var D;return super.create(Object.assign(Object.assign({},h),{delegate:this.angularDelegate.create(null!==(D=this.resolver)&&void 0!==D?D:this.environmentInjector,this.injector,void 0,"modal")}))}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(si),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Ji,8))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),fr=(()=>{class g extends Dr{constructor(h,D,q,et){super(tt.c),this.angularDelegate=h,this.resolver=D,this.injector=q,this.environmentInjector=et}create(h){var D;return super.create(Object.assign(Object.assign({},h),{delegate:this.angularDelegate.create(null!==(D=this.resolver)&&void 0!==D?D:this.environmentInjector,this.injector,void 0,"popover")}))}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(si),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Ji,8))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})();class Qs{shouldDetach(I){return!1}shouldAttach(I){return!1}store(I,h){}retrieve(I){return null}shouldReuseRoute(I,h){if(I.routeConfig!==h.routeConfig)return!1;const D=I.params,q=h.params,et=Object.keys(D),an=Object.keys(q);if(et.length!==an.length)return!1;for(const xn of et)if(q[xn]!==D[xn])return!1;return!0}}const Ds=(g,I,h)=>()=>{if(I.defaultView&&typeof window<"u"){(0,Ge.s)(Object.assign(Object.assign({},g),{_zoneGate:et=>h.run(et)}));const q="__zone_symbol__addEventListener"in I.body?"__zone_symbol__addEventListener":"addEventListener";return function ot(){var g=[];if(typeof window<"u"){var I=window;(!I.customElements||I.Element&&(!I.Element.prototype.closest||!I.Element.prototype.matches||!I.Element.prototype.remove||!I.Element.prototype.getRootNode))&&g.push(V.e(6748).then(V.t.bind(V,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||I.NodeList&&!I.NodeList.prototype.forEach||!I.fetch||!function(){try{var D=new URL("b","http://a");return D.pathname="c%20d","http://a/c%20d"===D.href&&D.searchParams}catch(q){return!1}}()||typeof WeakMap>"u")&&g.push(V.e(2214).then(V.t.bind(V,4144,23)))}return Promise.all(g)}().then(()=>((g,I)=>typeof window>"u"?Promise.resolve():(0,bt.p)().then(()=>(Kt(),(0,bt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),I))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:er,jmp:et=>h.runOutsideAngular(et),ael(et,an,xn,Gn){et[q](an,xn,Gn)},rel(et,an,xn,Gn){et.removeEventListener(an,xn,Gn)}}))}};let Ts=(()=>{class g{static forRoot(h){return{ngModule:g,providers:[{provide:ai,useValue:h},{provide:a.ip1,useFactory:Ds,multi:!0,deps:[ai,ut.K0,a.R0b]}]}}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({providers:[si,_s,fr],imports:[[ut.ez]]}),g})()},181:(_n,yt,V)=>{"use strict";V.d(yt,{c:()=>Mt});var a=V(5730),ee=V(3457);let z;const Te=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),be=Re=>(void 0===z&&(z=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),z),ge=(Re,ye,de)=>{const ht=ye.startsWith("animation")?be(Re):"";Re.style.setProperty(ht+ye,de)},De=(Re,ye)=>{const de=ye.startsWith("animation")?be(Re):"";Re.style.removeProperty(de+ye)},ie=[],dt=(Re=[],ye)=>{if(void 0!==ye){const de=Array.isArray(ye)?ye:[ye];return[...Re,...de]}return Re},Mt=Re=>{let ye,de,ht,Be,Ze,Ue,je,Pe,Se,lt,Xe,Vt,Pt,Oe=[],Fe=[],N=[],Ge=!1,Je={},tt=[],ft=[],st={},bt=0,gt=!1,Me=!1,ut=!0,ot=!1,Kt=!0,Ot=!1;const $n=Re,An=[],Mn=[],Un=[],yn=[],er=[],cr=[],At=[],mt=[],Nt=[],St=[],bn="function"==typeof AnimationEffect||void 0!==ee.w&&"function"==typeof ee.w.AnimationEffect,on="function"==typeof Element&&"function"==typeof Element.prototype.animate&&bn,dr=()=>St,Fn=(J,_e)=>((null!=_e&&_e.oneTimeCallback?Mn:An).push({c:J,o:_e}),Pt),nn=()=>{if(on)St.forEach(J=>{J.cancel()}),St.length=0;else{const J=Un.slice();(0,a.r)(()=>{J.forEach(_e=>{De(_e,"animation-name"),De(_e,"animation-duration"),De(_e,"animation-timing-function"),De(_e,"animation-iteration-count"),De(_e,"animation-delay"),De(_e,"animation-play-state"),De(_e,"animation-fill-mode"),De(_e,"animation-direction")})})}},yr=()=>{er.forEach(J=>{null!=J&&J.parentNode&&J.parentNode.removeChild(J)}),er.length=0},kt=()=>void 0!==Ze?Ze:je?je.getFill():"both",Wt=()=>void 0!==Se?Se:void 0!==Ue?Ue:je?je.getDirection():"normal",Ie=()=>gt?"linear":void 0!==ht?ht:je?je.getEasing():"linear",Ee=()=>Me?0:void 0!==lt?lt:void 0!==de?de:je?je.getDuration():0,Ye=()=>void 0!==Be?Be:je?je.getIterations():1,Rt=()=>void 0!==Xe?Xe:void 0!==ye?ye:je?je.getDelay():0,oi=()=>{0!==bt&&(bt--,0===bt&&((()=>{En(),mt.forEach(It=>It()),Nt.forEach(It=>It());const J=ut?1:0,_e=tt,$e=ft,rt=st;Un.forEach(It=>{const Gt=It.classList;_e.forEach(pn=>Gt.add(pn)),$e.forEach(pn=>Gt.remove(pn));for(const pn in rt)rt.hasOwnProperty(pn)&&ge(It,pn,rt[pn])}),An.forEach(It=>It.c(J,Pt)),Mn.forEach(It=>It.c(J,Pt)),Mn.length=0,Kt=!0,ut&&(ot=!0),ut=!0})(),je&&je.animationFinish()))},Ci=(J=!0)=>{yr();const _e=(Re=>(Re.forEach(ye=>{for(const de in ye)if(ye.hasOwnProperty(de)){const ht=ye[de];if("easing"===de)ye["animation-timing-function"]=ht,delete ye[de];else{const Be=Te(de);Be!==de&&(ye[Be]=ht,delete ye[de])}}}),Re))(Oe);Un.forEach($e=>{if(_e.length>0){const rt=((Re=[])=>Re.map(ye=>{const de=ye.offset,ht=[];for(const Be in ye)ye.hasOwnProperty(Be)&&"offset"!==Be&&ht.push(`${Be}: ${ye[Be]};`);return`${100*de}% { ${ht.join(" ")} }`}).join(" "))(_e);Vt=void 0!==Re?Re:(Re=>{let ye=ie.indexOf(Re);return ye<0&&(ye=ie.push(Re)-1),`ion-animation-${ye}`})(rt);const It=((Re,ye,de)=>{var ht;const Be=(Re=>{const ye=void 0!==Re.getRootNode?Re.getRootNode():Re;return ye.head||ye})(de),Ze=be(de),Ue=Be.querySelector("#"+Re);if(Ue)return Ue;const Oe=(null!==(ht=de.ownerDocument)&&void 0!==ht?ht:document).createElement("style");return Oe.id=Re,Oe.textContent=`@${Ze}keyframes ${Re} { ${ye} } @${Ze}keyframes ${Re}-alt { ${ye} }`,Be.appendChild(Oe),Oe})(Vt,rt,$e);er.push(It),ge($e,"animation-duration",`${Ee()}ms`),ge($e,"animation-timing-function",Ie()),ge($e,"animation-delay",`${Rt()}ms`),ge($e,"animation-fill-mode",kt()),ge($e,"animation-direction",Wt());const Gt=Ye()===1/0?"infinite":Ye().toString();ge($e,"animation-iteration-count",Gt),ge($e,"animation-play-state","paused"),J&&ge($e,"animation-name",`${It.id}-alt`),(0,a.r)(()=>{ge($e,"animation-name",It.id||null)})}})},es=(J=!0)=>{(()=>{cr.forEach(rt=>rt()),At.forEach(rt=>rt());const J=Fe,_e=N,$e=Je;Un.forEach(rt=>{const It=rt.classList;J.forEach(Gt=>It.add(Gt)),_e.forEach(Gt=>It.remove(Gt));for(const Gt in $e)$e.hasOwnProperty(Gt)&&ge(rt,Gt,$e[Gt])})})(),Oe.length>0&&(on?(Un.forEach(J=>{const _e=J.animate(Oe,{id:$n,delay:Rt(),duration:Ee(),easing:Ie(),iterations:Ye(),fill:kt(),direction:Wt()});_e.pause(),St.push(_e)}),St.length>0&&(St[0].onfinish=()=>{oi()})):Ci(J)),Ge=!0},Ni=J=>{if(J=Math.min(Math.max(J,0),.9999),on)St.forEach(_e=>{_e.currentTime=_e.effect.getComputedTiming().delay+Ee()*J,_e.pause()});else{const _e=`-${Ee()*J}ms`;Un.forEach($e=>{Oe.length>0&&(ge($e,"animation-delay",_e),ge($e,"animation-play-state","paused"))})}},ir=J=>{St.forEach(_e=>{_e.effect.updateTiming({delay:Rt(),duration:Ee(),easing:Ie(),iterations:Ye(),fill:kt(),direction:Wt()})}),void 0!==J&&Ni(J)},$r=(J=!0,_e)=>{(0,a.r)(()=>{Un.forEach($e=>{ge($e,"animation-name",Vt||null),ge($e,"animation-duration",`${Ee()}ms`),ge($e,"animation-timing-function",Ie()),ge($e,"animation-delay",void 0!==_e?`-${_e*Ee()}ms`:`${Rt()}ms`),ge($e,"animation-fill-mode",kt()||null),ge($e,"animation-direction",Wt()||null);const rt=Ye()===1/0?"infinite":Ye().toString();ge($e,"animation-iteration-count",rt),J&&ge($e,"animation-name",`${Vt}-alt`),(0,a.r)(()=>{ge($e,"animation-name",Vt||null)})})})},Lr=(J=!1,_e=!0,$e)=>(J&&yn.forEach(rt=>{rt.update(J,_e,$e)}),on?ir($e):$r(_e,$e),Pt),Ii=()=>{Ge&&(on?St.forEach(J=>{J.pause()}):Un.forEach(J=>{ge(J,"animation-play-state","paused")}),Ot=!0)},wi=()=>{Pe=void 0,oi()},En=()=>{Pe&&clearTimeout(Pe)},F=J=>new Promise(_e=>{null!=J&&J.sync&&(Me=!0,Fn(()=>Me=!1,{oneTimeCallback:!0})),Ge||es(),ot&&(on?(Ni(0),ir()):$r(),ot=!1),Kt&&(bt=yn.length+1,Kt=!1),Fn(()=>_e(),{oneTimeCallback:!0}),yn.forEach($e=>{$e.play()}),on?(St.forEach(J=>{J.play()}),(0===Oe.length||0===Un.length)&&oi()):(()=>{if(En(),(0,a.r)(()=>{Un.forEach(J=>{Oe.length>0&&ge(J,"animation-play-state","running")})}),0===Oe.length||0===Un.length)oi();else{const J=Rt()||0,_e=Ee()||0,$e=Ye()||1;isFinite($e)&&(Pe=setTimeout(wi,J+_e*$e+100)),((Re,ye)=>{let de;const ht={passive:!0},Ze=Ue=>{Re===Ue.target&&(de&&de(),En(),(0,a.r)(()=>{Un.forEach(J=>{De(J,"animation-duration"),De(J,"animation-delay"),De(J,"animation-play-state")}),(0,a.r)(oi)}))};Re&&(Re.addEventListener("webkitAnimationEnd",Ze,ht),Re.addEventListener("animationend",Ze,ht),de=()=>{Re.removeEventListener("webkitAnimationEnd",Ze,ht),Re.removeEventListener("animationend",Ze,ht)})})(Un[0])}})(),Ot=!1}),re=(J,_e)=>{const $e=Oe[0];return void 0===$e||void 0!==$e.offset&&0!==$e.offset?Oe=[{offset:0,[J]:_e},...Oe]:$e[J]=_e,Pt};return Pt={parentAnimation:je,elements:Un,childAnimations:yn,id:$n,animationFinish:oi,from:re,to:(J,_e)=>{const $e=Oe[Oe.length-1];return void 0===$e||void 0!==$e.offset&&1!==$e.offset?Oe=[...Oe,{offset:1,[J]:_e}]:$e[J]=_e,Pt},fromTo:(J,_e,$e)=>re(J,_e).to(J,$e),parent:J=>(je=J,Pt),play:F,pause:()=>(yn.forEach(J=>{J.pause()}),Ii(),Pt),stop:()=>{yn.forEach(J=>{J.stop()}),Ge&&(nn(),Ge=!1),gt=!1,Me=!1,Kt=!0,Se=void 0,lt=void 0,Xe=void 0,bt=0,ot=!1,ut=!0,Ot=!1},destroy:J=>(yn.forEach(_e=>{_e.destroy(J)}),(J=>{nn(),J&&yr()})(J),Un.length=0,yn.length=0,Oe.length=0,An.length=0,Mn.length=0,Ge=!1,Kt=!0,Pt),keyframes:J=>{const _e=Oe!==J;return Oe=J,_e&&(J=>{on?dr().forEach(_e=>{if(_e.effect.setKeyframes)_e.effect.setKeyframes(J);else{const $e=new KeyframeEffect(_e.effect.target,J,_e.effect.getTiming());_e.effect=$e}}):Ci()})(Oe),Pt},addAnimation:J=>{if(null!=J)if(Array.isArray(J))for(const _e of J)_e.parent(Pt),yn.push(_e);else J.parent(Pt),yn.push(J);return Pt},addElement:J=>{if(null!=J)if(1===J.nodeType)Un.push(J);else if(J.length>=0)for(let _e=0;_e<J.length;_e++)Un.push(J[_e]);else console.error("Invalid addElement value");return Pt},update:Lr,fill:J=>(Ze=J,Lr(!0),Pt),direction:J=>(Ue=J,Lr(!0),Pt),iterations:J=>(Be=J,Lr(!0),Pt),duration:J=>(!on&&0===J&&(J=1),de=J,Lr(!0),Pt),easing:J=>(ht=J,Lr(!0),Pt),delay:J=>(ye=J,Lr(!0),Pt),getWebAnimations:dr,getKeyframes:()=>Oe,getFill:kt,getDirection:Wt,getDelay:Rt,getIterations:Ye,getEasing:Ie,getDuration:Ee,afterAddRead:J=>(mt.push(J),Pt),afterAddWrite:J=>(Nt.push(J),Pt),afterClearStyles:(J=[])=>{for(const _e of J)st[_e]="";return Pt},afterStyles:(J={})=>(st=J,Pt),afterRemoveClass:J=>(ft=dt(ft,J),Pt),afterAddClass:J=>(tt=dt(tt,J),Pt),beforeAddRead:J=>(cr.push(J),Pt),beforeAddWrite:J=>(At.push(J),Pt),beforeClearStyles:(J=[])=>{for(const _e of J)Je[_e]="";return Pt},beforeStyles:(J={})=>(Je=J,Pt),beforeRemoveClass:J=>(N=dt(N,J),Pt),beforeAddClass:J=>(Fe=dt(Fe,J),Pt),onFinish:Fn,isRunning:()=>0!==bt&&!Ot,progressStart:(J=!1,_e)=>(yn.forEach($e=>{$e.progressStart(J,_e)}),Ii(),gt=J,Ge||es(),Lr(!1,!0,_e),Pt),progressStep:J=>(yn.forEach(_e=>{_e.progressStep(J)}),Ni(J),Pt),progressEnd:(J,_e,$e)=>(gt=!1,yn.forEach(rt=>{rt.progressEnd(J,_e,$e)}),void 0!==$e&&(lt=$e),ot=!1,ut=!0,0===J?(Se="reverse"===Wt()?"normal":"reverse","reverse"===Se&&(ut=!1),on?(Lr(),Ni(1-_e)):(Xe=(1-_e)*Ee()*-1,Lr(!1,!1))):1===J&&(on?(Lr(),Ni(_e)):(Xe=_e*Ee()*-1,Lr(!1,!1))),void 0!==J&&(Fn(()=>{lt=void 0,Se=void 0,Xe=void 0},{oneTimeCallback:!0}),je||F()),Pt)}}},5820:(_n,yt,V)=>{"use strict";V.d(yt,{E:()=>ve,a:()=>a,s:()=>De});const a=ie=>{try{if(ie instanceof ge)return ie.value;if(!Ce()||"string"!=typeof ie||""===ie)return ie;if(ie.includes("onload="))return"";const ce=document.createDocumentFragment(),xe=document.createElement("div");ce.appendChild(xe),xe.innerHTML=ie,be.forEach(Re=>{const ye=ce.querySelectorAll(Re);for(let de=ye.length-1;de>=0;de--){const ht=ye[de];ht.parentNode?ht.parentNode.removeChild(ht):ce.removeChild(ht);const Be=z(ht);for(let Ze=0;Ze<Be.length;Ze++)ee(Be[Ze])}});const ze=z(ce);for(let Re=0;Re<ze.length;Re++)ee(ze[Re]);const dt=document.createElement("div");dt.appendChild(ce);const Mt=dt.querySelector("div");return null!==Mt?Mt.innerHTML:dt.innerHTML}catch(ce){return console.error(ce),""}},ee=ie=>{if(ie.nodeType&&1!==ie.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ie.attributes instanceof NamedNodeMap))return void ie.remove();for(let xe=ie.attributes.length-1;xe>=0;xe--){const ze=ie.attributes.item(xe),dt=ze.name;if(!Te.includes(dt.toLowerCase())){ie.removeAttribute(dt);continue}const Mt=ze.value,Re=ie[dt];(null!=Mt&&Mt.toLowerCase().includes("javascript:")||null!=Re&&Re.toLowerCase().includes("javascript:"))&&ie.removeAttribute(dt)}const ce=z(ie);for(let xe=0;xe<ce.length;xe++)ee(ce[xe])},z=ie=>null!=ie.children?ie.children:ie.childNodes,Ce=()=>{var ie;const ce=window,xe=null===(ie=null==ce?void 0:ce.Ionic)||void 0===ie?void 0:ie.config;return!xe||(xe.get?xe.get("sanitizerEnabled",!0):!0===xe.sanitizerEnabled||void 0===xe.sanitizerEnabled)},Te=["class","id","href","src","name","slot"],be=["script","style","iframe","meta","link","object","embed"];class ge{constructor(ce){this.value=ce}}const De=ie=>{const ce=window,xe=ce.Ionic;if(!xe||!xe.config||"Object"===xe.config.constructor.name)return ce.Ionic=ce.Ionic||{},ce.Ionic.config=Object.assign(Object.assign({},ce.Ionic.config),ie),ce.Ionic.config},ve=!0},4349:(_n,yt,V)=>{"use strict";V.d(yt,{G:()=>Te});class ee{constructor(ge,De,ke,ve,ie){this.id=De,this.name=ke,this.disableScroll=ie,this.priority=1e6*ve+De,this.ctrl=ge}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ge=this.ctrl.capture(this.name,this.id,this.priority);return ge&&this.disableScroll&&this.ctrl.disableScroll(this.id),ge}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class z{constructor(ge,De,ke,ve){this.id=De,this.disable=ke,this.disableScroll=ve,this.ctrl=ge}block(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.disableGesture(ge,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.enableGesture(ge,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ce="backdrop-no-scroll",Te=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ge){var De;return new ee(this,this.newID(),ge.name,null!==(De=ge.priority)&&void 0!==De?De:0,!!ge.disableScroll)}createBlocker(ge={}){return new z(this,this.newID(),ge.disable,!!ge.disableScroll)}start(ge,De,ke){return this.canStart(ge)?(this.requestedStart.set(De,ke),!0):(this.requestedStart.delete(De),!1)}capture(ge,De,ke){if(!this.start(ge,De,ke))return!1;const ve=this.requestedStart;let ie=-1e4;if(ve.forEach(ce=>{ie=Math.max(ie,ce)}),ie===ke){this.capturedId=De,ve.clear();const ce=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ge}});return document.dispatchEvent(ce),!0}return ve.delete(De),!1}release(ge){this.requestedStart.delete(ge),this.capturedId===ge&&(this.capturedId=void 0)}disableGesture(ge,De){let ke=this.disabledGestures.get(ge);void 0===ke&&(ke=new Set,this.disabledGestures.set(ge,ke)),ke.add(De)}enableGesture(ge,De){const ke=this.disabledGestures.get(ge);void 0!==ke&&ke.delete(De)}disableScroll(ge){this.disabledScroll.add(ge),1===this.disabledScroll.size&&document.body.classList.add(Ce)}enableScroll(ge){this.disabledScroll.delete(ge),0===this.disabledScroll.size&&document.body.classList.remove(Ce)}canStart(ge){return!(void 0!==this.capturedId||this.isDisabled(ge))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ge){const De=this.disabledGestures.get(ge);return!!(De&&De.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(_n,yt,V)=>{"use strict";V.r(yt),V.d(yt,{MENU_BACK_BUTTON_PRIORITY:()=>Te,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ce,blockHardwareBackButton:()=>ee,startHardwareBackButton:()=>z});var a=V(5861);const ee=()=>{document.addEventListener("backbutton",()=>{})},z=()=>{const be=document;let ge=!1;be.addEventListener("backbutton",()=>{if(ge)return;let De=0,ke=[];const ve=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(xe,ze){ke.push({priority:xe,handler:ze,id:De++})}}});be.dispatchEvent(ve);const ie=function(){var xe=(0,a.Z)(function*(ze){try{if(null!=ze&&ze.handler){const dt=ze.handler(ce);null!=dt&&(yield dt)}}catch(dt){console.error(dt)}});return function(dt){return xe.apply(this,arguments)}}(),ce=()=>{if(ke.length>0){let xe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(ze=>{ze.priority>=xe.priority&&(xe=ze)}),ge=!0,ke=ke.filter(ze=>ze.id!==xe.id),ie(xe).then(()=>ge=!1)}};ce()})},Ce=100,Te=99},5730:(_n,yt,V)=>{"use strict";V.d(yt,{a:()=>ge,b:()=>De,c:()=>z,d:()=>ze,e:()=>dt,f:()=>xe,g:()=>ke,h:()=>Be,i:()=>be,j:()=>Ce,k:()=>ce,l:()=>Mt,m:()=>ie,n:()=>Re,o:()=>ht,p:()=>de,q:()=>Ze,r:()=>ve,s:()=>Ue,t:()=>a,u:()=>ye});const a=(Oe,Fe=0)=>new Promise(N=>{ee(Oe,Fe,N)}),ee=(Oe,Fe=0,N)=>{let Ge,je;const Je={passive:!0},ft=()=>{Ge&&Ge()},st=bt=>{(void 0===bt||Oe===bt.target)&&(ft(),N(bt))};return Oe&&(Oe.addEventListener("webkitTransitionEnd",st,Je),Oe.addEventListener("transitionend",st,Je),je=setTimeout(st,Fe+500),Ge=()=>{je&&(clearTimeout(je),je=void 0),Oe.removeEventListener("webkitTransitionEnd",st,Je),Oe.removeEventListener("transitionend",st,Je)}),ft},z=(Oe,Fe)=>{Oe.componentOnReady?Oe.componentOnReady().then(N=>Fe(N)):ve(()=>Fe(Oe))},Ce=(Oe,Fe=[])=>{const N={};return Fe.forEach(Ge=>{Oe.hasAttribute(Ge)&&(null!==Oe.getAttribute(Ge)&&(N[Ge]=Oe.getAttribute(Ge)),Oe.removeAttribute(Ge))}),N},Te=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],be=(Oe,Fe)=>{let N=Te;return Fe&&Fe.length>0&&(N=N.filter(Ge=>!Fe.includes(Ge))),Ce(Oe,N)},ge=(Oe,Fe,N,Ge)=>{var je;if(typeof window<"u"){const Je=window,tt=null===(je=null==Je?void 0:Je.Ionic)||void 0===je?void 0:je.config;if(tt){const ft=tt.get("_ael");if(ft)return ft(Oe,Fe,N,Ge);if(tt._ael)return tt._ael(Oe,Fe,N,Ge)}}return Oe.addEventListener(Fe,N,Ge)},De=(Oe,Fe,N,Ge)=>{var je;if(typeof window<"u"){const Je=window,tt=null===(je=null==Je?void 0:Je.Ionic)||void 0===je?void 0:je.config;if(tt){const ft=tt.get("_rel");if(ft)return ft(Oe,Fe,N,Ge);if(tt._rel)return tt._rel(Oe,Fe,N,Ge)}}return Oe.removeEventListener(Fe,N,Ge)},ke=(Oe,Fe=Oe)=>Oe.shadowRoot||Fe,ve=Oe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Oe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Oe):setTimeout(Oe),ie=Oe=>!!Oe.shadowRoot&&!!Oe.attachShadow,ce=Oe=>{const Fe=Oe.closest("ion-item");return Fe?Fe.querySelector("ion-label"):null},xe=Oe=>{if(Oe.focus(),Oe.classList.contains("ion-focusable")){const Fe=Oe.closest("ion-app");Fe&&Fe.setFocus([Oe])}},ze=(Oe,Fe)=>{let N;const Ge=Oe.getAttribute("aria-labelledby"),je=Oe.id;let Je=null!==Ge&&""!==Ge.trim()?Ge:Fe+"-lbl",tt=null!==Ge&&""!==Ge.trim()?document.getElementById(Ge):ce(Oe);return tt?(null===Ge&&(tt.id=Je),N=tt.textContent,tt.setAttribute("aria-hidden","true")):""!==je.trim()&&(tt=document.querySelector(`label[for="${je}"]`),tt&&(""!==tt.id?Je=tt.id:tt.id=Je=`${je}-lbl`,N=tt.textContent)),{label:tt,labelId:Je,labelText:N}},dt=(Oe,Fe,N,Ge,je)=>{if(Oe||ie(Fe)){let Je=Fe.querySelector("input.aux-input");Je||(Je=Fe.ownerDocument.createElement("input"),Je.type="hidden",Je.classList.add("aux-input"),Fe.appendChild(Je)),Je.disabled=je,Je.name=N,Je.value=Ge||""}},Mt=(Oe,Fe,N)=>Math.max(Oe,Math.min(Fe,N)),Re=(Oe,Fe)=>{if(!Oe){const N="ASSERT: "+Fe;throw console.error(N),new Error(N)}},ye=Oe=>Oe.timeStamp||Date.now(),de=Oe=>{if(Oe){const Fe=Oe.changedTouches;if(Fe&&Fe.length>0){const N=Fe[0];return{x:N.clientX,y:N.clientY}}if(void 0!==Oe.pageX)return{x:Oe.pageX,y:Oe.pageY}}return{x:0,y:0}},ht=Oe=>{const Fe="rtl"===document.dir;switch(Oe){case"start":return Fe;case"end":return!Fe;default:throw new Error(`"${Oe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Be=(Oe,Fe)=>{const N=Oe._original||Oe;return{_original:Oe,emit:Ze(N.emit.bind(N),Fe)}},Ze=(Oe,Fe=0)=>{let N;return(...Ge)=>{clearTimeout(N),N=setTimeout(Oe,Fe,...Ge)}},Ue=(Oe,Fe)=>{if(null!=Oe||(Oe={}),null!=Fe||(Fe={}),Oe===Fe)return!0;const N=Object.keys(Oe);if(N.length!==Object.keys(Fe).length)return!1;for(const Ge of N)if(!(Ge in Fe)||Oe[Ge]!==Fe[Ge])return!1;return!0}},1843:(_n,yt,V)=>{"use strict";V.d(yt,{L:()=>Ce,a:()=>Te,b:()=>be,c:()=>ge,d:()=>De,e:()=>Fe,g:()=>je,l:()=>Ue,s:()=>N,t:()=>ie});var a=V(5861),ee=V(1308),z=V(5730);const Ce="ionViewWillEnter",Te="ionViewDidEnter",be="ionViewWillLeave",ge="ionViewDidLeave",De="ionViewWillUnload",ie=Je=>new Promise((tt,ft)=>{(0,ee.c)(()=>{ce(Je),xe(Je).then(st=>{st.animation&&st.animation.destroy(),ze(Je),tt(st)},st=>{ze(Je),ft(st)})})}),ce=Je=>{const tt=Je.enteringEl,ft=Je.leavingEl;Ge(tt,ft,Je.direction),Je.showGoBack?tt.classList.add("can-go-back"):tt.classList.remove("can-go-back"),N(tt,!1),tt.style.setProperty("pointer-events","none"),ft&&(N(ft,!1),ft.style.setProperty("pointer-events","none"))},xe=function(){var Je=(0,a.Z)(function*(tt){const ft=yield dt(tt);return ft&&ee.B.isBrowser?Mt(ft,tt):Re(tt)});return function(ft){return Je.apply(this,arguments)}}(),ze=Je=>{const tt=Je.enteringEl,ft=Je.leavingEl;tt.classList.remove("ion-page-invisible"),tt.style.removeProperty("pointer-events"),void 0!==ft&&(ft.classList.remove("ion-page-invisible"),ft.style.removeProperty("pointer-events"))},dt=function(){var Je=(0,a.Z)(function*(tt){return tt.leavingEl&&tt.animated&&0!==tt.duration?tt.animationBuilder?tt.animationBuilder:"ios"===tt.mode?(yield Promise.resolve().then(V.bind(V,6439))).iosTransitionAnimation:(yield Promise.resolve().then(V.bind(V,7838))).mdTransitionAnimation:void 0});return function(ft){return Je.apply(this,arguments)}}(),Mt=function(){var Je=(0,a.Z)(function*(tt,ft){yield ye(ft,!0);const st=tt(ft.baseEl,ft);Be(ft.enteringEl,ft.leavingEl);const bt=yield ht(st,ft);return ft.progressCallback&&ft.progressCallback(void 0),bt&&Ze(ft.enteringEl,ft.leavingEl),{hasCompleted:bt,animation:st}});return function(ft,st){return Je.apply(this,arguments)}}(),Re=function(){var Je=(0,a.Z)(function*(tt){const ft=tt.enteringEl,st=tt.leavingEl;return yield ye(tt,!1),Be(ft,st),Ze(ft,st),{hasCompleted:!0}});return function(ft){return Je.apply(this,arguments)}}(),ye=function(){var Je=(0,a.Z)(function*(tt,ft){const bt=(void 0!==tt.deepWait?tt.deepWait:ft)?[Fe(tt.enteringEl),Fe(tt.leavingEl)]:[Oe(tt.enteringEl),Oe(tt.leavingEl)];yield Promise.all(bt),yield de(tt.viewIsReady,tt.enteringEl)});return function(ft,st){return Je.apply(this,arguments)}}(),de=function(){var Je=(0,a.Z)(function*(tt,ft){tt&&(yield tt(ft))});return function(ft,st){return Je.apply(this,arguments)}}(),ht=(Je,tt)=>{const ft=tt.progressCallback,st=new Promise(bt=>{Je.onFinish(gt=>bt(1===gt))});return ft?(Je.progressStart(!0),ft(Je)):Je.play(),st},Be=(Je,tt)=>{Ue(tt,be),Ue(Je,Ce)},Ze=(Je,tt)=>{Ue(Je,Te),Ue(tt,ge)},Ue=(Je,tt)=>{if(Je){const ft=new CustomEvent(tt,{bubbles:!1,cancelable:!1});Je.dispatchEvent(ft)}},Oe=Je=>Je?new Promise(tt=>(0,z.c)(Je,tt)):Promise.resolve(),Fe=function(){var Je=(0,a.Z)(function*(tt){const ft=tt;if(ft){if(null!=ft.componentOnReady){if(null!=(yield ft.componentOnReady()))return}else if(null!=ft.__registerHost)return void(yield new Promise(bt=>(0,z.r)(bt)));yield Promise.all(Array.from(ft.children).map(Fe))}});return function(ft){return Je.apply(this,arguments)}}(),N=(Je,tt)=>{tt?(Je.setAttribute("aria-hidden","true"),Je.classList.add("ion-page-hidden")):(Je.hidden=!1,Je.removeAttribute("aria-hidden"),Je.classList.remove("ion-page-hidden"))},Ge=(Je,tt,ft)=>{void 0!==Je&&(Je.style.zIndex="back"===ft?"99":"101"),void 0!==tt&&(tt.style.zIndex="100")},je=Je=>Je.classList.contains("ion-page")?Je:Je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Je},6369:(_n,yt,V)=>{"use strict";V.d(yt,{m:()=>ie});var a=V(5861),ee=V(7593),z=V(5730),Ce=V(5179),Te=V(181);const be=ce=>(0,Te.c)().duration(ce?400:300),ge=ce=>{let xe,ze;const dt=ce.width+8,Mt=(0,Te.c)(),Re=(0,Te.c)();ce.isEndSide?(xe=dt+"px",ze="0px"):(xe=-dt+"px",ze="0px"),Mt.addElement(ce.menuInnerEl).fromTo("transform",`translateX(${xe})`,`translateX(${ze})`);const de="ios"===(0,Ce.b)(ce),ht=de?.2:.25;return Re.addElement(ce.backdropEl).fromTo("opacity",.01,ht),be(de).addAnimation([Mt,Re])},De=ce=>{let xe,ze;const dt=(0,Ce.b)(ce),Mt=ce.width;ce.isEndSide?(xe=-Mt+"px",ze=Mt+"px"):(xe=Mt+"px",ze=-Mt+"px");const Re=(0,Te.c)().addElement(ce.menuInnerEl).fromTo("transform",`translateX(${ze})`,"translateX(0px)"),ye=(0,Te.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${xe})`),de=(0,Te.c)().addElement(ce.backdropEl).fromTo("opacity",.01,.32);return be("ios"===dt).addAnimation([Re,ye,de])},ke=ce=>{const xe=(0,Ce.b)(ce),ze=ce.width*(ce.isEndSide?-1:1)+"px",dt=(0,Te.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${ze})`);return be("ios"===xe).addAnimation(dt)},ie=(()=>{const ce=new Map,xe=[],ze=function(){var Pe=(0,a.Z)(function*(Se){const lt=yield Be(Se);return!!lt&&lt.open()});return function(lt){return Pe.apply(this,arguments)}}(),dt=function(){var Pe=(0,a.Z)(function*(Se){const lt=yield void 0!==Se?Be(Se):Ze();return void 0!==lt&&lt.close()});return function(lt){return Pe.apply(this,arguments)}}(),Mt=function(){var Pe=(0,a.Z)(function*(Se){const lt=yield Be(Se);return!!lt&&lt.toggle()});return function(lt){return Pe.apply(this,arguments)}}(),Re=function(){var Pe=(0,a.Z)(function*(Se,lt){const Xe=yield Be(lt);return Xe&&(Xe.disabled=!Se),Xe});return function(lt,Xe){return Pe.apply(this,arguments)}}(),ye=function(){var Pe=(0,a.Z)(function*(Se,lt){const Xe=yield Be(lt);return Xe&&(Xe.swipeGesture=Se),Xe});return function(lt,Xe){return Pe.apply(this,arguments)}}(),de=function(){var Pe=(0,a.Z)(function*(Se){if(null!=Se){const lt=yield Be(Se);return void 0!==lt&&lt.isOpen()}return void 0!==(yield Ze())});return function(lt){return Pe.apply(this,arguments)}}(),ht=function(){var Pe=(0,a.Z)(function*(Se){const lt=yield Be(Se);return!!lt&&!lt.disabled});return function(lt){return Pe.apply(this,arguments)}}(),Be=function(){var Pe=(0,a.Z)(function*(Se){return yield Me(),"start"===Se||"end"===Se?gt(ut=>ut.side===Se&&!ut.disabled)||gt(ut=>ut.side===Se):null!=Se?gt(Xe=>Xe.menuId===Se):gt(Xe=>!Xe.disabled)||(xe.length>0?xe[0].el:void 0)});return function(lt){return Pe.apply(this,arguments)}}(),Ze=function(){var Pe=(0,a.Z)(function*(){return yield Me(),ft()});return function(){return Pe.apply(this,arguments)}}(),Ue=function(){var Pe=(0,a.Z)(function*(){return yield Me(),st()});return function(){return Pe.apply(this,arguments)}}(),Oe=function(){var Pe=(0,a.Z)(function*(){return yield Me(),bt()});return function(){return Pe.apply(this,arguments)}}(),Fe=(Pe,Se)=>{ce.set(Pe,Se)},je=Pe=>{const Se=Pe.side;xe.filter(lt=>lt.side===Se&&lt!==Pe).forEach(lt=>lt.disabled=!0)},Je=function(){var Pe=(0,a.Z)(function*(Se,lt,Xe){if(bt())return!1;if(lt){const ut=yield Ze();ut&&Se.el!==ut&&(yield ut.setOpen(!1,!1))}return Se._setOpen(lt,Xe)});return function(lt,Xe,ut){return Pe.apply(this,arguments)}}(),ft=()=>gt(Pe=>Pe._isOpen),st=()=>xe.map(Pe=>Pe.el),bt=()=>xe.some(Pe=>Pe.isAnimating),gt=Pe=>{const Se=xe.find(Pe);if(void 0!==Se)return Se.el},Me=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Pe=>new Promise(Se=>(0,z.c)(Pe,Se))));return Fe("reveal",ke),Fe("push",De),Fe("overlay",ge),typeof document<"u"&&document.addEventListener("ionBackButton",Pe=>{const Se=ft();Se&&Pe.detail.register(ee.MENU_BACK_BUTTON_PRIORITY,()=>Se.close())}),{registerAnimation:Fe,get:Be,getMenus:Ue,getOpen:Ze,isEnabled:ht,swipeGesture:ye,isAnimating:Oe,isOpen:de,enable:Re,toggle:Mt,close:dt,open:ze,_getOpenSync:ft,_createAnimation:(Pe,Se)=>{const lt=ce.get(Pe);if(!lt)throw new Error("animation not registered");return lt(Se)},_register:Pe=>{xe.indexOf(Pe)<0&&(Pe.disabled||je(Pe),xe.push(Pe))},_unregister:Pe=>{const Se=xe.indexOf(Pe);Se>-1&&xe.splice(Se,1)},_setOpen:Je,_setActiveMenu:je}})()},3457:(_n,yt,V)=>{"use strict";V.d(yt,{w:()=>a});const a=typeof window<"u"?window:void 0},1898:(_n,yt,V)=>{"use strict";V.r(yt),V.d(yt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>ke});var a=V(4349);const ee=(xe,ze,dt,Mt)=>{const Re=z(xe)?{capture:!!Mt.capture,passive:!!Mt.passive}:!!Mt.capture;let ye,de;return xe.__zone_symbol__addEventListener?(ye="__zone_symbol__addEventListener",de="__zone_symbol__removeEventListener"):(ye="addEventListener",de="removeEventListener"),xe[ye](ze,dt,Re),()=>{xe[de](ze,dt,Re)}},z=xe=>{if(void 0===Ce)try{const ze=Object.defineProperty({},"passive",{get:()=>{Ce=!0}});xe.addEventListener("optsTest",()=>{},ze)}catch(ze){Ce=!1}return!!Ce};let Ce;const ge=xe=>xe instanceof Document?xe:xe.ownerDocument,ke=xe=>{let ze=!1,dt=!1,Mt=!0,Re=!1;const ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},xe),de=ye.canStart,ht=ye.onWillStart,Be=ye.onStart,Ze=ye.onEnd,Ue=ye.notCaptured,Oe=ye.onMove,Fe=ye.threshold,N=ye.passive,Ge=ye.blurOnStart,je={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Je=((xe,ze,dt)=>{const Mt=dt*(Math.PI/180),Re="x"===xe,ye=Math.cos(Mt),de=ze*ze;let ht=0,Be=0,Ze=!1,Ue=0;return{start(Oe,Fe){ht=Oe,Be=Fe,Ue=0,Ze=!0},detect(Oe,Fe){if(!Ze)return!1;const N=Oe-ht,Ge=Fe-Be,je=N*N+Ge*Ge;if(je<de)return!1;const Je=Math.sqrt(je),tt=(Re?N:Ge)/Je;return Ue=tt>ye?1:tt<-ye?-1:0,Ze=!1,!0},isGesture:()=>0!==Ue,getDirection:()=>Ue}})(ye.direction,ye.threshold,ye.maxAngle),tt=a.G.createGesture({name:xe.gestureName,priority:xe.gesturePriority,disableScroll:xe.disableScroll}),bt=()=>{ze&&(Re=!1,Oe&&Oe(je))},gt=()=>!!tt.capture()&&(ze=!0,Mt=!1,je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime,ht?ht(je).then(Pe):Pe(),!0),Pe=()=>{Ge&&(()=>{if(typeof document<"u"){const ot=document.activeElement;null!=ot&&ot.blur&&ot.blur()}})(),Be&&Be(je),Mt=!0},Se=()=>{ze=!1,dt=!1,Re=!1,Mt=!0,tt.release()},lt=ot=>{const Kt=ze,Vt=Mt;if(Se(),Vt){if(ve(je,ot),Kt)return void(Ze&&Ze(je));Ue&&Ue(je)}},Xe=((xe,ze,dt,Mt,Re)=>{let ye,de,ht,Be,Ze,Ue,Oe,Fe=0;const N=Me=>{Fe=Date.now()+2e3,ze(Me)&&(!de&&dt&&(de=ee(xe,"touchmove",dt,Re)),ht||(ht=ee(Me.target,"touchend",je,Re)),Be||(Be=ee(Me.target,"touchcancel",je,Re)))},Ge=Me=>{Fe>Date.now()||ze(Me)&&(!Ue&&dt&&(Ue=ee(ge(xe),"mousemove",dt,Re)),Oe||(Oe=ee(ge(xe),"mouseup",Je,Re)))},je=Me=>{tt(),Mt&&Mt(Me)},Je=Me=>{ft(),Mt&&Mt(Me)},tt=()=>{de&&de(),ht&&ht(),Be&&Be(),de=ht=Be=void 0},ft=()=>{Ue&&Ue(),Oe&&Oe(),Ue=Oe=void 0},st=()=>{tt(),ft()},bt=(Me=!0)=>{Me?(ye||(ye=ee(xe,"touchstart",N,Re)),Ze||(Ze=ee(xe,"mousedown",Ge,Re))):(ye&&ye(),Ze&&Ze(),ye=Ze=void 0,st())};return{enable:bt,stop:st,destroy:()=>{bt(!1),Mt=dt=ze=void 0}}})(ye.el,ot=>{const Kt=ce(ot);return!(dt||!Mt||(ie(ot,je),je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime=Kt,je.velocityX=je.velocityY=je.deltaX=je.deltaY=0,je.event=ot,de&&!1===de(je))||(tt.release(),!tt.start()))&&(dt=!0,0===Fe?gt():(Je.start(je.startX,je.startY),!0))},ot=>{ze?!Re&&Mt&&(Re=!0,ve(je,ot),requestAnimationFrame(bt)):(ve(je,ot),Je.detect(je.currentX,je.currentY)&&(!Je.isGesture()||!gt())&&ut())},lt,{capture:!1,passive:N}),ut=()=>{Se(),Xe.stop(),Ue&&Ue(je)};return{enable(ot=!0){ot||(ze&&lt(void 0),Se()),Xe.enable(ot)},destroy(){tt.destroy(),Xe.destroy()}}},ve=(xe,ze)=>{if(!ze)return;const dt=xe.currentX,Mt=xe.currentY,Re=xe.currentTime;ie(ze,xe);const ye=xe.currentX,de=xe.currentY,Be=(xe.currentTime=ce(ze))-Re;if(Be>0&&Be<100){const Ue=(de-Mt)/Be;xe.velocityX=(ye-dt)/Be*.7+.3*xe.velocityX,xe.velocityY=.7*Ue+.3*xe.velocityY}xe.deltaX=ye-xe.startX,xe.deltaY=de-xe.startY,xe.event=ze},ie=(xe,ze)=>{let dt=0,Mt=0;if(xe){const Re=xe.changedTouches;if(Re&&Re.length>0){const ye=Re[0];dt=ye.clientX,Mt=ye.clientY}else void 0!==xe.pageX&&(dt=xe.pageX,Mt=xe.pageY)}ze.currentX=dt,ze.currentY=Mt},ce=xe=>xe.timeStamp||Date.now()},1308:(_n,yt,V)=>{"use strict";V.d(yt,{B:()=>nt,H:()=>Un,a:()=>ut,b:()=>bi,c:()=>he,e:()=>Hn,f:()=>Hr,g:()=>ot,h:()=>An,i:()=>rr,j:()=>Wt,k:()=>ji,p:()=>Mt,r:()=>Fr,s:()=>ze});var a=V(5861);let z,Ce,Te,be=!1,ge=!1,De=!1,ke=!1,ve=!1;const ie=typeof window<"u"?window:{},ce=ie.document||{head:{}},xe={$flags$:0,$resourcesUrl$:"",jmp:F=>F(),raf:F=>requestAnimationFrame(F),ael:(F,Y,re,oe)=>F.addEventListener(Y,re,oe),rel:(F,Y,re,oe)=>F.removeEventListener(Y,re,oe),ce:(F,Y)=>new CustomEvent(F,Y)},ze=F=>{Object.assign(xe,F)},Mt=F=>Promise.resolve(F),Re=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(F){}return!1})(),ye=(F,Y,re,oe)=>{re&&re.map(([He,J,_e])=>{const $e=ht(F,He),rt=de(Y,_e),It=Be(He);xe.ael($e,J,rt,It),(Y.$rmListeners$=Y.$rmListeners$||[]).push(()=>xe.rel($e,J,rt,It))})},de=(F,Y)=>re=>{try{256&F.$flags$?F.$lazyInstance$[Y](re):(F.$queuedListeners$=F.$queuedListeners$||[]).push([Y,re])}catch(oe){ir(oe)}},ht=(F,Y)=>4&Y?ce:8&Y?ie:16&Y?ce.body:F,Be=F=>0!=(2&F),N="s-id",Ge="sty-id",tt="http://www.w3.org/1999/xlink",bt=new WeakMap,gt=(F,Y,re)=>{let oe=Jr.get(F);Re&&re?(oe=oe||new CSSStyleSheet,"string"==typeof oe?oe=Y:oe.replaceSync(Y)):oe=Y,Jr.set(F,oe)},Me=(F,Y,re,oe)=>{let He=Se(Y,re);const J=Jr.get(He);if(F=11===F.nodeType?F:ce,J)if("string"==typeof J){let $e,_e=bt.get(F=F.head||F);_e||bt.set(F,_e=new Set),_e.has(He)||(F.host&&($e=F.querySelector(`[${Ge}="${He}"]`))?$e.innerHTML=J:($e=ce.createElement("style"),$e.innerHTML=J,F.insertBefore($e,F.querySelector("link"))),_e&&_e.add(He))}else F.adoptedStyleSheets.includes(J)||(F.adoptedStyleSheets=[...F.adoptedStyleSheets,J]);return He},Se=(F,Y)=>"sc-"+(Y&&32&F.$flags$?F.$tagName$+"-"+Y:F.$tagName$),lt=F=>F.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ut=F=>ei.push(F),ot=F=>Ci(F).$modeName$,Kt={},$n=F=>"object"==(F=typeof F)||"function"===F,An=(F,Y,...re)=>{let oe=null,He=null,J=null,_e=!1,$e=!1;const rt=[],It=pn=>{for(let vn=0;vn<pn.length;vn++)oe=pn[vn],Array.isArray(oe)?It(oe):null!=oe&&"boolean"!=typeof oe&&((_e="function"!=typeof F&&!$n(oe))&&(oe=String(oe)),_e&&$e?rt[rt.length-1].$text$+=oe:rt.push(_e?Mn(null,oe):oe),$e=_e)};if(It(re),Y){Y.key&&(He=Y.key),Y.name&&(J=Y.name);{const pn=Y.className||Y.class;pn&&(Y.class="object"!=typeof pn?pn:Object.keys(pn).filter(vn=>pn[vn]).join(" "))}}if("function"==typeof F)return F(null===Y?{}:Y,rt,er);const Gt=Mn(F,null);return Gt.$attrs$=Y,rt.length>0&&(Gt.$children$=rt),Gt.$key$=He,Gt.$name$=J,Gt},Mn=(F,Y)=>({$flags$:0,$tag$:F,$text$:Y,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Un={},er={forEach:(F,Y)=>F.map(cr).forEach(Y),map:(F,Y)=>F.map(cr).map(Y).map(At)},cr=F=>({vattrs:F.$attrs$,vchildren:F.$children$,vkey:F.$key$,vname:F.$name$,vtag:F.$tag$,vtext:F.$text$}),At=F=>{if("function"==typeof F.vtag){const re=Object.assign({},F.vattrs);return F.vkey&&(re.key=F.vkey),F.vname&&(re.name=F.vname),An(F.vtag,re,...F.vchildren||[])}const Y=Mn(F.vtag,F.vtext);return Y.$attrs$=F.vattrs,Y.$children$=F.vchildren,Y.$key$=F.vkey,Y.$name$=F.vname,Y},mt=(F,Y,re,oe,He,J)=>{if(re!==oe){let _e=Ni(F,Y),$e=Y.toLowerCase();if("class"===Y){const rt=F.classList,It=St(re),Gt=St(oe);rt.remove(...It.filter(pn=>pn&&!Gt.includes(pn))),rt.add(...Gt.filter(pn=>pn&&!It.includes(pn)))}else if("style"===Y){for(const rt in re)(!oe||null==oe[rt])&&(rt.includes("-")?F.style.removeProperty(rt):F.style[rt]="");for(const rt in oe)(!re||oe[rt]!==re[rt])&&(rt.includes("-")?F.style.setProperty(rt,oe[rt]):F.style[rt]=oe[rt])}else if("key"!==Y)if("ref"===Y)oe&&oe(F);else if(_e||"o"!==Y[0]||"n"!==Y[1]){const rt=$n(oe);if((_e||rt&&null!==oe)&&!He)try{if(F.tagName.includes("-"))F[Y]=oe;else{const Gt=null==oe?"":oe;"list"===Y?_e=!1:(null==re||F[Y]!=Gt)&&(F[Y]=Gt)}}catch(Gt){}let It=!1;$e!==($e=$e.replace(/^xlink\:?/,""))&&(Y=$e,It=!0),null==oe||!1===oe?(!1!==oe||""===F.getAttribute(Y))&&(It?F.removeAttributeNS(tt,Y):F.removeAttribute(Y)):(!_e||4&J||He)&&!rt&&(oe=!0===oe?"":oe,It?F.setAttributeNS(tt,Y,oe):F.setAttribute(Y,oe))}else Y="-"===Y[2]?Y.slice(3):Ni(ie,$e)?$e.slice(2):$e[2]+Y.slice(3),re&&xe.rel(F,Y,re,!1),oe&&xe.ael(F,Y,oe,!1)}},Nt=/\s/,St=F=>F?F.split(Nt):[],bn=(F,Y,re,oe)=>{const He=11===Y.$elm$.nodeType&&Y.$elm$.host?Y.$elm$.host:Y.$elm$,J=F&&F.$attrs$||Kt,_e=Y.$attrs$||Kt;for(oe in J)oe in _e||mt(He,oe,J[oe],void 0,re,Y.$flags$);for(oe in _e)mt(He,oe,J[oe],_e[oe],re,Y.$flags$)},on=(F,Y,re,oe)=>{const He=Y.$children$[re];let _e,$e,rt,J=0;if(be||(De=!0,"slot"===He.$tag$&&(z&&oe.classList.add(z+"-s"),He.$flags$|=He.$children$?2:1)),null!==He.$text$)_e=He.$elm$=ce.createTextNode(He.$text$);else if(1&He.$flags$)_e=He.$elm$=ce.createTextNode("");else{if(ke||(ke="svg"===He.$tag$),_e=He.$elm$=ce.createElementNS(ke?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&He.$flags$?"slot-fb":He.$tag$),ke&&"foreignObject"===He.$tag$&&(ke=!1),bn(null,He,ke),(F=>null!=F)(z)&&_e["s-si"]!==z&&_e.classList.add(_e["s-si"]=z),He.$children$)for(J=0;J<He.$children$.length;++J)$e=on(F,He,J,_e),$e&&_e.appendChild($e);"svg"===He.$tag$?ke=!1:"foreignObject"===_e.tagName&&(ke=!0)}return _e["s-hn"]=Te,3&He.$flags$&&(_e["s-sr"]=!0,_e["s-cr"]=Ce,_e["s-sn"]=He.$name$||"",rt=F&&F.$children$&&F.$children$[re],rt&&rt.$tag$===He.$tag$&&F.$elm$&&In(F.$elm$,!1)),_e},In=(F,Y)=>{xe.$flags$|=1;const re=F.childNodes;for(let oe=re.length-1;oe>=0;oe--){const He=re[oe];He["s-hn"]!==Te&&He["s-ol"]&&(Fn(He).insertBefore(He,hn(He)),He["s-ol"].remove(),He["s-ol"]=void 0,De=!0),Y&&In(He,Y)}xe.$flags$&=-2},dr=(F,Y,re,oe,He,J)=>{let $e,_e=F["s-cr"]&&F["s-cr"].parentNode||F;for(_e.shadowRoot&&_e.tagName===Te&&(_e=_e.shadowRoot);He<=J;++He)oe[He]&&($e=on(null,re,He,F),$e&&(oe[He].$elm$=$e,_e.insertBefore($e,hn(Y))))},pr=(F,Y,re,oe,He)=>{for(;Y<=re;++Y)(oe=F[Y])&&(He=oe.$elm$,xr(oe),ge=!0,He["s-ol"]?He["s-ol"].remove():In(He,!0),He.remove())},Cn=(F,Y)=>F.$tag$===Y.$tag$&&("slot"===F.$tag$?F.$name$===Y.$name$:F.$key$===Y.$key$),hn=F=>F&&F["s-ol"]||F,Fn=F=>(F["s-ol"]?F["s-ol"]:F).parentNode,lr=(F,Y)=>{const re=Y.$elm$=F.$elm$,oe=F.$children$,He=Y.$children$,J=Y.$tag$,_e=Y.$text$;let $e;null===_e?(ke="svg"===J||"foreignObject"!==J&&ke,"slot"===J||bn(F,Y,ke),null!==oe&&null!==He?((F,Y,re,oe)=>{let gr,ct,He=0,J=0,_e=0,$e=0,rt=Y.length-1,It=Y[0],Gt=Y[rt],pn=oe.length-1,vn=oe[0],Wn=oe[pn];for(;He<=rt&&J<=pn;)if(null==It)It=Y[++He];else if(null==Gt)Gt=Y[--rt];else if(null==vn)vn=oe[++J];else if(null==Wn)Wn=oe[--pn];else if(Cn(It,vn))lr(It,vn),It=Y[++He],vn=oe[++J];else if(Cn(Gt,Wn))lr(Gt,Wn),Gt=Y[--rt],Wn=oe[--pn];else if(Cn(It,Wn))("slot"===It.$tag$||"slot"===Wn.$tag$)&&In(It.$elm$.parentNode,!1),lr(It,Wn),F.insertBefore(It.$elm$,Gt.$elm$.nextSibling),It=Y[++He],Wn=oe[--pn];else if(Cn(Gt,vn))("slot"===It.$tag$||"slot"===Wn.$tag$)&&In(Gt.$elm$.parentNode,!1),lr(Gt,vn),F.insertBefore(Gt.$elm$,It.$elm$),Gt=Y[--rt],vn=oe[++J];else{for(_e=-1,$e=He;$e<=rt;++$e)if(Y[$e]&&null!==Y[$e].$key$&&Y[$e].$key$===vn.$key$){_e=$e;break}_e>=0?(ct=Y[_e],ct.$tag$!==vn.$tag$?gr=on(Y&&Y[J],re,_e,F):(lr(ct,vn),Y[_e]=void 0,gr=ct.$elm$),vn=oe[++J]):(gr=on(Y&&Y[J],re,J,F),vn=oe[++J]),gr&&Fn(It.$elm$).insertBefore(gr,hn(It.$elm$))}He>rt?dr(F,null==oe[pn+1]?null:oe[pn+1].$elm$,re,oe,J,pn):J>pn&&pr(Y,He,rt)})(re,oe,Y,He):null!==He?(null!==F.$text$&&(re.textContent=""),dr(re,null,Y,He,0,He.length-1)):null!==oe&&pr(oe,0,oe.length-1),ke&&"svg"===J&&(ke=!1)):($e=re["s-cr"])?$e.parentNode.textContent=_e:F.$text$!==_e&&(re.data=_e)},nn=F=>{const Y=F.childNodes;let re,oe,He,J,_e,$e;for(oe=0,He=Y.length;oe<He;oe++)if(re=Y[oe],1===re.nodeType){if(re["s-sr"])for(_e=re["s-sn"],re.hidden=!1,J=0;J<He;J++)if($e=Y[J].nodeType,Y[J]["s-hn"]!==re["s-hn"]||""!==_e){if(1===$e&&_e===Y[J].getAttribute("slot")){re.hidden=!0;break}}else if(1===$e||3===$e&&""!==Y[J].textContent.trim()){re.hidden=!0;break}nn(re)}},yr=[],ni=F=>{let Y,re,oe,He,J,_e,$e=0;const rt=F.childNodes,It=rt.length;for(;$e<It;$e++){if(Y=rt[$e],Y["s-sr"]&&(re=Y["s-cr"])&&re.parentNode)for(oe=re.parentNode.childNodes,He=Y["s-sn"],_e=oe.length-1;_e>=0;_e--)re=oe[_e],!re["s-cn"]&&!re["s-nr"]&&re["s-hn"]!==Y["s-hn"]&&(ri(re,He)?(J=yr.find(Gt=>Gt.$nodeToRelocate$===re),ge=!0,re["s-sn"]=re["s-sn"]||He,J?J.$slotRefNode$=Y:yr.push({$slotRefNode$:Y,$nodeToRelocate$:re}),re["s-sr"]&&yr.map(Gt=>{ri(Gt.$nodeToRelocate$,re["s-sn"])&&(J=yr.find(pn=>pn.$nodeToRelocate$===re),J&&!Gt.$slotRefNode$&&(Gt.$slotRefNode$=J.$slotRefNode$))})):yr.some(Gt=>Gt.$nodeToRelocate$===re)||yr.push({$nodeToRelocate$:re}));1===Y.nodeType&&ni(Y)}},ri=(F,Y)=>1===F.nodeType?null===F.getAttribute("slot")&&""===Y||F.getAttribute("slot")===Y:F["s-sn"]===Y||""===Y,xr=F=>{F.$attrs$&&F.$attrs$.ref&&F.$attrs$.ref(null),F.$children$&&F.$children$.map(xr)},rr=F=>Ci(F).$hostElement$,Hn=(F,Y,re)=>{const oe=rr(F);return{emit:He=>Qr(oe,Y,{bubbles:!!(4&re),composed:!!(2&re),cancelable:!!(1&re),detail:He})}},Qr=(F,Y,re)=>{const oe=xe.ce(Y,re);return F.dispatchEvent(oe),oe},cn=(F,Y)=>{Y&&!F.$onRenderResolve$&&Y["s-p"]&&Y["s-p"].push(new Promise(re=>F.$onRenderResolve$=re))},qt=(F,Y)=>{if(F.$flags$|=16,!(4&F.$flags$))return cn(F,F.$ancestorComponent$),he(()=>Et(F,Y));F.$flags$|=512},Et=(F,Y)=>{const oe=F.$lazyInstance$;let He;return Y&&(F.$flags$|=256,F.$queuedListeners$&&(F.$queuedListeners$.map(([J,_e])=>Ee(oe,J,_e)),F.$queuedListeners$=null),He=Ee(oe,"componentWillLoad")),He=Ye(He,()=>Ee(oe,"componentWillRender")),Ye(He,()=>Ae(F,oe,Y))},Ae=function(){var F=(0,a.Z)(function*(Y,re,oe){const He=Y.$hostElement$,_e=He["s-rc"];oe&&(F=>{const Y=F.$cmpMeta$,re=F.$hostElement$,oe=Y.$flags$,J=Me(re.shadowRoot?re.shadowRoot:re.getRootNode(),Y,F.$modeName$);10&oe&&(re["s-sc"]=J,re.classList.add(J+"-h"),2&oe&&re.classList.add(J+"-s"))})(Y);We(Y,re),_e&&(_e.map(rt=>rt()),He["s-rc"]=void 0);{const rt=He["s-p"],It=()=>kt(Y);0===rt.length?It():(Promise.all(rt).then(It),Y.$flags$|=4,rt.length=0)}});return function(re,oe,He){return F.apply(this,arguments)}}(),We=(F,Y,re)=>{try{Y=Y.render&&Y.render(),F.$flags$&=-17,F.$flags$|=2,((F,Y)=>{const re=F.$hostElement$,oe=F.$cmpMeta$,He=F.$vnode$||Mn(null,null),J=(F=>F&&F.$tag$===Un)(Y)?Y:An(null,null,Y);if(Te=re.tagName,oe.$attrsToReflect$&&(J.$attrs$=J.$attrs$||{},oe.$attrsToReflect$.map(([_e,$e])=>J.$attrs$[$e]=re[_e])),J.$tag$=null,J.$flags$|=4,F.$vnode$=J,J.$elm$=He.$elm$=re.shadowRoot||re,z=re["s-sc"],Ce=re["s-cr"],be=0!=(1&oe.$flags$),ge=!1,lr(He,J),xe.$flags$|=1,De){ni(J.$elm$);let _e,$e,rt,It,Gt,pn,vn=0;for(;vn<yr.length;vn++)_e=yr[vn],$e=_e.$nodeToRelocate$,$e["s-ol"]||(rt=ce.createTextNode(""),rt["s-nr"]=$e,$e.parentNode.insertBefore($e["s-ol"]=rt,$e));for(vn=0;vn<yr.length;vn++)if(_e=yr[vn],$e=_e.$nodeToRelocate$,_e.$slotRefNode$){for(It=_e.$slotRefNode$.parentNode,Gt=_e.$slotRefNode$.nextSibling,rt=$e["s-ol"];rt=rt.previousSibling;)if(pn=rt["s-nr"],pn&&pn["s-sn"]===$e["s-sn"]&&It===pn.parentNode&&(pn=pn.nextSibling,!pn||!pn["s-nr"])){Gt=pn;break}(!Gt&&It!==$e.parentNode||$e.nextSibling!==Gt)&&$e!==Gt&&(!$e["s-hn"]&&$e["s-ol"]&&($e["s-hn"]=$e["s-ol"].parentNode.nodeName),It.insertBefore($e,Gt))}else 1===$e.nodeType&&($e.hidden=!0)}ge&&nn(J.$elm$),xe.$flags$&=-2,yr.length=0})(F,Y)}catch(oe){ir(oe,F.$hostElement$)}return null},kt=F=>{const re=F.$hostElement$,He=F.$lazyInstance$,J=F.$ancestorComponent$;Ee(He,"componentDidRender"),64&F.$flags$?Ee(He,"componentDidUpdate"):(F.$flags$|=64,Rt(re),Ee(He,"componentDidLoad"),F.$onReadyResolve$(re),J||Ie()),F.$onInstanceResolve$(re),F.$onRenderResolve$&&(F.$onRenderResolve$(),F.$onRenderResolve$=void 0),512&F.$flags$&&Yn(()=>qt(F,!1)),F.$flags$&=-517},Wt=F=>{{const Y=Ci(F),re=Y.$hostElement$.isConnected;return re&&2==(18&Y.$flags$)&&qt(Y,!1),re}},Ie=F=>{Rt(ce.documentElement),Yn(()=>Qr(ie,"appload",{detail:{namespace:"ionic"}}))},Ee=(F,Y,re)=>{if(F&&F[Y])try{return F[Y](re)}catch(oe){ir(oe)}},Ye=(F,Y)=>F&&F.then?F.then(Y):Y(),Rt=F=>F.classList.add("hydrated"),wn=(F,Y,re,oe,He,J,_e)=>{let $e,rt,It,Gt;if(1===J.nodeType){for($e=J.getAttribute("c-id"),$e&&(rt=$e.split("."),(rt[0]===_e||"0"===rt[0])&&(It={$flags$:0,$hostId$:rt[0],$nodeId$:rt[1],$depth$:rt[2],$index$:rt[3],$tag$:J.tagName.toLowerCase(),$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Y.push(It),J.removeAttribute("c-id"),F.$children$||(F.$children$=[]),F.$children$[It.$index$]=It,F=It,oe&&"0"===It.$depth$&&(oe[It.$index$]=It.$elm$))),Gt=J.childNodes.length-1;Gt>=0;Gt--)wn(F,Y,re,oe,He,J.childNodes[Gt],_e);if(J.shadowRoot)for(Gt=J.shadowRoot.childNodes.length-1;Gt>=0;Gt--)wn(F,Y,re,oe,He,J.shadowRoot.childNodes[Gt],_e)}else if(8===J.nodeType)rt=J.nodeValue.split("."),(rt[1]===_e||"0"===rt[1])&&($e=rt[0],It={$flags$:0,$hostId$:rt[1],$nodeId$:rt[2],$depth$:rt[3],$index$:rt[4],$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===$e?(It.$elm$=J.nextSibling,It.$elm$&&3===It.$elm$.nodeType&&(It.$text$=It.$elm$.textContent,Y.push(It),J.remove(),F.$children$||(F.$children$=[]),F.$children$[It.$index$]=It,oe&&"0"===It.$depth$&&(oe[It.$index$]=It.$elm$))):It.$hostId$===_e&&("s"===$e?(It.$tag$="slot",J["s-sn"]=rt[5]?It.$name$=rt[5]:"",J["s-sr"]=!0,oe&&(It.$elm$=ce.createElement(It.$tag$),It.$name$&&It.$elm$.setAttribute("name",It.$name$),J.parentNode.insertBefore(It.$elm$,J),J.remove(),"0"===It.$depth$&&(oe[It.$index$]=It.$elm$)),re.push(It),F.$children$||(F.$children$=[]),F.$children$[It.$index$]=It):"r"===$e&&(oe?J.remove():(He["s-cr"]=J,J["s-cn"]=!0))));else if(F&&"style"===F.$tag$){const pn=Mn(null,J.textContent);pn.$elm$=J,pn.$index$="0",F.$children$=[pn]}},Qe=(F,Y)=>{if(1===F.nodeType){let re=0;for(;re<F.childNodes.length;re++)Qe(F.childNodes[re],Y);if(F.shadowRoot)for(re=0;re<F.shadowRoot.childNodes.length;re++)Qe(F.shadowRoot.childNodes[re],Y)}else if(8===F.nodeType){const re=F.nodeValue.split(".");"o"===re[0]&&(Y.set(re[1]+"."+re[2],F),F.nodeValue="",F["s-en"]=re[3])}},zt=(F,Y,re)=>{if(Y.$members$){F.watchers&&(Y.$watchers$=F.watchers);const oe=Object.entries(Y.$members$),He=F.prototype;if(oe.map(([J,[_e]])=>{31&_e||2&re&&32&_e?Object.defineProperty(He,J,{get(){return((F,Y)=>Ci(this).$instanceValues$.get(Y))(0,J)},set($e){((F,Y,re,oe)=>{const He=Ci(F),J=He.$hostElement$,_e=He.$instanceValues$.get(Y),$e=He.$flags$,rt=He.$lazyInstance$;re=((F,Y)=>null==F||$n(F)?F:4&Y?"false"!==F&&(""===F||!!F):2&Y?parseFloat(F):1&Y?String(F):F)(re,oe.$members$[Y][0]);const It=Number.isNaN(_e)&&Number.isNaN(re);if((!(8&$e)||void 0===_e)&&re!==_e&&!It&&(He.$instanceValues$.set(Y,re),rt)){if(oe.$watchers$&&128&$e){const pn=oe.$watchers$[Y];pn&&pn.map(vn=>{try{rt[vn](re,_e,Y)}catch(Wn){ir(Wn,J)}})}2==(18&$e)&&qt(He,!1)}})(this,J,$e,Y)},configurable:!0,enumerable:!0}):1&re&&64&_e&&Object.defineProperty(He,J,{value(...$e){const rt=Ci(this);return rt.$onInstancePromise$.then(()=>rt.$lazyInstance$[J](...$e))}})}),1&re){const J=new Map;He.attributeChangedCallback=function(_e,$e,rt){xe.jmp(()=>{const It=J.get(_e);if(this.hasOwnProperty(It))rt=this[It],delete this[It];else if(He.hasOwnProperty(It)&&"number"==typeof this[It]&&this[It]==rt)return;this[It]=(null!==rt||"boolean"!=typeof this[It])&&rt})},F.observedAttributes=oe.filter(([_e,$e])=>15&$e[0]).map(([_e,$e])=>{const rt=$e[1]||_e;return J.set(rt,_e),512&$e[0]&&Y.$attrsToReflect$.push([_e,rt]),rt})}}return F},en=function(){var F=(0,a.Z)(function*(Y,re,oe,He,J){if(!(32&re.$flags$)){{if(re.$flags$|=32,(J=Lr(oe)).then){const It=()=>{};J=yield J,It()}J.isProxied||(oe.$watchers$=J.watchers,zt(J,oe,2),J.isProxied=!0);const rt=()=>{};re.$flags$|=8;try{new J(re)}catch(It){ir(It)}re.$flags$&=-9,re.$flags$|=128,rt(),On(re.$lazyInstance$)}if(J.style){let rt=J.style;"string"!=typeof rt&&(rt=rt[re.$modeName$=(F=>ei.map(Y=>Y(F)).find(Y=>!!Y))(Y)]);const It=Se(oe,re.$modeName$);if(!Jr.has(It)){const Gt=()=>{};gt(It,rt,!!(1&oe.$flags$)),Gt()}}}const _e=re.$ancestorComponent$,$e=()=>qt(re,!0);_e&&_e["s-rc"]?_e["s-rc"].push($e):$e()});return function(re,oe,He,J,_e){return F.apply(this,arguments)}}(),On=F=>{Ee(F,"connectedCallback")},Cr=F=>{const Y=F["s-cr"]=ce.createComment("");Y["s-cn"]=!0,F.insertBefore(Y,F.firstChild)},bi=(F,Y={})=>{const oe=[],He=Y.exclude||[],J=ie.customElements,_e=ce.head,$e=_e.querySelector("meta[charset]"),rt=ce.createElement("style"),It=[],Gt=ce.querySelectorAll(`[${Ge}]`);let pn,vn=!0,Wn=0;for(Object.assign(xe,Y),xe.$resourcesUrl$=new URL(Y.resourcesUrl||"./",ce.baseURI).href,xe.$flags$|=2;Wn<Gt.length;Wn++)gt(Gt[Wn].getAttribute(Ge),lt(Gt[Wn].innerHTML),!0);F.map(gr=>{gr[1].map(ct=>{const Ke={$flags$:ct[0],$tagName$:ct[1],$members$:ct[2],$listeners$:ct[3]};Ke.$members$=ct[2],Ke.$listeners$=ct[3],Ke.$attrsToReflect$=[],Ke.$watchers$={};const xt=Ke.$tagName$,Lt=class extends HTMLElement{constructor(Xt){super(Xt),es(Xt=this,Ke),1&Ke.$flags$&&Xt.attachShadow({mode:"open",delegatesFocus:!!(16&Ke.$flags$)})}connectedCallback(){pn&&(clearTimeout(pn),pn=null),vn?It.push(this):xe.jmp(()=>(F=>{if(!(1&xe.$flags$)){const Y=Ci(F),re=Y.$cmpMeta$,oe=()=>{};if(1&Y.$flags$)ye(F,Y,re.$listeners$),On(Y.$lazyInstance$);else{let He;if(Y.$flags$|=1,He=F.getAttribute(N),He){if(1&re.$flags$){const J=Me(F.shadowRoot,re,F.getAttribute("s-mode"));F.classList.remove(J+"-h",J+"-s")}((F,Y,re,oe)=>{const J=F.shadowRoot,_e=[],rt=J?[]:null,It=oe.$vnode$=Mn(Y,null);xe.$orgLocNodes$||Qe(ce.body,xe.$orgLocNodes$=new Map),F[N]=re,F.removeAttribute(N),wn(It,_e,[],rt,F,F,re),_e.map(Gt=>{const pn=Gt.$hostId$+"."+Gt.$nodeId$,vn=xe.$orgLocNodes$.get(pn),Wn=Gt.$elm$;vn&&""===vn["s-en"]&&vn.parentNode.insertBefore(Wn,vn.nextSibling),J||(Wn["s-hn"]=Y,vn&&(Wn["s-ol"]=vn,Wn["s-ol"]["s-nr"]=Wn)),xe.$orgLocNodes$.delete(pn)}),J&&rt.map(Gt=>{Gt&&J.appendChild(Gt)})})(F,re.$tagName$,He,Y)}He||12&re.$flags$&&Cr(F);{let J=F;for(;J=J.parentNode||J.host;)if(1===J.nodeType&&J.hasAttribute("s-id")&&J["s-p"]||J["s-p"]){cn(Y,Y.$ancestorComponent$=J);break}}re.$members$&&Object.entries(re.$members$).map(([J,[_e]])=>{if(31&_e&&F.hasOwnProperty(J)){const $e=F[J];delete F[J],F[J]=$e}}),Yn(()=>en(F,Y,re))}oe()}})(this))}disconnectedCallback(){xe.jmp(()=>(F=>{if(!(1&xe.$flags$)){const Y=Ci(this),re=Y.$lazyInstance$;Y.$rmListeners$&&(Y.$rmListeners$.map(oe=>oe()),Y.$rmListeners$=void 0),Ee(re,"disconnectedCallback")}})())}componentOnReady(){return Ci(this).$onReadyPromise$}};Ke.$lazyBundleId$=gr[0],!He.includes(xt)&&!J.get(xt)&&(oe.push(xt),J.define(xt,zt(Lt,Ke,1)))})}),rt.innerHTML=oe+"{visibility:hidden}.hydrated{visibility:inherit}",rt.setAttribute("data-styles",""),_e.insertBefore(rt,$e?$e.nextSibling:_e.firstChild),vn=!1,It.length?It.map(gr=>gr.connectedCallback()):xe.jmp(()=>pn=setTimeout(Ie,30))},ji=F=>{const Y=new URL(F,xe.$resourcesUrl$);return Y.origin!==ie.location.origin?Y.href:Y.pathname},oi=new WeakMap,Ci=F=>oi.get(F),Fr=(F,Y)=>oi.set(Y.$lazyInstance$=F,Y),es=(F,Y)=>{const re={$flags$:0,$hostElement$:F,$cmpMeta$:Y,$instanceValues$:new Map};return re.$onInstancePromise$=new Promise(oe=>re.$onInstanceResolve$=oe),re.$onReadyPromise$=new Promise(oe=>re.$onReadyResolve$=oe),F["s-p"]=[],F["s-rc"]=[],ye(F,re,Y.$listeners$),oi.set(F,re)},Ni=(F,Y)=>Y in F,ir=(F,Y)=>(0,console.error)(F,Y),$r=new Map,Lr=(F,Y,re)=>{const oe=F.$tagName$.replace(/-/g,"_"),He=F.$lazyBundleId$,J=$r.get(He);return J?J[oe]:V(863)(`./${He}.entry.js`).then(_e=>($r.set(He,_e),_e[oe]),ir)},Jr=new Map,ei=[],Mr=[],Ii=[],Wi=(F,Y)=>re=>{F.push(re),ve||(ve=!0,Y&&4&xe.$flags$?Yn(En):xe.raf(En))},wi=F=>{for(let Y=0;Y<F.length;Y++)try{F[Y](performance.now())}catch(re){ir(re)}F.length=0},En=()=>{wi(Mr),wi(Ii),(ve=Mr.length>0)&&xe.raf(En)},Yn=F=>Mt().then(F),Hr=Wi(Mr,!1),he=Wi(Ii,!0),nt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(_n,yt,V)=>{"use strict";V.d(yt,{a:()=>ie,b:()=>bt,c:()=>z,g:()=>ve,i:()=>gt});var a=V(1308);class ee{constructor(){this.m=new Map}reset(Pe){this.m=new Map(Object.entries(Pe))}get(Pe,Se){const lt=this.m.get(Pe);return void 0!==lt?lt:Se}getBoolean(Pe,Se=!1){const lt=this.m.get(Pe);return void 0===lt?Se:"string"==typeof lt?"true"===lt:!!lt}getNumber(Pe,Se){const lt=parseFloat(this.m.get(Pe));return isNaN(lt)?void 0!==Se?Se:NaN:lt}set(Pe,Se){this.m.set(Pe,Se)}}const z=new ee,ke="ionic-persist-config",ve=Me=>ce(Me),ie=(Me,Pe)=>("string"==typeof Me&&(Pe=Me,Me=void 0),ve(Me).includes(Pe)),ce=(Me=window)=>{if(typeof Me>"u")return[];Me.Ionic=Me.Ionic||{};let Pe=Me.Ionic.platforms;return null==Pe&&(Pe=Me.Ionic.platforms=xe(Me),Pe.forEach(Se=>Me.document.documentElement.classList.add(`plt-${Se}`))),Pe},xe=Me=>{const Pe=z.get("platform");return Object.keys(ft).filter(Se=>{const lt=null==Pe?void 0:Pe[Se];return"function"==typeof lt?lt(Me):ft[Se](Me)})},dt=Me=>!!(Je(Me,/iPad/i)||Je(Me,/Macintosh/i)&&Ze(Me)),ye=Me=>Je(Me,/android|sink/i),Ze=Me=>tt(Me,"(any-pointer:coarse)"),Oe=Me=>Fe(Me)||N(Me),Fe=Me=>!!(Me.cordova||Me.phonegap||Me.PhoneGap),N=Me=>{const Pe=Me.Capacitor;return!(null==Pe||!Pe.isNative)},Je=(Me,Pe)=>Pe.test(Me.navigator.userAgent),tt=(Me,Pe)=>{var Se;return null===(Se=Me.matchMedia)||void 0===Se?void 0:Se.call(Me,Pe).matches},ft={ipad:dt,iphone:Me=>Je(Me,/iPhone/i),ios:Me=>Je(Me,/iPhone|iPod/i)||dt(Me),android:ye,phablet:Me=>{const Pe=Me.innerWidth,Se=Me.innerHeight,lt=Math.min(Pe,Se),Xe=Math.max(Pe,Se);return lt>390&&lt<520&&Xe>620&&Xe<800},tablet:Me=>{const Pe=Me.innerWidth,Se=Me.innerHeight,lt=Math.min(Pe,Se),Xe=Math.max(Pe,Se);return dt(Me)||(Me=>ye(Me)&&!Je(Me,/mobile/i))(Me)||lt>460&&lt<820&&Xe>780&&Xe<1400},cordova:Fe,capacitor:N,electron:Me=>Je(Me,/electron/i),pwa:Me=>{var Pe;return!!(null!==(Pe=Me.matchMedia)&&void 0!==Pe&&Pe.call(Me,"(display-mode: standalone)").matches||Me.navigator.standalone)},mobile:Ze,mobileweb:Me=>Ze(Me)&&!Oe(Me),desktop:Me=>!Ze(Me),hybrid:Oe};let st;const bt=Me=>Me&&(0,a.g)(Me)||st,gt=(Me={})=>{if(typeof window>"u")return;const Pe=window.document,Se=window,lt=Se.Ionic=Se.Ionic||{},Xe={};Me._ael&&(Xe.ael=Me._ael),Me._rel&&(Xe.rel=Me._rel),Me._ce&&(Xe.ce=Me._ce),(0,a.s)(Xe);const ut=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Me=>{try{const Pe=Me.sessionStorage.getItem(ke);return null!==Pe?JSON.parse(Pe):{}}catch(Pe){return{}}})(Se)),{persistConfig:!1}),lt.config),(Me=>{const Pe={};return Me.location.search.slice(1).split("&").map(Se=>Se.split("=")).map(([Se,lt])=>[decodeURIComponent(Se),decodeURIComponent(lt)]).filter(([Se])=>((Me,Pe)=>Me.substr(0,Pe.length)===Pe)(Se,"ionic:")).map(([Se,lt])=>[Se.slice("ionic:".length),lt]).forEach(([Se,lt])=>{Pe[Se]=lt}),Pe})(Se)),Me);z.reset(ut),z.getBoolean("persistConfig")&&((Me,Pe)=>{try{Me.sessionStorage.setItem(ke,JSON.stringify(Pe))}catch(Se){return}})(Se,ut),ce(Se),lt.config=z,lt.mode=st=z.get("mode",Pe.documentElement.getAttribute("mode")||(ie(Se,"ios")?"ios":"md")),z.set("mode",st),Pe.documentElement.setAttribute("mode",st),Pe.documentElement.classList.add(st),z.getBoolean("_testing")&&z.set("animated",!1);const ot=Vt=>{var Pt;return null===(Pt=Vt.tagName)||void 0===Pt?void 0:Pt.startsWith("ION-")},Kt=Vt=>["ios","md"].includes(Vt);(0,a.a)(Vt=>{for(;Vt;){const Pt=Vt.mode||Vt.getAttribute("mode");if(Pt){if(Kt(Pt))return Pt;ot(Vt)&&console.warn('Invalid ionic mode: "'+Pt+'", expected: "ios" or "md"')}Vt=Vt.parentElement}return st})}},6439:(_n,yt,V)=>{"use strict";V.r(yt),V.d(yt,{iosTransitionAnimation:()=>xe,shadow:()=>ge});var a=V(181),ee=V(1843);V(3457),V(1308);const be=ze=>document.querySelector(`${ze}.ion-cloned-element`),ge=ze=>ze.shadowRoot||ze,De=ze=>{const dt="ION-TABS"===ze.tagName?ze:ze.querySelector("ion-tabs"),Mt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=dt){const Re=dt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Re?Re.querySelector(Mt):null}return ze.querySelector(Mt)},ke=(ze,dt)=>{const Mt="ION-TABS"===ze.tagName?ze:ze.querySelector("ion-tabs");let Re=[];if(null!=Mt){const ye=Mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ye&&(Re=ye.querySelectorAll("ion-buttons"))}else Re=ze.querySelectorAll("ion-buttons");for(const ye of Re){const de=ye.closest("ion-header"),ht=de&&!de.classList.contains("header-collapse-condense-inactive"),Be=ye.querySelector("ion-back-button"),Ze=ye.classList.contains("buttons-collapse");if(null!==Be&&("start"===ye.slot||""===ye.slot)&&(Ze&&ht&&dt||!Ze))return Be}return null},ie=(ze,dt,Mt,Re,ye,de)=>{const ht=dt?`calc(100% - ${de.right+4}px)`:de.left-4+"px",Be=dt?"7px":"-7px",Ze=dt?"-4px":"4px",Ue=dt?"-4px":"4px",Oe=dt?"right":"left",Fe=dt?"left":"right",je=Mt?[{offset:0,opacity:1,transform:`translate3d(${Ze}, ${de.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Be}, ${ye.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Be}, ${ye.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ze}, ${de.top-46}px, 0) scale(1)`}],ft=Mt?[{offset:0,opacity:1,transform:`translate3d(${Ue}, ${de.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ue}, ${de.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ue}, ${de.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ue}, ${de.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ue}, ${de.top-46}px, 0) scale(1)`}],st=(0,a.c)(),bt=(0,a.c)(),gt=be("ion-back-button"),Me=ge(gt).querySelector(".button-text"),Pe=ge(gt).querySelector("ion-icon");gt.text=Re.text,gt.mode=Re.mode,gt.icon=Re.icon,gt.color=Re.color,gt.disabled=Re.disabled,gt.style.setProperty("display","block"),gt.style.setProperty("position","fixed"),bt.addElement(Pe),st.addElement(Me),st.beforeStyles({"transform-origin":`${Oe} center`}).beforeAddWrite(()=>{Re.style.setProperty("display","none"),gt.style.setProperty(Oe,ht)}).afterAddWrite(()=>{Re.style.setProperty("display",""),gt.style.setProperty("display","none"),gt.style.removeProperty(Oe)}).keyframes(je),bt.beforeStyles({"transform-origin":`${Fe} center`}).keyframes(ft),ze.addAnimation([st,bt])},ce=(ze,dt,Mt,Re,ye,de)=>{const ht=dt?`calc(100% - ${ye.right}px)`:`${ye.left}px`,Be=dt?"-18px":"18px",Ze=dt?"right":"left",Fe=Mt?[{offset:0,opacity:0,transform:`translate3d(${Be}, ${de.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Be}, ${de.top-4}px, 0) scale(0.5)`}],N=be("ion-title"),Ge=(0,a.c)();N.innerText=Re.innerText,N.size=Re.size,N.color=Re.color,Ge.addElement(N),Ge.beforeStyles({"transform-origin":`${Ze} center`,height:"46px",display:"",position:"relative",[Ze]:ht}).beforeAddWrite(()=>{Re.style.setProperty("display","none")}).afterAddWrite(()=>{Re.style.setProperty("display",""),N.style.setProperty("display","none")}).keyframes(Fe),ze.addAnimation(Ge)},xe=(ze,dt)=>{var Mt;try{const Re="cubic-bezier(0.32,0.72,0,1)",ye="opacity",de="transform",ht="0%",Ze="rtl"===ze.ownerDocument.dir,Ue=Ze?"-99.5%":"99.5%",Oe=Ze?"33%":"-33%",Fe=dt.enteringEl,N=dt.leavingEl,Ge="back"===dt.direction,je=Fe.querySelector(":scope > ion-content"),Je=Fe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),tt=Fe.querySelectorAll(":scope > ion-header > ion-toolbar"),ft=(0,a.c)(),st=(0,a.c)();if(ft.addElement(Fe).duration((null!==(Mt=dt.duration)&&void 0!==Mt?Mt:0)||540).easing(dt.easing||Re).fill("both").beforeRemoveClass("ion-page-invisible"),N&&null!=ze){const Pe=(0,a.c)();Pe.addElement(ze),ft.addAnimation(Pe)}if(je||0!==tt.length||0!==Je.length?(st.addElement(je),st.addElement(Je)):st.addElement(Fe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ft.addAnimation(st),Ge?st.beforeClearStyles([ye]).fromTo("transform",`translateX(${Oe})`,`translateX(${ht})`).fromTo(ye,.8,1):st.beforeClearStyles([ye]).fromTo("transform",`translateX(${Ue})`,`translateX(${ht})`),je){const Pe=ge(je).querySelector(".transition-effect");if(Pe){const Se=Pe.querySelector(".transition-cover"),lt=Pe.querySelector(".transition-shadow"),Xe=(0,a.c)(),ut=(0,a.c)(),ot=(0,a.c)();Xe.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ut.addElement(Se).beforeClearStyles([ye]).fromTo(ye,0,.1),ot.addElement(lt).beforeClearStyles([ye]).fromTo(ye,.03,.7),Xe.addAnimation([ut,ot]),st.addAnimation([Xe])}}const bt=Fe.querySelector("ion-header.header-collapse-condense"),{forward:gt,backward:Me}=((ze,dt,Mt,Re,ye)=>{const de=ke(Re,Mt),ht=De(ye),Be=De(Re),Ze=ke(ye,Mt),Ue=null!==de&&null!==ht&&!Mt,Oe=null!==Be&&null!==Ze&&Mt;if(Ue){const Fe=ht.getBoundingClientRect(),N=de.getBoundingClientRect();ce(ze,dt,Mt,ht,Fe,N),ie(ze,dt,Mt,de,Fe,N)}else if(Oe){const Fe=Be.getBoundingClientRect(),N=Ze.getBoundingClientRect();ce(ze,dt,Mt,Be,Fe,N),ie(ze,dt,Mt,Ze,Fe,N)}return{forward:Ue,backward:Oe}})(ft,Ze,Ge,Fe,N);if(tt.forEach(Pe=>{const Se=(0,a.c)();Se.addElement(Pe),ft.addAnimation(Se);const lt=(0,a.c)();lt.addElement(Pe.querySelector("ion-title"));const Xe=(0,a.c)(),ut=Array.from(Pe.querySelectorAll("ion-buttons,[menuToggle]")),ot=Pe.closest("ion-header"),Kt=null==ot?void 0:ot.classList.contains("header-collapse-condense-inactive");let Vt;Vt=ut.filter(Ge?Mn=>{const Un=Mn.classList.contains("buttons-collapse");return Un&&!Kt||!Un}:Mn=>!Mn.classList.contains("buttons-collapse")),Xe.addElement(Vt);const Pt=(0,a.c)();Pt.addElement(Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ot=(0,a.c)();Ot.addElement(ge(Pe).querySelector(".toolbar-background"));const $n=(0,a.c)(),An=Pe.querySelector("ion-back-button");if(An&&$n.addElement(An),Se.addAnimation([lt,Xe,Pt,Ot,$n]),Xe.fromTo(ye,.01,1),Pt.fromTo(ye,.01,1),Ge)Kt||lt.fromTo("transform",`translateX(${Oe})`,`translateX(${ht})`).fromTo(ye,.01,1),Pt.fromTo("transform",`translateX(${Oe})`,`translateX(${ht})`),$n.fromTo(ye,.01,1);else if(bt||lt.fromTo("transform",`translateX(${Ue})`,`translateX(${ht})`).fromTo(ye,.01,1),Pt.fromTo("transform",`translateX(${Ue})`,`translateX(${ht})`),Ot.beforeClearStyles([ye,"transform"]),(null==ot?void 0:ot.translucent)?Ot.fromTo("transform",Ze?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ot.fromTo(ye,.01,"var(--opacity)"),gt||$n.fromTo(ye,.01,1),An&&!gt){const Un=(0,a.c)();Un.addElement(ge(An).querySelector(".button-text")).fromTo("transform",Ze?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Se.addAnimation(Un)}}),N){const Pe=(0,a.c)(),Se=N.querySelector(":scope > ion-content"),lt=N.querySelectorAll(":scope > ion-header > ion-toolbar"),Xe=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Se||0!==lt.length||0!==Xe.length?(Pe.addElement(Se),Pe.addElement(Xe)):Pe.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ft.addAnimation(Pe),Ge){Pe.beforeClearStyles([ye]).fromTo("transform",`translateX(${ht})`,Ze?"translateX(-100%)":"translateX(100%)");const ut=(0,ee.g)(N);ft.afterAddWrite(()=>{"normal"===ft.getDirection()&&ut.style.setProperty("display","none")})}else Pe.fromTo("transform",`translateX(${ht})`,`translateX(${Oe})`).fromTo(ye,1,.8);if(Se){const ut=ge(Se).querySelector(".transition-effect");if(ut){const ot=ut.querySelector(".transition-cover"),Kt=ut.querySelector(".transition-shadow"),Vt=(0,a.c)(),Pt=(0,a.c)(),Ot=(0,a.c)();Vt.addElement(ut).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pt.addElement(ot).beforeClearStyles([ye]).fromTo(ye,.1,0),Ot.addElement(Kt).beforeClearStyles([ye]).fromTo(ye,.7,.03),Vt.addAnimation([Pt,Ot]),Pe.addAnimation([Vt])}}lt.forEach(ut=>{const ot=(0,a.c)();ot.addElement(ut);const Kt=(0,a.c)();Kt.addElement(ut.querySelector("ion-title"));const Vt=(0,a.c)(),Pt=ut.querySelectorAll("ion-buttons,[menuToggle]"),Ot=ut.closest("ion-header"),$n=null==Ot?void 0:Ot.classList.contains("header-collapse-condense-inactive"),An=Array.from(Pt).filter(At=>{const mt=At.classList.contains("buttons-collapse");return mt&&!$n||!mt});Vt.addElement(An);const Mn=(0,a.c)(),Un=ut.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Un.length>0&&Mn.addElement(Un);const yn=(0,a.c)();yn.addElement(ge(ut).querySelector(".toolbar-background"));const er=(0,a.c)(),cr=ut.querySelector("ion-back-button");if(cr&&er.addElement(cr),ot.addAnimation([Kt,Vt,Mn,er,yn]),ft.addAnimation(ot),er.fromTo(ye,.99,0),Vt.fromTo(ye,.99,0),Mn.fromTo(ye,.99,0),Ge){if($n||Kt.fromTo("transform",`translateX(${ht})`,Ze?"translateX(-100%)":"translateX(100%)").fromTo(ye,.99,0),Mn.fromTo("transform",`translateX(${ht})`,Ze?"translateX(-100%)":"translateX(100%)"),yn.beforeClearStyles([ye,"transform"]),(null==Ot?void 0:Ot.translucent)?yn.fromTo("transform","translateX(0px)",Ze?"translateX(-100%)":"translateX(100%)"):yn.fromTo(ye,"var(--opacity)",0),cr&&!Me){const mt=(0,a.c)();mt.addElement(ge(cr).querySelector(".button-text")).fromTo("transform",`translateX(${ht})`,`translateX(${(Ze?-124:124)+"px"})`),ot.addAnimation(mt)}}else $n||Kt.fromTo("transform",`translateX(${ht})`,`translateX(${Oe})`).fromTo(ye,.99,0).afterClearStyles([de,ye]),Mn.fromTo("transform",`translateX(${ht})`,`translateX(${Oe})`).afterClearStyles([de,ye]),er.afterClearStyles([ye]),Kt.afterClearStyles([ye]),Vt.afterClearStyles([ye])})}return ft}catch(Re){throw Re}}},7838:(_n,yt,V)=>{"use strict";V.r(yt),V.d(yt,{mdTransitionAnimation:()=>Te});var a=V(181),ee=V(1843);V(3457),V(1308);const Te=(be,ge)=>{var De,ke,ve;const xe="back"===ge.direction,dt=ge.leavingEl,Mt=(0,ee.g)(ge.enteringEl),Re=Mt.querySelector("ion-toolbar"),ye=(0,a.c)();if(ye.addElement(Mt).fill("both").beforeRemoveClass("ion-page-invisible"),xe?ye.duration((null!==(De=ge.duration)&&void 0!==De?De:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ye.duration((null!==(ke=ge.duration)&&void 0!==ke?ke:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Re){const de=(0,a.c)();de.addElement(Re),ye.addAnimation(de)}if(dt&&xe){ye.duration((null!==(ve=ge.duration)&&void 0!==ve?ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const de=(0,a.c)();de.addElement((0,ee.g)(dt)).onFinish(ht=>{1===ht&&de.elements.length>0&&de.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ye.addAnimation(de)}return ye}},3539:(_n,yt,V)=>{"use strict";V.d(yt,{B:()=>Se,G:()=>lt,a:()=>De,b:()=>ke,c:()=>xe,d:()=>Ge,e:()=>dt,f:()=>Je,g:()=>st,h:()=>be,i:()=>gt,j:()=>ye,k:()=>Fe,m:()=>ie,s:()=>Pe});var a=V(5861),ee=V(5179),z=V(7593),Ce=V(5730);let Te=0;const be=new WeakMap,ge=Xe=>({create:ut=>Mt(Xe,ut),dismiss:(ut,ot,Kt)=>Ue(document,ut,ot,Xe,Kt),getTop:()=>(0,a.Z)(function*(){return Fe(document,Xe)})()}),De=ge("ion-alert"),ke=ge("ion-action-sheet"),ie=ge("ion-modal"),xe=ge("ion-popover"),dt=Xe=>{typeof document<"u"&&Ze(document);const ut=Te++;Xe.overlayIndex=ut,Xe.hasAttribute("id")||(Xe.id=`ion-overlay-${ut}`)},Mt=(Xe,ut)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Xe).then(()=>{const ot=document.createElement(Xe);return ot.classList.add("overlay-hidden"),Object.assign(ot,Object.assign(Object.assign({},ut),{hasController:!0})),tt(document).appendChild(ot),new Promise(Kt=>(0,Ce.c)(ot,Kt))}):Promise.resolve(),Re='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(Xe,ut)=>{let ot=Xe.querySelector(Re);const Kt=null==ot?void 0:ot.shadowRoot;Kt&&(ot=Kt.querySelector(Re)||ot),ot?(0,Ce.f)(ot):ut.focus()},ht=(Xe,ut)=>{const ot=Array.from(Xe.querySelectorAll(Re));let Kt=ot.length>0?ot[ot.length-1]:null;const Vt=null==Kt?void 0:Kt.shadowRoot;Vt&&(Kt=Vt.querySelector(Re)||Kt),Kt?Kt.focus():ut.focus()},Ze=Xe=>{0===Te&&(Te=1,Xe.addEventListener("focus",ut=>{((Xe,ut)=>{const ot=Fe(ut,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Kt=Xe.target;ot&&Kt&&!ot.classList.contains("ion-disable-focus-trap")&&(ot.shadowRoot?(()=>{if(ot.contains(Kt))ot.lastFocus=Kt;else{const Ot=ot.lastFocus;ye(ot,ot),Ot===ut.activeElement&&ht(ot,ot),ot.lastFocus=ut.activeElement}})():(()=>{if(ot===Kt)ot.lastFocus=void 0;else{const Ot=(0,Ce.g)(ot);if(!Ot.contains(Kt))return;const $n=Ot.querySelector(".ion-overlay-wrapper");if(!$n)return;if($n.contains(Kt))ot.lastFocus=Kt;else{const An=ot.lastFocus;ye($n,ot),An===ut.activeElement&&ht($n,ot),ot.lastFocus=ut.activeElement}}})())})(ut,Xe)},!0),Xe.addEventListener("ionBackButton",ut=>{const ot=Fe(Xe);null!=ot&&ot.backdropDismiss&&ut.detail.register(z.OVERLAY_BACK_BUTTON_PRIORITY,()=>ot.dismiss(void 0,Se))}),Xe.addEventListener("keyup",ut=>{if("Escape"===ut.key){const ot=Fe(Xe);null!=ot&&ot.backdropDismiss&&ot.dismiss(void 0,Se)}}))},Ue=(Xe,ut,ot,Kt,Vt)=>{const Pt=Fe(Xe,Kt,Vt);return Pt?Pt.dismiss(ut,ot):Promise.reject("overlay does not exist")},Fe=(Xe,ut,ot)=>{const Kt=((Xe,ut)=>(void 0===ut&&(ut="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Xe.querySelectorAll(ut)).filter(ot=>ot.overlayIndex>0)))(Xe,ut).filter(Vt=>!(Xe=>Xe.classList.contains("overlay-hidden"))(Vt));return void 0===ot?Kt[Kt.length-1]:Kt.find(Vt=>Vt.id===ot)},N=(Xe=!1)=>{const ot=tt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ot&&(Xe?ot.setAttribute("aria-hidden","true"):ot.removeAttribute("aria-hidden"))},Ge=function(){var Xe=(0,a.Z)(function*(ut,ot,Kt,Vt,Pt){var Ot,$n;if(ut.presented)return;N(!0),ut.presented=!0,ut.willPresent.emit(),null===(Ot=ut.willPresentShorthand)||void 0===Ot||Ot.emit();const An=(0,ee.b)(ut),Mn=ut.enterAnimation?ut.enterAnimation:ee.c.get(ot,"ios"===An?Kt:Vt);(yield ft(ut,Mn,ut.el,Pt))&&(ut.didPresent.emit(),null===($n=ut.didPresentShorthand)||void 0===$n||$n.emit()),"ION-TOAST"!==ut.el.tagName&&je(ut.el),ut.keyboardClose&&(null===document.activeElement||!ut.el.contains(document.activeElement))&&ut.el.focus()});return function(ot,Kt,Vt,Pt,Ot){return Xe.apply(this,arguments)}}(),je=function(){var Xe=(0,a.Z)(function*(ut){let ot=document.activeElement;if(!ot)return;const Kt=null==ot?void 0:ot.shadowRoot;Kt&&(ot=Kt.querySelector(Re)||ot),yield ut.onDidDismiss(),ot.focus()});return function(ot){return Xe.apply(this,arguments)}}(),Je=function(){var Xe=(0,a.Z)(function*(ut,ot,Kt,Vt,Pt,Ot,$n){var An,Mn;if(!ut.presented)return!1;N(!1),ut.presented=!1;try{ut.el.style.setProperty("pointer-events","none"),ut.willDismiss.emit({data:ot,role:Kt}),null===(An=ut.willDismissShorthand)||void 0===An||An.emit({data:ot,role:Kt});const Un=(0,ee.b)(ut),yn=ut.leaveAnimation?ut.leaveAnimation:ee.c.get(Vt,"ios"===Un?Pt:Ot);Kt!==lt&&(yield ft(ut,yn,ut.el,$n)),ut.didDismiss.emit({data:ot,role:Kt}),null===(Mn=ut.didDismissShorthand)||void 0===Mn||Mn.emit({data:ot,role:Kt}),be.delete(ut),ut.el.classList.add("overlay-hidden"),ut.el.style.removeProperty("pointer-events"),void 0!==ut.el.lastFocus&&(ut.el.lastFocus=void 0)}catch(Un){console.error(Un)}return ut.el.remove(),!0});return function(ot,Kt,Vt,Pt,Ot,$n,An){return Xe.apply(this,arguments)}}(),tt=Xe=>Xe.querySelector("ion-app")||Xe.body,ft=function(){var Xe=(0,a.Z)(function*(ut,ot,Kt,Vt){Kt.classList.remove("overlay-hidden");const Ot=ot(ut.el,Vt);(!ut.animated||!ee.c.getBoolean("animated",!0))&&Ot.duration(0),ut.keyboardClose&&Ot.beforeAddWrite(()=>{const An=Kt.ownerDocument.activeElement;null!=An&&An.matches("input,ion-input, ion-textarea")&&An.blur()});const $n=be.get(ut)||[];return be.set(ut,[...$n,Ot]),yield Ot.play(),!0});return function(ot,Kt,Vt,Pt){return Xe.apply(this,arguments)}}(),st=(Xe,ut)=>{let ot;const Kt=new Promise(Vt=>ot=Vt);return bt(Xe,ut,Vt=>{ot(Vt.detail)}),Kt},bt=(Xe,ut,ot)=>{const Kt=Vt=>{(0,Ce.b)(Xe,ut,Kt),ot(Vt)};(0,Ce.a)(Xe,ut,Kt)},gt=Xe=>"cancel"===Xe||Xe===Se,Me=Xe=>Xe(),Pe=(Xe,ut)=>{if("function"==typeof Xe)return ee.c.get("_zoneGate",Me)(()=>{try{return Xe(ut)}catch(Kt){throw Kt}})},Se="backdrop",lt="gesture"},9099:(_n,yt,V)=>{"use strict";V.d(yt,{P:()=>be});var a=V(5861),ee=V(2340),z=V(9808),Ce=V(4650),Te=V(529);let be=(()=>{class ge{constructor(ke){this.http=ke,this.baseUrl="http://localhost:33463/api/BabyData/",this.baseUrl2="https://bob-tours-app-6c3d9-default-rtdb.europe-west1.firebasedatabase.app/.json"}initialize(){}getPeople(){var ke=this;return(0,a.Z)(function*(){return yield ke.getRequest().then(ve=>ke.people=ve)})()}getPeopleLive(){return this.http.get(`${this.baseUrl2}api_key=${ee.N.firebase.apiKey}`)}getRequestLive(){var ke=this;return(0,a.Z)(function*(){return yield(0,z.n)(ke.http.get(ke.baseUrl2))})()}getRequest(){var ke=this;return(0,a.Z)(function*(){return yield(0,z.n)(ke.http.get(ke.baseUrl))})()}}return ge.\u0275fac=function(ke){return new(ke||ge)(Ce.LFG(Te.eN))},ge.\u0275prov=Ce.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},9446:(_n,yt,V)=>{"use strict";V.d(yt,{O:()=>z});var a=V(4650),ee=V(3101);let z=(()=>{class Ce{constructor(be){this.firestore=be,this.collectionName="Students"}initialize(){}create_student(be){return this.firestore.collection(this.collectionName).add(be)}read_students(){return this.firestore.collection(this.collectionName).snapshotChanges()}update_student(be,ge){this.firestore.doc(this.collectionName+"/"+be).update(ge)}delete_student(be){this.firestore.doc(this.collectionName+"/"+be).delete()}}return Ce.\u0275fac=function(be){return new(be||Ce)(a.LFG(ee.ST))},Ce.\u0275prov=a.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},9424:(_n,yt,V)=>{"use strict";V.d(yt,{J:()=>Te});var a=V(5861),ee=V(9808),z=V(4650),Ce=V(529);let Te=(()=>{class be{constructor(De){this.http=De,this.baseUrl="https://swapi.dev/api/"}initialize(){this.getPeople()}getPeople(){var De=this;return(0,a.Z)(function*(){return yield De.getRequest().then(ke=>De.people=ke)})()}getRequest(){var De=this;return(0,a.Z)(function*(){let ke=Math.max(1,Math.round(83*Math.random())),ve=`${De.baseUrl}/people/${ke}`;return yield(0,ee.n)(De.http.get(ve))})()}}return be.\u0275fac=function(De){return new(De||be)(z.LFG(Ce.eN))},be.\u0275prov=z.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},2340:(_n,yt,V)=>{"use strict";V.d(yt,{N:()=>a});const a={production:!0,firebase:{apiKey:"AIzaSyCK7_3pDu_xgH6lLXwc6cHFkfWafG8EnhU",authDomain:"testv1-7c7eb.firebaseapp.com",databaseURL:"https://testv1-7c7eb-default-rtdb.europe-west1.firebasedatabase.app",projectId:"testv1-7c7eb",storageBucket:"testv1-7c7eb.appspot.com",messagingSenderId:"636851139632",appId:"1:636851139632:web:27a2c0b879fd0e2da729f5"}}},5489:(_n,yt,V)=>{"use strict";var a=V(1481),ee=V(4650),z=V(1194),Ce=V(2078);const Te=[{path:"",loadChildren:()=>V.e(174).then(V.bind(V,5652)).then(At=>At.TabsPageModule)},{path:"tab11",loadChildren:()=>V.e(97).then(V.bind(V,97)).then(At=>At.Tab11PageModule)},{path:"tab12",loadChildren:()=>V.e(8541).then(V.bind(V,8541)).then(At=>At.Tab12PageModule)},{path:"tab13",loadChildren:()=>V.e(3726).then(V.bind(V,3726)).then(At=>At.Tab13PageModule)}];let be=(()=>{class At{}return At.\u0275fac=function(Nt){return new(Nt||At)},At.\u0275mod=ee.oAB({type:At}),At.\u0275inj=ee.cJS({imports:[z.Bz.forRoot(Te,{preloadingStrategy:z.wm}),z.Bz]}),At})();var ge=V(9424),De=V(9099),ke=V(9446);let ve=(()=>{class At{constructor(Nt,St,bn,on){this.platform=Nt,this.starWarsService=St,this.babyService=bn,this.fireService=on,this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{this.starWarsService.initialize(),this.babyService.initialize()})}}return At.\u0275fac=function(Nt){return new(Nt||At)(ee.Y36(Ce.t4),ee.Y36(ge.J),ee.Y36(De.P),ee.Y36(ke.O))},At.\u0275cmp=ee.Xpm({type:At,selectors:[["app-root"]],decls:2,vars:0,template:function(Nt,St){1&Nt&&(ee.TgZ(0,"ion-app"),ee._UZ(1,"ion-router-outlet"),ee.qZA())},dependencies:[Ce.dr,Ce.jP]}),At})();var ie=V(529);function de(At,mt,Nt,St){return new(Nt||(Nt=Promise))(function(on,In){function dr(Cn){try{un(St.next(Cn))}catch(hn){In(hn)}}function pr(Cn){try{un(St.throw(Cn))}catch(hn){In(hn)}}function un(Cn){Cn.done?on(Cn.value):function bn(on){return on instanceof Nt?on:new Nt(function(In){In(on)})}(Cn.value).then(dr,pr)}un((St=St.apply(At,mt||[])).next())})}var Pe=V(5861),Se=V(4424),lt=V.n(Se);const Xe={SecureStorage:"ionicSecureStorage",IndexedDB:lt().INDEXEDDB,LocalStorage:lt().LOCALSTORAGE},ut={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[Xe.SecureStorage,Xe.IndexedDB,Xe.LocalStorage]};class ot{constructor(mt=ut){this._db=null,this._secureStorageDriver=null;const Nt=Object.assign({},ut,mt||{});this._config=Nt}create(){var mt=this;return(0,Pe.Z)(function*(){const Nt=lt().createInstance(mt._config);return mt._db=Nt,yield Nt.setDriver(mt._config.driverOrder||[]),mt})()}defineDriver(mt){var Nt=this;return(0,Pe.Z)(function*(){return mt._driver===Xe.SecureStorage&&(Nt._secureStorageDriver=mt),lt().defineDriver(mt)})()}get driver(){var mt;return(null===(mt=this._db)||void 0===mt?void 0:mt.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(mt){return this.assertDb().getItem(mt)}set(mt,Nt){return this.assertDb().setItem(mt,Nt)}remove(mt){return this.assertDb().removeItem(mt)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(mt){return this.assertDb().iterate(mt)}setEncryptionKey(mt){var Nt;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(Nt=this._secureStorageDriver)||void 0===Nt||Nt.setEncryptionKey(mt)}}var Vt,Kt=V(6895);const Pt=new ee.OlP("STORAGE_CONFIG_TOKEN");class Ot extends ot{constructor(){super()}create(){return de(this,void 0,void 0,function*(){return this})}defineDriver(){return de(this,void 0,void 0,function*(){})}get driver(){return"noop"}get(mt){return de(this,void 0,void 0,function*(){return null})}set(mt,Nt){return de(this,void 0,void 0,function*(){})}remove(mt){return de(this,void 0,void 0,function*(){})}clear(){return de(this,void 0,void 0,function*(){})}length(){return de(this,void 0,void 0,function*(){return 0})}keys(){return de(this,void 0,void 0,function*(){return[]})}forEach(mt){return de(this,void 0,void 0,function*(){})}setEncryptionKey(mt){}}function $n(At){return(0,Kt.PM)(this.platformId)?new Ot:new ot(At)}let An=Vt=class{static forRoot(mt=null){return{ngModule:Vt,providers:[{provide:Pt,useValue:mt},{provide:ot,useFactory:$n,deps:[Pt]}]}}};An.\u0275fac=function(mt){return new(mt||An)},An.\u0275mod=ee.oAB({type:An}),An.\u0275inj=ee.cJS({});var Mn=V(2340),Un=V(2011),yn=V(3101),er=V(5197);let cr=(()=>{class At{}return At.\u0275fac=function(Nt){return new(Nt||At)},At.\u0275mod=ee.oAB({type:At,bootstrap:[ve]}),At.\u0275inj=ee.cJS({providers:[{provide:z.wN,useClass:Ce.r4}],imports:[a.b2,Ce.Pc.forRoot(),be,ie.JF,Un.hO.initializeApp(Mn.N.firebase),yn.yb,er.JS,An.forRoot()]}),At})();Mn.N.production&&(0,ee.G48)(),a.q6().bootstrapModule(cr).catch(At=>console.log(At))},4424:_n=>{_n.exports=function ee(z,Ce,Te){function be(ke,ve){if(!Ce[ke]){if(!z[ke]){if(ge)return ge(ke,!0);var ce=new Error("Cannot find module '"+ke+"'");throw ce.code="MODULE_NOT_FOUND",ce}var xe=Ce[ke]={exports:{}};z[ke][0].call(xe.exports,function(ze){return be(z[ke][1][ze]||ze)},xe,xe.exports,ee,z,Ce,Te)}return Ce[ke].exports}for(var ge=void 0,De=0;De<Te.length;De++)be(Te[De]);return be}({1:[function(ee,z,Ce){(function(Te){"use strict";var ge,be=Te.MutationObserver||Te.WebKitMutationObserver;if(be){var De=0,ke=new be(ze),ve=Te.document.createTextNode("");ke.observe(ve,{characterData:!0}),ge=function(){ve.data=De=++De%2}}else if(!Te.setImmediate&&typeof Te.MessageChannel<"u"){var ie=new Te.MessageChannel;ie.port1.onmessage=ze,ge=function(){ie.port2.postMessage(0)}}else ge="document"in Te&&"onreadystatechange"in Te.document.createElement("script")?function(){var Mt=Te.document.createElement("script");Mt.onreadystatechange=function(){ze(),Mt.onreadystatechange=null,Mt.parentNode.removeChild(Mt),Mt=null},Te.document.documentElement.appendChild(Mt)}:function(){setTimeout(ze,0)};var ce,xe=[];function ze(){ce=!0;for(var Mt,Re,ye=xe.length;ye;){for(Re=xe,xe=[],Mt=-1;++Mt<ye;)Re[Mt]();ye=xe.length}ce=!1}z.exports=function dt(Mt){1===xe.push(Mt)&&!ce&&ge()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(ee,z,Ce){"use strict";var Te=ee(1);function be(){}var ge={},De=["REJECTED"],ke=["FULFILLED"],ve=["PENDING"];function ie(Be){if("function"!=typeof Be)throw new TypeError("resolver must be a function");this.state=ve,this.queue=[],this.outcome=void 0,Be!==be&&dt(this,Be)}function ce(Be,Ze,Ue){this.promise=Be,"function"==typeof Ze&&(this.onFulfilled=Ze,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Ue&&(this.onRejected=Ue,this.callRejected=this.otherCallRejected)}function xe(Be,Ze,Ue){Te(function(){var Oe;try{Oe=Ze(Ue)}catch(Fe){return ge.reject(Be,Fe)}Oe===Be?ge.reject(Be,new TypeError("Cannot resolve promise with itself")):ge.resolve(Be,Oe)})}function ze(Be){var Ze=Be&&Be.then;if(Be&&("object"==typeof Be||"function"==typeof Be)&&"function"==typeof Ze)return function(){Ze.apply(Be,arguments)}}function dt(Be,Ze){var Ue=!1;function Oe(je){Ue||(Ue=!0,ge.reject(Be,je))}function Fe(je){Ue||(Ue=!0,ge.resolve(Be,je))}var Ge=Mt(function N(){Ze(Fe,Oe)});"error"===Ge.status&&Oe(Ge.value)}function Mt(Be,Ze){var Ue={};try{Ue.value=Be(Ze),Ue.status="success"}catch(Oe){Ue.status="error",Ue.value=Oe}return Ue}z.exports=ie,ie.prototype.catch=function(Be){return this.then(null,Be)},ie.prototype.then=function(Be,Ze){if("function"!=typeof Be&&this.state===ke||"function"!=typeof Ze&&this.state===De)return this;var Ue=new this.constructor(be);return this.state!==ve?xe(Ue,this.state===ke?Be:Ze,this.outcome):this.queue.push(new ce(Ue,Be,Ze)),Ue},ce.prototype.callFulfilled=function(Be){ge.resolve(this.promise,Be)},ce.prototype.otherCallFulfilled=function(Be){xe(this.promise,this.onFulfilled,Be)},ce.prototype.callRejected=function(Be){ge.reject(this.promise,Be)},ce.prototype.otherCallRejected=function(Be){xe(this.promise,this.onRejected,Be)},ge.resolve=function(Be,Ze){var Ue=Mt(ze,Ze);if("error"===Ue.status)return ge.reject(Be,Ue.value);var Oe=Ue.value;if(Oe)dt(Be,Oe);else{Be.state=ke,Be.outcome=Ze;for(var Fe=-1,N=Be.queue.length;++Fe<N;)Be.queue[Fe].callFulfilled(Ze)}return Be},ge.reject=function(Be,Ze){Be.state=De,Be.outcome=Ze;for(var Ue=-1,Oe=Be.queue.length;++Ue<Oe;)Be.queue[Ue].callRejected(Ze);return Be},ie.resolve=function Re(Be){return Be instanceof this?Be:ge.resolve(new this(be),Be)},ie.reject=function ye(Be){var Ze=new this(be);return ge.reject(Ze,Be)},ie.all=function de(Be){var Ze=this;if("[object Array]"!==Object.prototype.toString.call(Be))return this.reject(new TypeError("must be an array"));var Ue=Be.length,Oe=!1;if(!Ue)return this.resolve([]);for(var Fe=new Array(Ue),N=0,Ge=-1,je=new this(be);++Ge<Ue;)Je(Be[Ge],Ge);return je;function Je(tt,ft){Ze.resolve(tt).then(function st(bt){Fe[ft]=bt,++N===Ue&&!Oe&&(Oe=!0,ge.resolve(je,Fe))},function(bt){Oe||(Oe=!0,ge.reject(je,bt))})}},ie.race=function ht(Be){var Ze=this;if("[object Array]"!==Object.prototype.toString.call(Be))return this.reject(new TypeError("must be an array"));var Ue=Be.length,Oe=!1;if(!Ue)return this.resolve([]);for(var Fe=-1,N=new this(be);++Fe<Ue;)Ze.resolve(Be[Fe]).then(function(Je){Oe||(Oe=!0,ge.resolve(N,Je))},function(Je){Oe||(Oe=!0,ge.reject(N,Je))});return N}},{1:1}],3:[function(ee,z,Ce){(function(Te){"use strict";"function"!=typeof Te.Promise&&(Te.Promise=ee(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(ee,z,Ce){"use strict";var Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he};var De=function ge(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(he){return}}();function ve(he,nt){he=he||[],nt=nt||{};try{return new Blob(he,nt)}catch(oe){if("TypeError"!==oe.name)throw oe;for(var Y=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),re=0;re<he.length;re+=1)Y.append(he[re]);return Y.getBlob(nt.type)}}typeof Promise>"u"&&ee(3);var ie=Promise;function ce(he,nt){nt&&he.then(function(F){nt(null,F)},function(F){nt(F)})}function xe(he,nt,F){"function"==typeof nt&&he.then(nt),"function"==typeof F&&he.catch(F)}function ze(he){return"string"!=typeof he&&(console.warn(he+" used as a key, but it is not a string."),he=String(he)),he}function dt(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var Mt="local-forage-detect-blob-support",Re=void 0,ye={},de=Object.prototype.toString,ht="readonly",Be="readwrite";function Ze(he){for(var nt=he.length,F=new ArrayBuffer(nt),Y=new Uint8Array(F),re=0;re<nt;re++)Y[re]=he.charCodeAt(re);return F}function Oe(he){return"boolean"==typeof Re?ie.resolve(Re):function Ue(he){return new ie(function(nt){var F=he.transaction(Mt,Be),Y=ve([""]);F.objectStore(Mt).put(Y,"key"),F.onabort=function(re){re.preventDefault(),re.stopPropagation(),nt(!1)},F.oncomplete=function(){var re=navigator.userAgent.match(/Chrome\/(\d+)/),oe=navigator.userAgent.match(/Edge\//);nt(oe||!re||parseInt(re[1],10)>=43)}}).catch(function(){return!1})}(he).then(function(nt){return Re=nt})}function Fe(he){var nt=ye[he.name],F={};F.promise=new ie(function(Y,re){F.resolve=Y,F.reject=re}),nt.deferredOperations.push(F),nt.dbReady=nt.dbReady?nt.dbReady.then(function(){return F.promise}):F.promise}function N(he){var F=ye[he.name].deferredOperations.pop();if(F)return F.resolve(),F.promise}function Ge(he,nt){var Y=ye[he.name].deferredOperations.pop();if(Y)return Y.reject(nt),Y.promise}function je(he,nt){return new ie(function(F,Y){if(ye[he.name]=ye[he.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},he.db){if(!nt)return F(he.db);Fe(he),he.db.close()}var re=[he.name];nt&&re.push(he.version);var oe=De.open.apply(De,re);nt&&(oe.onupgradeneeded=function(He){var J=oe.result;try{J.createObjectStore(he.storeName),He.oldVersion<=1&&J.createObjectStore(Mt)}catch(_e){if("ConstraintError"!==_e.name)throw _e;console.warn('The database "'+he.name+'" has been upgraded from version '+He.oldVersion+" to version "+He.newVersion+', but the storage "'+he.storeName+'" already exists.')}}),oe.onerror=function(He){He.preventDefault(),Y(oe.error)},oe.onsuccess=function(){var He=oe.result;He.onversionchange=function(J){J.target.close()},F(He),N(he)}})}function Je(he){return je(he,!1)}function tt(he){return je(he,!0)}function ft(he,nt){if(!he.db)return!0;var F=!he.db.objectStoreNames.contains(he.storeName),re=he.version>he.db.version;if(he.version<he.db.version&&(he.version!==nt&&console.warn('The database "'+he.name+"\" can't be downgraded from version "+he.db.version+" to version "+he.version+"."),he.version=he.db.version),re||F){if(F){var oe=he.db.version+1;oe>he.version&&(he.version=oe)}return!0}return!1}function bt(he){return ve([Ze(atob(he.data))],{type:he.type})}function gt(he){return he&&he.__local_forage_encoded_blob}function Me(he){var nt=this,F=nt._initReady().then(function(){var Y=ye[nt._dbInfo.name];if(Y&&Y.dbReady)return Y.dbReady});return xe(F,he,he),F}function Se(he,nt,F,Y){void 0===Y&&(Y=1);try{var re=he.db.transaction(he.storeName,nt);F(null,re)}catch(oe){if(Y>0&&(!he.db||"InvalidStateError"===oe.name||"NotFoundError"===oe.name))return ie.resolve().then(function(){if(!he.db||"NotFoundError"===oe.name&&!he.db.objectStoreNames.contains(he.storeName)&&he.version<=he.db.version)return he.db&&(he.version=he.db.version+1),tt(he)}).then(function(){return function Pe(he){Fe(he);for(var nt=ye[he.name],F=nt.forages,Y=0;Y<F.length;Y++){var re=F[Y];re._dbInfo.db&&(re._dbInfo.db.close(),re._dbInfo.db=null)}return he.db=null,Je(he).then(function(oe){return he.db=oe,ft(he)?tt(he):oe}).then(function(oe){he.db=nt.db=oe;for(var He=0;He<F.length;He++)F[He]._dbInfo.db=oe}).catch(function(oe){throw Ge(he,oe),oe})}(he).then(function(){Se(he,nt,F,Y-1)})}).catch(F);F(oe)}}var Un={_driver:"asyncStorage",_initStorage:function Xe(he){var nt=this,F={db:null};if(he)for(var Y in he)F[Y]=he[Y];var re=ye[F.name];re||(ye[F.name]=re={forages:[],db:null,dbReady:null,deferredOperations:[]}),re.forages.push(nt),nt._initReady||(nt._initReady=nt.ready,nt.ready=Me);var oe=[];function He(){return ie.resolve()}for(var J=0;J<re.forages.length;J++){var _e=re.forages[J];_e!==nt&&oe.push(_e._initReady().catch(He))}var $e=re.forages.slice(0);return ie.all(oe).then(function(){return F.db=re.db,Je(F)}).then(function(rt){return F.db=rt,ft(F,nt._defaultConfig.version)?tt(F):rt}).then(function(rt){F.db=re.db=rt,nt._dbInfo=F;for(var It=0;It<$e.length;It++){var Gt=$e[It];Gt!==nt&&(Gt._dbInfo.db=F.db,Gt._dbInfo.version=F.version)}})},_support:function ke(){try{if(!De||!De.open)return!1;var he=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),nt="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!he||nt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(F){return!1}}(),iterate:function ot(he,nt){var F=this,Y=new ie(function(re,oe){F.ready().then(function(){Se(F._dbInfo,ht,function(He,J){if(He)return oe(He);try{var $e=J.objectStore(F._dbInfo.storeName).openCursor(),rt=1;$e.onsuccess=function(){var It=$e.result;if(It){var Gt=It.value;gt(Gt)&&(Gt=bt(Gt));var pn=he(Gt,It.key,rt++);void 0!==pn?re(pn):It.continue()}else re()},$e.onerror=function(){oe($e.error)}}catch(It){oe(It)}})}).catch(oe)});return ce(Y,nt),Y},getItem:function ut(he,nt){var F=this;he=ze(he);var Y=new ie(function(re,oe){F.ready().then(function(){Se(F._dbInfo,ht,function(He,J){if(He)return oe(He);try{var $e=J.objectStore(F._dbInfo.storeName).get(he);$e.onsuccess=function(){var rt=$e.result;void 0===rt&&(rt=null),gt(rt)&&(rt=bt(rt)),re(rt)},$e.onerror=function(){oe($e.error)}}catch(rt){oe(rt)}})}).catch(oe)});return ce(Y,nt),Y},setItem:function Kt(he,nt,F){var Y=this;he=ze(he);var re=new ie(function(oe,He){var J;Y.ready().then(function(){return J=Y._dbInfo,"[object Blob]"===de.call(nt)?Oe(J.db).then(function(_e){return _e?nt:function st(he){return new ie(function(nt,F){var Y=new FileReader;Y.onerror=F,Y.onloadend=function(re){var oe=btoa(re.target.result||"");nt({__local_forage_encoded_blob:!0,data:oe,type:he.type})},Y.readAsBinaryString(he)})}(nt)}):nt}).then(function(_e){Se(Y._dbInfo,Be,function($e,rt){if($e)return He($e);try{var It=rt.objectStore(Y._dbInfo.storeName);null===_e&&(_e=void 0);var Gt=It.put(_e,he);rt.oncomplete=function(){void 0===_e&&(_e=null),oe(_e)},rt.onabort=rt.onerror=function(){He(Gt.error?Gt.error:Gt.transaction.error)}}catch(pn){He(pn)}})}).catch(He)});return ce(re,F),re},removeItem:function Vt(he,nt){var F=this;he=ze(he);var Y=new ie(function(re,oe){F.ready().then(function(){Se(F._dbInfo,Be,function(He,J){if(He)return oe(He);try{var $e=J.objectStore(F._dbInfo.storeName).delete(he);J.oncomplete=function(){re()},J.onerror=function(){oe($e.error)},J.onabort=function(){oe($e.error?$e.error:$e.transaction.error)}}catch(rt){oe(rt)}})}).catch(oe)});return ce(Y,nt),Y},clear:function Pt(he){var nt=this,F=new ie(function(Y,re){nt.ready().then(function(){Se(nt._dbInfo,Be,function(oe,He){if(oe)return re(oe);try{var _e=He.objectStore(nt._dbInfo.storeName).clear();He.oncomplete=function(){Y()},He.onabort=He.onerror=function(){re(_e.error?_e.error:_e.transaction.error)}}catch($e){re($e)}})}).catch(re)});return ce(F,he),F},length:function Ot(he){var nt=this,F=new ie(function(Y,re){nt.ready().then(function(){Se(nt._dbInfo,ht,function(oe,He){if(oe)return re(oe);try{var _e=He.objectStore(nt._dbInfo.storeName).count();_e.onsuccess=function(){Y(_e.result)},_e.onerror=function(){re(_e.error)}}catch($e){re($e)}})}).catch(re)});return ce(F,he),F},key:function $n(he,nt){var F=this,Y=new ie(function(re,oe){he<0?re(null):F.ready().then(function(){Se(F._dbInfo,ht,function(He,J){if(He)return oe(He);try{var _e=J.objectStore(F._dbInfo.storeName),$e=!1,rt=_e.openKeyCursor();rt.onsuccess=function(){var It=rt.result;It?0===he||$e?re(It.key):($e=!0,It.advance(he)):re(null)},rt.onerror=function(){oe(rt.error)}}catch(It){oe(It)}})}).catch(oe)});return ce(Y,nt),Y},keys:function An(he){var nt=this,F=new ie(function(Y,re){nt.ready().then(function(){Se(nt._dbInfo,ht,function(oe,He){if(oe)return re(oe);try{var _e=He.objectStore(nt._dbInfo.storeName).openKeyCursor(),$e=[];_e.onsuccess=function(){var rt=_e.result;rt?($e.push(rt.key),rt.continue()):Y($e)},_e.onerror=function(){re(_e.error)}}catch(rt){re(rt)}})}).catch(re)});return ce(F,he),F},dropInstance:function Mn(he,nt){nt=dt.apply(this,arguments);var re,F=this.config();return(he="function"!=typeof he&&he||{}).name||(he.name=he.name||F.name,he.storeName=he.storeName||F.storeName),ce(re=he.name?(he.name===F.name&&this._dbInfo.db?ie.resolve(this._dbInfo.db):Je(he).then(function(J){var _e=ye[he.name],$e=_e.forages;_e.db=J;for(var rt=0;rt<$e.length;rt++)$e[rt]._dbInfo.db=J;return J})).then(he.storeName?function(J){if(J.objectStoreNames.contains(he.storeName)){var _e=J.version+1;Fe(he);var $e=ye[he.name],rt=$e.forages;J.close();for(var It=0;It<rt.length;It++){var Gt=rt[It];Gt._dbInfo.db=null,Gt._dbInfo.version=_e}return new ie(function(vn,Wn){var gr=De.open(he.name,_e);gr.onerror=function(ct){gr.result.close(),Wn(ct)},gr.onupgradeneeded=function(){gr.result.deleteObjectStore(he.storeName)},gr.onsuccess=function(){var ct=gr.result;ct.close(),vn(ct)}}).then(function(vn){$e.db=vn;for(var Wn=0;Wn<rt.length;Wn++){var gr=rt[Wn];gr._dbInfo.db=vn,N(gr._dbInfo)}}).catch(function(vn){throw(Ge(he,vn)||ie.resolve()).catch(function(){}),vn})}}:function(J){Fe(he);var _e=ye[he.name],$e=_e.forages;J.close();for(var rt=0;rt<$e.length;rt++)$e[rt]._dbInfo.db=null;return new ie(function(pn,vn){var Wn=De.deleteDatabase(he.name);Wn.onerror=function(){var gr=Wn.result;gr&&gr.close(),vn(Wn.error)},Wn.onblocked=function(){console.warn('dropInstance blocked for database "'+he.name+'" until all open connections are closed')},Wn.onsuccess=function(){var gr=Wn.result;gr&&gr.close(),pn(gr)}}).then(function(pn){_e.db=pn;for(var vn=0;vn<$e.length;vn++)N($e[vn]._dbInfo)}).catch(function(pn){throw(Ge(he,pn)||ie.resolve()).catch(function(){}),pn})}):ie.reject("Invalid arguments"),nt),re}};var er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cr="~~local_forage_type~",At=/^~~local_forage_type~([^~]+)~/,mt="__lfsc__:",Nt=mt.length,St="arbf",bn="blob",on="si08",In="ui08",dr="uic8",pr="si16",un="si32",Cn="ur16",hn="ui32",Fn="fl32",lr="fl64",nn=Nt+St.length,yr=Object.prototype.toString;function ni(he){var Y,oe,He,J,_e,nt=.75*he.length,F=he.length,re=0;"="===he[he.length-1]&&(nt--,"="===he[he.length-2]&&nt--);var $e=new ArrayBuffer(nt),rt=new Uint8Array($e);for(Y=0;Y<F;Y+=4)oe=er.indexOf(he[Y]),He=er.indexOf(he[Y+1]),J=er.indexOf(he[Y+2]),_e=er.indexOf(he[Y+3]),rt[re++]=oe<<2|He>>4,rt[re++]=(15&He)<<4|J>>2,rt[re++]=(3&J)<<6|63&_e;return $e}function ri(he){var Y,nt=new Uint8Array(he),F="";for(Y=0;Y<nt.length;Y+=3)F+=er[nt[Y]>>2],F+=er[(3&nt[Y])<<4|nt[Y+1]>>4],F+=er[(15&nt[Y+1])<<2|nt[Y+2]>>6],F+=er[63&nt[Y+2]];return nt.length%3==2?F=F.substring(0,F.length-1)+"=":nt.length%3==1&&(F=F.substring(0,F.length-2)+"=="),F}var rr={serialize:function xr(he,nt){var F="";if(he&&(F=yr.call(he)),he&&("[object ArrayBuffer]"===F||he.buffer&&"[object ArrayBuffer]"===yr.call(he.buffer))){var Y,re=mt;he instanceof ArrayBuffer?(Y=he,re+=St):(Y=he.buffer,"[object Int8Array]"===F?re+=on:"[object Uint8Array]"===F?re+=In:"[object Uint8ClampedArray]"===F?re+=dr:"[object Int16Array]"===F?re+=pr:"[object Uint16Array]"===F?re+=Cn:"[object Int32Array]"===F?re+=un:"[object Uint32Array]"===F?re+=hn:"[object Float32Array]"===F?re+=Fn:"[object Float64Array]"===F?re+=lr:nt(new Error("Failed to get type for BinaryArray"))),nt(re+ri(Y))}else if("[object Blob]"===F){var oe=new FileReader;oe.onload=function(){var He=cr+he.type+"~"+ri(this.result);nt(mt+bn+He)},oe.readAsArrayBuffer(he)}else try{nt(JSON.stringify(he))}catch(He){console.error("Couldn't convert value into a JSON string: ",he),nt(null,He)}},deserialize:function ii(he){if(he.substring(0,Nt)!==mt)return JSON.parse(he);var Y,nt=he.substring(nn),F=he.substring(Nt,nn);if(F===bn&&At.test(nt)){var re=nt.match(At);Y=re[1],nt=nt.substring(re[0].length)}var oe=ni(nt);switch(F){case St:return oe;case bn:return ve([oe],{type:Y});case on:return new Int8Array(oe);case In:return new Uint8Array(oe);case dr:return new Uint8ClampedArray(oe);case pr:return new Int16Array(oe);case Cn:return new Uint16Array(oe);case un:return new Int32Array(oe);case hn:return new Uint32Array(oe);case Fn:return new Float32Array(oe);case lr:return new Float64Array(oe);default:throw new Error("Unkown type: "+F)}},stringToBuffer:ni,bufferToString:ri};function Hn(he,nt,F,Y){he.executeSql("CREATE TABLE IF NOT EXISTS "+nt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],F,Y)}function cn(he,nt,F,Y,re,oe){he.executeSql(F,Y,re,function(He,J){J.code===J.SYNTAX_ERR?He.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[nt.storeName],function(_e,$e){$e.rows.length?oe(_e,J):Hn(_e,nt,function(){_e.executeSql(F,Y,re,oe)},oe)},oe):oe(He,J)},oe)}function Ae(he,nt,F,Y){var re=this;he=ze(he);var oe=new ie(function(He,J){re.ready().then(function(){void 0===nt&&(nt=null);var _e=nt,$e=re._dbInfo;$e.serializer.serialize(nt,function(rt,It){It?J(It):$e.db.transaction(function(Gt){cn(Gt,$e,"INSERT OR REPLACE INTO "+$e.storeName+" (key, value) VALUES (?, ?)",[he,rt],function(){He(_e)},function(pn,vn){J(vn)})},function(Gt){if(Gt.code===Gt.QUOTA_ERR){if(Y>0)return void He(Ae.apply(re,[he,_e,F,Y-1]));J(Gt)}})})}).catch(J)});return ce(oe,F),oe}var wn={_driver:"webSQLStorage",_initStorage:function Qr(he){var nt=this,F={db:null};if(he)for(var Y in he)F[Y]="string"!=typeof he[Y]?he[Y].toString():he[Y];var re=new ie(function(oe,He){try{F.db=openDatabase(F.name,String(F.version),F.description,F.size)}catch(J){return He(J)}F.db.transaction(function(J){Hn(J,F,function(){nt._dbInfo=F,oe()},function(_e,$e){He($e)})},He)});return F.serializer=rr,re},_support:function yn(){return"function"==typeof openDatabase}(),iterate:function Et(he,nt){var F=this,Y=new ie(function(re,oe){F.ready().then(function(){var He=F._dbInfo;He.db.transaction(function(J){cn(J,He,"SELECT * FROM "+He.storeName,[],function(_e,$e){for(var rt=$e.rows,It=rt.length,Gt=0;Gt<It;Gt++){var pn=rt.item(Gt),vn=pn.value;if(vn&&(vn=He.serializer.deserialize(vn)),void 0!==(vn=he(vn,pn.key,Gt+1)))return void re(vn)}re()},function(_e,$e){oe($e)})})}).catch(oe)});return ce(Y,nt),Y},getItem:function qt(he,nt){var F=this;he=ze(he);var Y=new ie(function(re,oe){F.ready().then(function(){var He=F._dbInfo;He.db.transaction(function(J){cn(J,He,"SELECT * FROM "+He.storeName+" WHERE key = ? LIMIT 1",[he],function(_e,$e){var rt=$e.rows.length?$e.rows.item(0).value:null;rt&&(rt=He.serializer.deserialize(rt)),re(rt)},function(_e,$e){oe($e)})})}).catch(oe)});return ce(Y,nt),Y},setItem:function We(he,nt,F){return Ae.apply(this,[he,nt,F,1])},removeItem:function kt(he,nt){var F=this;he=ze(he);var Y=new ie(function(re,oe){F.ready().then(function(){var He=F._dbInfo;He.db.transaction(function(J){cn(J,He,"DELETE FROM "+He.storeName+" WHERE key = ?",[he],function(){re()},function(_e,$e){oe($e)})})}).catch(oe)});return ce(Y,nt),Y},clear:function Wt(he){var nt=this,F=new ie(function(Y,re){nt.ready().then(function(){var oe=nt._dbInfo;oe.db.transaction(function(He){cn(He,oe,"DELETE FROM "+oe.storeName,[],function(){Y()},function(J,_e){re(_e)})})}).catch(re)});return ce(F,he),F},length:function Ie(he){var nt=this,F=new ie(function(Y,re){nt.ready().then(function(){var oe=nt._dbInfo;oe.db.transaction(function(He){cn(He,oe,"SELECT COUNT(key) as c FROM "+oe.storeName,[],function(J,_e){var $e=_e.rows.item(0).c;Y($e)},function(J,_e){re(_e)})})}).catch(re)});return ce(F,he),F},key:function Ee(he,nt){var F=this,Y=new ie(function(re,oe){F.ready().then(function(){var He=F._dbInfo;He.db.transaction(function(J){cn(J,He,"SELECT key FROM "+He.storeName+" WHERE id = ? LIMIT 1",[he+1],function(_e,$e){var rt=$e.rows.length?$e.rows.item(0).key:null;re(rt)},function(_e,$e){oe($e)})})}).catch(oe)});return ce(Y,nt),Y},keys:function Ye(he){var nt=this,F=new ie(function(Y,re){nt.ready().then(function(){var oe=nt._dbInfo;oe.db.transaction(function(He){cn(He,oe,"SELECT key FROM "+oe.storeName,[],function(J,_e){for(var $e=[],rt=0;rt<_e.rows.length;rt++)$e.push(_e.rows.item(rt).key);Y($e)},function(J,_e){re(_e)})})}).catch(re)});return ce(F,he),F},dropInstance:function Ct(he,nt){nt=dt.apply(this,arguments);var F=this.config();(he="function"!=typeof he&&he||{}).name||(he.name=he.name||F.name,he.storeName=he.storeName||F.storeName);var re,Y=this;return ce(re=he.name?new ie(function(oe){var He;He=he.name===F.name?Y._dbInfo.db:openDatabase(he.name,"","",0),oe(he.storeName?{db:He,storeNames:[he.storeName]}:function Rt(he){return new ie(function(nt,F){he.transaction(function(Y){Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(re,oe){for(var He=[],J=0;J<oe.rows.length;J++)He.push(oe.rows.item(J).name);nt({db:he,storeNames:He})},function(re,oe){F(oe)})},function(Y){F(Y)})})}(He))}).then(function(oe){return new ie(function(He,J){oe.db.transaction(function(_e){function $e(pn){return new ie(function(vn,Wn){_e.executeSql("DROP TABLE IF EXISTS "+pn,[],function(){vn()},function(gr,ct){Wn(ct)})})}for(var rt=[],It=0,Gt=oe.storeNames.length;It<Gt;It++)rt.push($e(oe.storeNames[It]));ie.all(rt).then(function(){He()}).catch(function(pn){J(pn)})},function(_e){J(_e)})})}):ie.reject("Invalid arguments"),nt),re}};function qe(he,nt){var F=he.name+"/";return he.storeName!==nt.storeName&&(F+=he.storeName+"/"),F}function _t(){return!function me(){var he="_localforage_support_test";try{return localStorage.setItem(he,!0),localStorage.removeItem(he),!1}catch(nt){return!0}}()||localStorage.length>0}var Fr={_driver:"localStorageWrapper",_initStorage:function zt(he){var F={};if(he)for(var Y in he)F[Y]=he[Y];return F.keyPrefix=qe(he,this._defaultConfig),_t()?(this._dbInfo=F,F.serializer=rr,ie.resolve()):ie.reject()},_support:function Qe(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(he){return!1}}(),iterate:function Kn(he,nt){var F=this,Y=F.ready().then(function(){for(var re=F._dbInfo,oe=re.keyPrefix,He=oe.length,J=localStorage.length,_e=1,$e=0;$e<J;$e++){var rt=localStorage.key($e);if(0===rt.indexOf(oe)){var It=localStorage.getItem(rt);if(It&&(It=re.serializer.deserialize(It)),void 0!==(It=he(It,rt.substring(He),_e++)))return It}}});return ce(Y,nt),Y},getItem:function On(he,nt){var F=this;he=ze(he);var Y=F.ready().then(function(){var re=F._dbInfo,oe=localStorage.getItem(re.keyPrefix+he);return oe&&(oe=re.serializer.deserialize(oe)),oe});return ce(Y,nt),Y},setItem:function oi(he,nt,F){var Y=this;he=ze(he);var re=Y.ready().then(function(){void 0===nt&&(nt=null);var oe=nt;return new ie(function(He,J){var _e=Y._dbInfo;_e.serializer.serialize(nt,function($e,rt){if(rt)J(rt);else try{localStorage.setItem(_e.keyPrefix+he,$e),He(oe)}catch(It){("QuotaExceededError"===It.name||"NS_ERROR_DOM_QUOTA_REACHED"===It.name)&&J(It),J(It)}})})});return ce(re,F),re},removeItem:function ji(he,nt){var F=this;he=ze(he);var Y=F.ready().then(function(){localStorage.removeItem(F._dbInfo.keyPrefix+he)});return ce(Y,nt),Y},clear:function en(he){var nt=this,F=nt.ready().then(function(){for(var Y=nt._dbInfo.keyPrefix,re=localStorage.length-1;re>=0;re--){var oe=localStorage.key(re);0===oe.indexOf(Y)&&localStorage.removeItem(oe)}});return ce(F,he),F},length:function bi(he){var F=this.keys().then(function(Y){return Y.length});return ce(F,he),F},key:function Cr(he,nt){var F=this,Y=F.ready().then(function(){var oe,re=F._dbInfo;try{oe=localStorage.key(he)}catch(He){oe=null}return oe&&(oe=oe.substring(re.keyPrefix.length)),oe});return ce(Y,nt),Y},keys:function vi(he){var nt=this,F=nt.ready().then(function(){for(var Y=nt._dbInfo,re=localStorage.length,oe=[],He=0;He<re;He++){var J=localStorage.key(He);0===J.indexOf(Y.keyPrefix)&&oe.push(J.substring(Y.keyPrefix.length))}return oe});return ce(F,he),F},dropInstance:function Ci(he,nt){if(nt=dt.apply(this,arguments),!(he="function"!=typeof he&&he||{}).name){var F=this.config();he.name=he.name||F.name,he.storeName=he.storeName||F.storeName}var re,Y=this;return ce(re=he.name?new ie(function(oe){oe(he.storeName?qe(he,Y._defaultConfig):he.name+"/")}).then(function(oe){for(var He=localStorage.length-1;He>=0;He--){var J=localStorage.key(He);0===J.indexOf(oe)&&localStorage.removeItem(J)}}):ie.reject("Invalid arguments"),nt),re}},es=function(nt,F){return nt===F||"number"==typeof nt&&"number"==typeof F&&isNaN(nt)&&isNaN(F)},Ni=function(nt,F){for(var Y=nt.length,re=0;re<Y;){if(es(nt[re],F))return!0;re++}return!1},ir=Array.isArray||function(he){return"[object Array]"===Object.prototype.toString.call(he)},$r={},Lr={},Jr={INDEXEDDB:Un,WEBSQL:wn,LOCALSTORAGE:Fr},ei=[Jr.INDEXEDDB._driver,Jr.WEBSQL._driver,Jr.LOCALSTORAGE._driver],Mr=["dropInstance"],Ii=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Mr),Wi={description:"",driver:ei.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function wi(he,nt){he[nt]=function(){var F=arguments;return he.ready().then(function(){return he[nt].apply(he,F)})}}function En(){for(var he=1;he<arguments.length;he++){var nt=arguments[he];if(nt)for(var F in nt)nt.hasOwnProperty(F)&&(arguments[0][F]=ir(nt[F])?nt[F].slice():nt[F])}return arguments[0]}var Yn=function(){function he(nt){for(var F in function be(he,nt){if(!(he instanceof nt))throw new TypeError("Cannot call a class as a function")}(this,he),Jr)if(Jr.hasOwnProperty(F)){var Y=Jr[F],re=Y._driver;this[F]=re,$r[re]||this.defineDriver(Y)}this._defaultConfig=En({},Wi),this._config=En({},this._defaultConfig,nt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return he.prototype.config=function(F){if("object"===(typeof F>"u"?"undefined":Te(F))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Y in F){if("storeName"===Y&&(F[Y]=F[Y].replace(/\W/g,"_")),"version"===Y&&"number"!=typeof F[Y])return new Error("Database version must be a number.");this._config[Y]=F[Y]}return!("driver"in F)||!F.driver||this.setDriver(this._config.driver)}return"string"==typeof F?this._config[F]:this._config},he.prototype.defineDriver=function(F,Y,re){var oe=new ie(function(He,J){try{var _e=F._driver,$e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!F._driver)return void J($e);for(var rt=Ii.concat("_initStorage"),It=0,Gt=rt.length;It<Gt;It++){var pn=rt[It];if((!Ni(Mr,pn)||F[pn])&&"function"!=typeof F[pn])return void J($e)}!function(){for(var Ke=function(Zn){return function(){var or=new Error("Method "+Zn+" is not implemented by the current driver"),hr=ie.reject(or);return ce(hr,arguments[arguments.length-1]),hr}},xt=0,Lt=Mr.length;xt<Lt;xt++){var Xt=Mr[xt];F[Xt]||(F[Xt]=Ke(Xt))}}();var gr=function(Ke){$r[_e]&&console.info("Redefining LocalForage driver: "+_e),$r[_e]=F,Lr[_e]=Ke,He()};"_support"in F?F._support&&"function"==typeof F._support?F._support().then(gr,J):gr(!!F._support):gr(!0)}catch(ct){J(ct)}});return xe(oe,Y,re),oe},he.prototype.driver=function(){return this._driver||null},he.prototype.getDriver=function(F,Y,re){var oe=$r[F]?ie.resolve($r[F]):ie.reject(new Error("Driver not found."));return xe(oe,Y,re),oe},he.prototype.getSerializer=function(F){var Y=ie.resolve(rr);return xe(Y,F),Y},he.prototype.ready=function(F){var Y=this,re=Y._driverSet.then(function(){return null===Y._ready&&(Y._ready=Y._initDriver()),Y._ready});return xe(re,F,F),re},he.prototype.setDriver=function(F,Y,re){var oe=this;ir(F)||(F=[F]);var He=this._getSupportedDrivers(F);function J(){oe._config.driver=oe.driver()}function _e(It){return oe._extend(It),J(),oe._ready=oe._initStorage(oe._config),oe._ready}var rt=null!==this._driverSet?this._driverSet.catch(function(){return ie.resolve()}):ie.resolve();return this._driverSet=rt.then(function(){var It=He[0];return oe._dbInfo=null,oe._ready=null,oe.getDriver(It).then(function(Gt){oe._driver=Gt._driver,J(),oe._wrapLibraryMethodsWithReady(),oe._initDriver=function $e(It){return function(){var Gt=0;return function pn(){for(;Gt<It.length;){var vn=It[Gt];return Gt++,oe._dbInfo=null,oe._ready=null,oe.getDriver(vn).then(_e).catch(pn)}J();var Wn=new Error("No available storage method found.");return oe._driverSet=ie.reject(Wn),oe._driverSet}()}}(He)})}).catch(function(){J();var It=new Error("No available storage method found.");return oe._driverSet=ie.reject(It),oe._driverSet}),xe(this._driverSet,Y,re),this._driverSet},he.prototype.supports=function(F){return!!Lr[F]},he.prototype._extend=function(F){En(this,F)},he.prototype._getSupportedDrivers=function(F){for(var Y=[],re=0,oe=F.length;re<oe;re++){var He=F[re];this.supports(He)&&Y.push(He)}return Y},he.prototype._wrapLibraryMethodsWithReady=function(){for(var F=0,Y=Ii.length;F<Y;F++)wi(this,Ii[F])},he.prototype.createInstance=function(F){return new he(F)},he}(),Hr=new Yn;z.exports=Hr},{3:3}]},{},[4])(4)},1135:(_n,yt,V)=>{"use strict";V.d(yt,{X:()=>ee});var a=V(7579);class ee extends a.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const Te=super._subscribe(Ce);return!Te.closed&&Ce.next(this._value),Te}getValue(){const{hasError:Ce,thrownError:Te,_value:be}=this;if(Ce)throw Te;return this._throwIfClosed(),be}next(Ce){super.next(this._value=Ce)}}},9751:(_n,yt,V)=>{"use strict";V.d(yt,{y:()=>De});var a=V(930),ee=V(727),z=V(8822),Ce=V(9635),Te=V(2416),be=V(576),ge=V(2806);let De=(()=>{class ce{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const dt=new ce;return dt.source=this,dt.operator=ze,dt}subscribe(ze,dt,Mt){const Re=function ie(ce){return ce&&ce instanceof a.Lv||function ve(ce){return ce&&(0,be.m)(ce.next)&&(0,be.m)(ce.error)&&(0,be.m)(ce.complete)}(ce)&&(0,ee.Nn)(ce)}(ze)?ze:new a.Hp(ze,dt,Mt);return(0,ge.x)(()=>{const{operator:ye,source:de}=this;Re.add(ye?ye.call(Re,de):de?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(ze){try{return this._subscribe(ze)}catch(dt){ze.error(dt)}}forEach(ze,dt){return new(dt=ke(dt))((Mt,Re)=>{const ye=new a.Hp({next:de=>{try{ze(de)}catch(ht){Re(ht),ye.unsubscribe()}},error:Re,complete:Mt});this.subscribe(ye)})}_subscribe(ze){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(ze)}[z.L](){return this}pipe(...ze){return(0,Ce.U)(ze)(this)}toPromise(ze){return new(ze=ke(ze))((dt,Mt)=>{let Re;this.subscribe(ye=>Re=ye,ye=>Mt(ye),()=>dt(Re))})}}return ce.create=xe=>new ce(xe),ce})();function ke(ce){var xe;return null!==(xe=null!=ce?ce:Te.v.Promise)&&void 0!==xe?xe:Promise}},7579:(_n,yt,V)=>{"use strict";V.d(yt,{x:()=>ge});var a=V(9751),ee=V(727);const Ce=(0,V(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=V(8737),be=V(2806);let ge=(()=>{class ke extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ce=new De(this,this);return ce.operator=ie,ce}_throwIfClosed(){if(this.closed)throw new Ce}next(ie){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(ie)}})}error(ie){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ce}=this;for(;ce.length;)ce.shift().error(ie)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ce,isStopped:xe,observers:ze}=this;return ce||xe?ee.Lc:(this.currentObservers=null,ze.push(ie),new ee.w0(()=>{this.currentObservers=null,(0,Te.P)(ze,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ce,thrownError:xe,isStopped:ze}=this;ce?ie.error(xe):ze&&ie.complete()}asObservable(){const ie=new a.y;return ie.source=this,ie}}return ke.create=(ve,ie)=>new De(ve,ie),ke})();class De extends ge{constructor(ve,ie){super(),this.destination=ve,this.source=ie}next(ve){var ie,ce;null===(ce=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ce||ce.call(ie,ve)}error(ve){var ie,ce;null===(ce=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ce||ce.call(ie,ve)}complete(){var ve,ie;null===(ie=null===(ve=this.destination)||void 0===ve?void 0:ve.complete)||void 0===ie||ie.call(ve)}_subscribe(ve){var ie,ce;return null!==(ce=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(ve))&&void 0!==ce?ce:ee.Lc}}},930:(_n,yt,V)=>{"use strict";V.d(yt,{Hp:()=>Mt,Lv:()=>ce});var a=V(576),ee=V(727),z=V(2416),Ce=V(7849),Te=V(5032);const be=ke("C",void 0,void 0);function ke(Be,Ze,Ue){return{kind:Be,value:Ze,error:Ue}}var ve=V(3410),ie=V(2806);class ce extends ee.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,ee.Nn)(Ze)&&Ze.add(this)):this.destination=ht}static create(Ze,Ue,Oe){return new Mt(Ze,Ue,Oe)}next(Ze){this.isStopped?de(function De(Be){return ke("N",Be,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?de(function ge(Be){return ke("E",void 0,Be)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?de(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function ze(Be,Ze){return xe.call(Be,Ze)}class dt{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(Ze)}catch(Oe){Re(Oe)}}error(Ze){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(Ze)}catch(Oe){Re(Oe)}else Re(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Ue){Re(Ue)}}}class Mt extends ce{constructor(Ze,Ue,Oe){let Fe;if(super(),(0,a.m)(Ze)||!Ze)Fe={next:null!=Ze?Ze:void 0,error:null!=Ue?Ue:void 0,complete:null!=Oe?Oe:void 0};else{let N;this&&z.v.useDeprecatedNextContext?(N=Object.create(Ze),N.unsubscribe=()=>this.unsubscribe(),Fe={next:Ze.next&&ze(Ze.next,N),error:Ze.error&&ze(Ze.error,N),complete:Ze.complete&&ze(Ze.complete,N)}):Fe=Ze}this.destination=new dt(Fe)}}function Re(Be){z.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Be):(0,Ce.h)(Be)}function de(Be,Ze){const{onStoppedNotification:Ue}=z.v;Ue&&ve.z.setTimeout(()=>Ue(Be,Ze))}const ht={closed:!0,next:Te.Z,error:function ye(Be){throw Be},complete:Te.Z}},727:(_n,yt,V)=>{"use strict";V.d(yt,{Lc:()=>be,w0:()=>Te,Nn:()=>ge});var a=V(576);const z=(0,V(3888).d)(ke=>function(ie){ke(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ce,xe)=>`${xe+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var Ce=V(8737);class Te{constructor(ve){this.initialTeardown=ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ve;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const ze of ie)ze.remove(this);else ie.remove(this);const{initialTeardown:ce}=this;if((0,a.m)(ce))try{ce()}catch(ze){ve=ze instanceof z?ze.errors:[ze]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const ze of xe)try{De(ze)}catch(dt){ve=null!=ve?ve:[],dt instanceof z?ve=[...ve,...dt.errors]:ve.push(dt)}}if(ve)throw new z(ve)}}add(ve){var ie;if(ve&&ve!==this)if(this.closed)De(ve);else{if(ve instanceof Te){if(ve.closed||ve._hasParent(this))return;ve._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(ve)}}_hasParent(ve){const{_parentage:ie}=this;return ie===ve||Array.isArray(ie)&&ie.includes(ve)}_addParent(ve){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(ve),ie):ie?[ie,ve]:ve}_removeParent(ve){const{_parentage:ie}=this;ie===ve?this._parentage=null:Array.isArray(ie)&&(0,Ce.P)(ie,ve)}remove(ve){const{_finalizers:ie}=this;ie&&(0,Ce.P)(ie,ve),ve instanceof Te&&ve._removeParent(this)}}Te.EMPTY=(()=>{const ke=new Te;return ke.closed=!0,ke})();const be=Te.EMPTY;function ge(ke){return ke instanceof Te||ke&&"closed"in ke&&(0,a.m)(ke.remove)&&(0,a.m)(ke.add)&&(0,a.m)(ke.unsubscribe)}function De(ke){(0,a.m)(ke)?ke():ke.unsubscribe()}},2416:(_n,yt,V)=>{"use strict";V.d(yt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9808:(_n,yt,V)=>{"use strict";V.d(yt,{n:()=>ee});var a=V(6805);function ee(z,Ce){const Te="object"==typeof Ce;return new Promise((be,ge)=>{let ke,De=!1;z.subscribe({next:ve=>{ke=ve,De=!0},error:ge,complete:()=>{De?be(ke):Te?be(Ce.defaultValue):ge(new a.K)}})})}},7272:(_n,yt,V)=>{"use strict";V.d(yt,{z:()=>Te});var a=V(8189),z=V(7669),Ce=V(8996);function Te(...be){return function ee(){return(0,a.J)(1)}()((0,Ce.D)(be,(0,z.yG)(be)))}},515:(_n,yt,V)=>{"use strict";V.d(yt,{E:()=>ee});const ee=new(V(9751).y)(Te=>Te.complete())},8996:(_n,yt,V)=>{"use strict";V.d(yt,{D:()=>Ze});var a=V(8421),ee=V(5363),z=V(9468),be=V(9751),De=V(2202),ke=V(576),ve=V(9672);function ce(Ue,Oe){if(!Ue)throw new Error("Iterable cannot be null");return new be.y(Fe=>{(0,ve.f)(Fe,Oe,()=>{const N=Ue[Symbol.asyncIterator]();(0,ve.f)(Fe,Oe,()=>{N.next().then(Ge=>{Ge.done?Fe.complete():Fe.next(Ge.value)})},0,!0)})})}var xe=V(3670),ze=V(8239),dt=V(1144),Mt=V(6495),Re=V(2206),ye=V(4532),de=V(3260);function Ze(Ue,Oe){return Oe?function Be(Ue,Oe){if(null!=Ue){if((0,xe.c)(Ue))return function Ce(Ue,Oe){return(0,a.Xf)(Ue).pipe((0,z.R)(Oe),(0,ee.Q)(Oe))}(Ue,Oe);if((0,dt.z)(Ue))return function ge(Ue,Oe){return new be.y(Fe=>{let N=0;return Oe.schedule(function(){N===Ue.length?Fe.complete():(Fe.next(Ue[N++]),Fe.closed||this.schedule())})})}(Ue,Oe);if((0,ze.t)(Ue))return function Te(Ue,Oe){return(0,a.Xf)(Ue).pipe((0,z.R)(Oe),(0,ee.Q)(Oe))}(Ue,Oe);if((0,Re.D)(Ue))return ce(Ue,Oe);if((0,Mt.T)(Ue))return function ie(Ue,Oe){return new be.y(Fe=>{let N;return(0,ve.f)(Fe,Oe,()=>{N=Ue[De.h](),(0,ve.f)(Fe,Oe,()=>{let Ge,je;try{({value:Ge,done:je}=N.next())}catch(Je){return void Fe.error(Je)}je?Fe.complete():Fe.next(Ge)},0,!0)}),()=>(0,ke.m)(null==N?void 0:N.return)&&N.return()})}(Ue,Oe);if((0,de.L)(Ue))return function ht(Ue,Oe){return ce((0,de.Q)(Ue),Oe)}(Ue,Oe)}throw(0,ye.z)(Ue)}(Ue,Oe):(0,a.Xf)(Ue)}},8421:(_n,yt,V)=>{"use strict";V.d(yt,{Xf:()=>xe});var a=V(655),ee=V(1144),z=V(8239),Ce=V(9751),Te=V(3670),be=V(2206),ge=V(4532),De=V(6495),ke=V(3260),ve=V(576),ie=V(7849),ce=V(8822);function xe(Be){if(Be instanceof Ce.y)return Be;if(null!=Be){if((0,Te.c)(Be))return function ze(Be){return new Ce.y(Ze=>{const Ue=Be[ce.L]();if((0,ve.m)(Ue.subscribe))return Ue.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,ee.z)(Be))return function dt(Be){return new Ce.y(Ze=>{for(let Ue=0;Ue<Be.length&&!Ze.closed;Ue++)Ze.next(Be[Ue]);Ze.complete()})}(Be);if((0,z.t)(Be))return function Mt(Be){return new Ce.y(Ze=>{Be.then(Ue=>{Ze.closed||(Ze.next(Ue),Ze.complete())},Ue=>Ze.error(Ue)).then(null,ie.h)})}(Be);if((0,be.D)(Be))return ye(Be);if((0,De.T)(Be))return function Re(Be){return new Ce.y(Ze=>{for(const Ue of Be)if(Ze.next(Ue),Ze.closed)return;Ze.complete()})}(Be);if((0,ke.L)(Be))return function de(Be){return ye((0,ke.Q)(Be))}(Be)}throw(0,ge.z)(Be)}function ye(Be){return new Ce.y(Ze=>{(function ht(Be,Ze){var Ue,Oe,Fe,N;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,a.KL)(Be);!(Oe=yield Ue.next()).done;)if(Ze.next(Oe.value),Ze.closed)return}catch(Ge){Fe={error:Ge}}finally{try{Oe&&!Oe.done&&(N=Ue.return)&&(yield N.call(Ue))}finally{if(Fe)throw Fe.error}}Ze.complete()})})(Be,Ze).catch(Ue=>Ze.error(Ue))})}},6451:(_n,yt,V)=>{"use strict";V.d(yt,{T:()=>be});var a=V(8189),ee=V(8421),z=V(515),Ce=V(7669),Te=V(8996);function be(...ge){const De=(0,Ce.yG)(ge),ke=(0,Ce._6)(ge,1/0),ve=ge;return ve.length?1===ve.length?(0,ee.Xf)(ve[0]):(0,a.J)(ke)((0,Te.D)(ve,De)):z.E}},9646:(_n,yt,V)=>{"use strict";V.d(yt,{of:()=>z});var a=V(7669),ee=V(8996);function z(...Ce){const Te=(0,a.yG)(Ce);return(0,ee.D)(Ce,Te)}},5403:(_n,yt,V)=>{"use strict";V.d(yt,{x:()=>ee});var a=V(930);function ee(Ce,Te,be,ge,De){return new z(Ce,Te,be,ge,De)}class z extends a.Lv{constructor(Te,be,ge,De,ke,ve){super(Te),this.onFinalize=ke,this.shouldUnsubscribe=ve,this._next=be?function(ie){try{be(ie)}catch(ce){Te.error(ce)}}:super._next,this._error=De?function(ie){try{De(ie)}catch(ce){Te.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(ie){Te.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4351:(_n,yt,V)=>{"use strict";V.d(yt,{b:()=>z});var a=V(5577),ee=V(576);function z(Ce,Te){return(0,ee.m)(Te)?(0,a.z)(Ce,Te,1):(0,a.z)(Ce,1)}},6590:(_n,yt,V)=>{"use strict";V.d(yt,{d:()=>z});var a=V(4482),ee=V(5403);function z(Ce){return(0,a.e)((Te,be)=>{let ge=!1;Te.subscribe((0,ee.x)(be,De=>{ge=!0,be.next(De)},()=>{ge||be.next(Ce),be.complete()}))})}},1884:(_n,yt,V)=>{"use strict";V.d(yt,{x:()=>Ce});var a=V(4671),ee=V(4482),z=V(5403);function Ce(be,ge=a.y){return be=null!=be?be:Te,(0,ee.e)((De,ke)=>{let ve,ie=!0;De.subscribe((0,z.x)(ke,ce=>{const xe=ge(ce);(ie||!be(ve,xe))&&(ie=!1,ve=xe,ke.next(ce))}))})}function Te(be,ge){return be===ge}},9300:(_n,yt,V)=>{"use strict";V.d(yt,{h:()=>z});var a=V(4482),ee=V(5403);function z(Ce,Te){return(0,a.e)((be,ge)=>{let De=0;be.subscribe((0,ee.x)(ge,ke=>Ce.call(Te,ke,De++)&&ge.next(ke)))})}},590:(_n,yt,V)=>{"use strict";V.d(yt,{P:()=>ge});var a=V(6805),ee=V(9300),z=V(5698),Ce=V(6590),Te=V(8068),be=V(4671);function ge(De,ke){const ve=arguments.length>=2;return ie=>ie.pipe(De?(0,ee.h)((ce,xe)=>De(ce,xe,ie)):be.y,(0,z.q)(1),ve?(0,Ce.d)(ke):(0,Te.T)(()=>new a.K))}},4004:(_n,yt,V)=>{"use strict";V.d(yt,{U:()=>z});var a=V(4482),ee=V(5403);function z(Ce,Te){return(0,a.e)((be,ge)=>{let De=0;be.subscribe((0,ee.x)(ge,ke=>{ge.next(Ce.call(Te,ke,De++))}))})}},8189:(_n,yt,V)=>{"use strict";V.d(yt,{J:()=>z});var a=V(5577),ee=V(4671);function z(Ce=1/0){return(0,a.z)(ee.y,Ce)}},5577:(_n,yt,V)=>{"use strict";V.d(yt,{z:()=>De});var a=V(4004),ee=V(8421),z=V(4482),Ce=V(9672),Te=V(5403),ge=V(576);function De(ke,ve,ie=1/0){return(0,ge.m)(ve)?De((ce,xe)=>(0,a.U)((ze,dt)=>ve(ce,ze,xe,dt))((0,ee.Xf)(ke(ce,xe))),ie):("number"==typeof ve&&(ie=ve),(0,z.e)((ce,xe)=>function be(ke,ve,ie,ce,xe,ze,dt,Mt){const Re=[];let ye=0,de=0,ht=!1;const Be=()=>{ht&&!Re.length&&!ye&&ve.complete()},Ze=Oe=>ye<ce?Ue(Oe):Re.push(Oe),Ue=Oe=>{ze&&ve.next(Oe),ye++;let Fe=!1;(0,ee.Xf)(ie(Oe,de++)).subscribe((0,Te.x)(ve,N=>{null==xe||xe(N),ze?Ze(N):ve.next(N)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(ye--;Re.length&&ye<ce;){const N=Re.shift();dt?(0,Ce.f)(ve,dt,()=>Ue(N)):Ue(N)}Be()}catch(N){ve.error(N)}}))};return ke.subscribe((0,Te.x)(ve,Ze,()=>{ht=!0,Be()})),()=>{null==Mt||Mt()}}(ce,xe,ke,ie)))}},5363:(_n,yt,V)=>{"use strict";V.d(yt,{Q:()=>Ce});var a=V(9672),ee=V(4482),z=V(5403);function Ce(Te,be=0){return(0,ee.e)((ge,De)=>{ge.subscribe((0,z.x)(De,ke=>(0,a.f)(De,Te,()=>De.next(ke),be),()=>(0,a.f)(De,Te,()=>De.complete(),be),ke=>(0,a.f)(De,Te,()=>De.error(ke),be)))})}},5026:(_n,yt,V)=>{"use strict";V.d(yt,{R:()=>Ce});var a=V(4482),ee=V(5403);function Ce(Te,be){return(0,a.e)(function z(Te,be,ge,De,ke){return(ve,ie)=>{let ce=ge,xe=be,ze=0;ve.subscribe((0,ee.x)(ie,dt=>{const Mt=ze++;xe=ce?Te(xe,dt,Mt):(ce=!0,dt),De&&ie.next(xe)},ke&&(()=>{ce&&ie.next(xe),ie.complete()})))}}(Te,be,arguments.length>=2,!0))}},3099:(_n,yt,V)=>{"use strict";V.d(yt,{B:()=>Te});var a=V(8421),ee=V(7579),z=V(930),Ce=V(4482);function Te(ge={}){const{connector:De=(()=>new ee.x),resetOnError:ke=!0,resetOnComplete:ve=!0,resetOnRefCountZero:ie=!0}=ge;return ce=>{let xe,ze,dt,Mt=0,Re=!1,ye=!1;const de=()=>{null==ze||ze.unsubscribe(),ze=void 0},ht=()=>{de(),xe=dt=void 0,Re=ye=!1},Be=()=>{const Ze=xe;ht(),null==Ze||Ze.unsubscribe()};return(0,Ce.e)((Ze,Ue)=>{Mt++,!ye&&!Re&&de();const Oe=dt=null!=dt?dt:De();Ue.add(()=>{Mt--,0===Mt&&!ye&&!Re&&(ze=be(Be,ie))}),Oe.subscribe(Ue),!xe&&Mt>0&&(xe=new z.Hp({next:Fe=>Oe.next(Fe),error:Fe=>{ye=!0,de(),ze=be(ht,ke,Fe),Oe.error(Fe)},complete:()=>{Re=!0,de(),ze=be(ht,ve),Oe.complete()}}),(0,a.Xf)(Ze).subscribe(xe))})(ce)}}function be(ge,De,...ke){if(!0===De)return void ge();if(!1===De)return;const ve=new z.Hp({next:()=>{ve.unsubscribe(),ge()}});return De(...ke).subscribe(ve)}},8675:(_n,yt,V)=>{"use strict";V.d(yt,{O:()=>Ce});var a=V(7272),ee=V(7669),z=V(4482);function Ce(...Te){const be=(0,ee.yG)(Te);return(0,z.e)((ge,De)=>{(be?(0,a.z)(Te,ge,be):(0,a.z)(Te,ge)).subscribe(De)})}},9468:(_n,yt,V)=>{"use strict";V.d(yt,{R:()=>ee});var a=V(4482);function ee(z,Ce=0){return(0,a.e)((Te,be)=>{be.add(z.schedule(()=>Te.subscribe(be),Ce))})}},3900:(_n,yt,V)=>{"use strict";V.d(yt,{w:()=>Ce});var a=V(8421),ee=V(4482),z=V(5403);function Ce(Te,be){return(0,ee.e)((ge,De)=>{let ke=null,ve=0,ie=!1;const ce=()=>ie&&!ke&&De.complete();ge.subscribe((0,z.x)(De,xe=>{null==ke||ke.unsubscribe();let ze=0;const dt=ve++;(0,a.Xf)(Te(xe,dt)).subscribe(ke=(0,z.x)(De,Mt=>De.next(be?be(xe,Mt,dt,ze++):Mt),()=>{ke=null,ce()}))},()=>{ie=!0,ce()}))})}},5698:(_n,yt,V)=>{"use strict";V.d(yt,{q:()=>Ce});var a=V(515),ee=V(4482),z=V(5403);function Ce(Te){return Te<=0?()=>a.E:(0,ee.e)((be,ge)=>{let De=0;be.subscribe((0,z.x)(ge,ke=>{++De<=Te&&(ge.next(ke),Te<=De&&ge.complete())}))})}},8505:(_n,yt,V)=>{"use strict";V.d(yt,{b:()=>Te});var a=V(576),ee=V(4482),z=V(5403),Ce=V(4671);function Te(be,ge,De){const ke=(0,a.m)(be)||ge||De?{next:be,error:ge,complete:De}:be;return ke?(0,ee.e)((ve,ie)=>{var ce;null===(ce=ke.subscribe)||void 0===ce||ce.call(ke);let xe=!0;ve.subscribe((0,z.x)(ie,ze=>{var dt;null===(dt=ke.next)||void 0===dt||dt.call(ke,ze),ie.next(ze)},()=>{var ze;xe=!1,null===(ze=ke.complete)||void 0===ze||ze.call(ke),ie.complete()},ze=>{var dt;xe=!1,null===(dt=ke.error)||void 0===dt||dt.call(ke,ze),ie.error(ze)},()=>{var ze,dt;xe&&(null===(ze=ke.unsubscribe)||void 0===ze||ze.call(ke)),null===(dt=ke.finalize)||void 0===dt||dt.call(ke)}))}):Ce.y}},8068:(_n,yt,V)=>{"use strict";V.d(yt,{T:()=>Ce});var a=V(6805),ee=V(4482),z=V(5403);function Ce(be=Te){return(0,ee.e)((ge,De)=>{let ke=!1;ge.subscribe((0,z.x)(De,ve=>{ke=!0,De.next(ve)},()=>ke?De.complete():De.error(be())))})}function Te(){return new a.K}},4408:(_n,yt,V)=>{"use strict";V.d(yt,{o:()=>Te});var a=V(727);class ee extends a.w0{constructor(ge,De){super()}schedule(ge,De=0){return this}}const z={setInterval(be,ge,...De){const{delegate:ke}=z;return null!=ke&&ke.setInterval?ke.setInterval(be,ge,...De):setInterval(be,ge,...De)},clearInterval(be){const{delegate:ge}=z;return((null==ge?void 0:ge.clearInterval)||clearInterval)(be)},delegate:void 0};var Ce=V(8737);class Te extends ee{constructor(ge,De){super(ge,De),this.scheduler=ge,this.work=De,this.pending=!1}schedule(ge,De=0){var ke;if(this.closed)return this;this.state=ge;const ve=this.id,ie=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(ie,ve,De)),this.pending=!0,this.delay=De,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(ie,this.id,De),this}requestAsyncId(ge,De,ke=0){return z.setInterval(ge.flush.bind(ge,this),ke)}recycleAsyncId(ge,De,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return De;null!=De&&z.clearInterval(De)}execute(ge,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(ge,De);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,De){let ve,ke=!1;try{this.work(ge)}catch(ie){ke=!0,ve=ie||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),ve}unsubscribe(){if(!this.closed){const{id:ge,scheduler:De}=this,{actions:ke}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(ke,this),null!=ge&&(this.id=this.recycleAsyncId(De,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(_n,yt,V)=>{"use strict";V.d(yt,{v:()=>z});var a=V(6063);class ee{constructor(Te,be=ee.now){this.schedulerActionCtor=Te,this.now=be}schedule(Te,be=0,ge){return new this.schedulerActionCtor(this,Te).schedule(ge,be)}}ee.now=a.l.now;class z extends ee{constructor(Te,be=ee.now){super(Te,be),this.actions=[],this._active=!1}flush(Te){const{actions:be}=this;if(this._active)return void be.push(Te);let ge;this._active=!0;do{if(ge=Te.execute(Te.state,Te.delay))break}while(Te=be.shift());if(this._active=!1,ge){for(;Te=be.shift();)Te.unsubscribe();throw ge}}}},4986:(_n,yt,V)=>{"use strict";V.d(yt,{z:()=>z});var a=V(4408);const z=new(V(7565).v)(a.o)},6063:(_n,yt,V)=>{"use strict";V.d(yt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(_n,yt,V)=>{"use strict";V.d(yt,{z:()=>a});const a={setTimeout(ee,z,...Ce){const{delegate:Te}=a;return null!=Te&&Te.setTimeout?Te.setTimeout(ee,z,...Ce):setTimeout(ee,z,...Ce)},clearTimeout(ee){const{delegate:z}=a;return((null==z?void 0:z.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(_n,yt,V)=>{"use strict";V.d(yt,{h:()=>ee});const ee=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_n,yt,V)=>{"use strict";V.d(yt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(_n,yt,V)=>{"use strict";V.d(yt,{K:()=>ee});const ee=(0,V(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(_n,yt,V)=>{"use strict";V.d(yt,{_6:()=>be,jO:()=>Ce,yG:()=>Te});var a=V(576);function z(ge){return ge[ge.length-1]}function Ce(ge){return(0,a.m)(z(ge))?ge.pop():void 0}function Te(ge){return function ee(ge){return ge&&(0,a.m)(ge.schedule)}(z(ge))?ge.pop():void 0}function be(ge,De){return"number"==typeof z(ge)?ge.pop():De}},4742:(_n,yt,V)=>{"use strict";V.d(yt,{D:()=>Te});const{isArray:a}=Array,{getPrototypeOf:ee,prototype:z,keys:Ce}=Object;function Te(ge){if(1===ge.length){const De=ge[0];if(a(De))return{args:De,keys:null};if(function be(ge){return ge&&"object"==typeof ge&&ee(ge)===z}(De)){const ke=Ce(De);return{args:ke.map(ve=>De[ve]),keys:ke}}}return{args:ge,keys:null}}},8737:(_n,yt,V)=>{"use strict";function a(ee,z){if(ee){const Ce=ee.indexOf(z);0<=Ce&&ee.splice(Ce,1)}}V.d(yt,{P:()=>a})},3888:(_n,yt,V)=>{"use strict";function a(ee){const Ce=ee(Te=>{Error.call(Te),Te.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}V.d(yt,{d:()=>a})},1810:(_n,yt,V)=>{"use strict";function a(ee,z){return ee.reduce((Ce,Te,be)=>(Ce[Te]=z[be],Ce),{})}V.d(yt,{n:()=>a})},2806:(_n,yt,V)=>{"use strict";V.d(yt,{O:()=>Ce,x:()=>z});var a=V(2416);let ee=null;function z(Te){if(a.v.useDeprecatedSynchronousErrorHandling){const be=!ee;if(be&&(ee={errorThrown:!1,error:null}),Te(),be){const{errorThrown:ge,error:De}=ee;if(ee=null,ge)throw De}}else Te()}function Ce(Te){a.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=Te)}},9672:(_n,yt,V)=>{"use strict";function a(ee,z,Ce,Te=0,be=!1){const ge=z.schedule(function(){Ce(),be?ee.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(ee.add(ge),!be)return ge}V.d(yt,{f:()=>a})},4671:(_n,yt,V)=>{"use strict";function a(ee){return ee}V.d(yt,{y:()=>a})},1144:(_n,yt,V)=>{"use strict";V.d(yt,{z:()=>a});const a=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(_n,yt,V)=>{"use strict";V.d(yt,{D:()=>ee});var a=V(576);function ee(z){return Symbol.asyncIterator&&(0,a.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(_n,yt,V)=>{"use strict";function a(ee){return"function"==typeof ee}V.d(yt,{m:()=>a})},3670:(_n,yt,V)=>{"use strict";V.d(yt,{c:()=>z});var a=V(8822),ee=V(576);function z(Ce){return(0,ee.m)(Ce[a.L])}},6495:(_n,yt,V)=>{"use strict";V.d(yt,{T:()=>z});var a=V(2202),ee=V(576);function z(Ce){return(0,ee.m)(null==Ce?void 0:Ce[a.h])}},8239:(_n,yt,V)=>{"use strict";V.d(yt,{t:()=>ee});var a=V(576);function ee(z){return(0,a.m)(null==z?void 0:z.then)}},3260:(_n,yt,V)=>{"use strict";V.d(yt,{L:()=>Ce,Q:()=>z});var a=V(655),ee=V(576);function z(Te){return(0,a.FC)(this,arguments,function*(){const ge=Te.getReader();try{for(;;){const{value:De,done:ke}=yield(0,a.qq)(ge.read());if(ke)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(De)}}finally{ge.releaseLock()}})}function Ce(Te){return(0,ee.m)(null==Te?void 0:Te.getReader)}},4482:(_n,yt,V)=>{"use strict";V.d(yt,{A:()=>ee,e:()=>z});var a=V(576);function ee(Ce){return(0,a.m)(null==Ce?void 0:Ce.lift)}function z(Ce){return Te=>{if(ee(Te))return Te.lift(function(be){try{return Ce(be,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_n,yt,V)=>{"use strict";V.d(yt,{Z:()=>Ce});var a=V(4004);const{isArray:ee}=Array;function Ce(Te){return(0,a.U)(be=>function z(Te,be){return ee(be)?Te(...be):Te(be)}(Te,be))}},5032:(_n,yt,V)=>{"use strict";function a(){}V.d(yt,{Z:()=>a})},9635:(_n,yt,V)=>{"use strict";V.d(yt,{U:()=>z,z:()=>ee});var a=V(4671);function ee(...Ce){return z(Ce)}function z(Ce){return 0===Ce.length?a.y:1===Ce.length?Ce[0]:function(be){return Ce.reduce((ge,De)=>De(ge),be)}}},7849:(_n,yt,V)=>{"use strict";V.d(yt,{h:()=>z});var a=V(2416),ee=V(3410);function z(Ce){ee.z.setTimeout(()=>{const{onUnhandledError:Te}=a.v;if(!Te)throw Ce;Te(Ce)})}},4532:(_n,yt,V)=>{"use strict";function a(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(yt,{z:()=>a})},863:(_n,yt,V)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[8372,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7206,9230],"./ion-datetime_3.entry.js":[4959,7206,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function ee(z){if(!V.o(a,z))return Promise.resolve().then(()=>{var be=new Error("Cannot find module '"+z+"'");throw be.code="MODULE_NOT_FOUND",be});var Ce=a[z],Te=Ce[0];return Promise.all(Ce.slice(1).map(V.e)).then(()=>V(Te))}ee.keys=()=>Object.keys(a),ee.id=863,_n.exports=ee},655:(_n,yt,V)=>{"use strict";function Ce(st,bt){var gt={};for(var Me in st)Object.prototype.hasOwnProperty.call(st,Me)&&bt.indexOf(Me)<0&&(gt[Me]=st[Me]);if(null!=st&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Me=Object.getOwnPropertySymbols(st);Pe<Me.length;Pe++)bt.indexOf(Me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(st,Me[Pe])&&(gt[Me[Pe]]=st[Me[Pe]])}return gt}function Te(st,bt,gt,Me){var lt,Pe=arguments.length,Se=Pe<3?bt:null===Me?Me=Object.getOwnPropertyDescriptor(bt,gt):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(st,bt,gt,Me);else for(var Xe=st.length-1;Xe>=0;Xe--)(lt=st[Xe])&&(Se=(Pe<3?lt(Se):Pe>3?lt(bt,gt,Se):lt(bt,gt))||Se);return Pe>3&&Se&&Object.defineProperty(bt,gt,Se),Se}function ce(st,bt,gt,Me){return new(gt||(gt=Promise))(function(Se,lt){function Xe(Kt){try{ot(Me.next(Kt))}catch(Vt){lt(Vt)}}function ut(Kt){try{ot(Me.throw(Kt))}catch(Vt){lt(Vt)}}function ot(Kt){Kt.done?Se(Kt.value):function Pe(Se){return Se instanceof gt?Se:new gt(function(lt){lt(Se)})}(Kt.value).then(Xe,ut)}ot((Me=Me.apply(st,bt||[])).next())})}function Be(st){return this instanceof Be?(this.v=st,this):new Be(st)}function Ze(st,bt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Me=gt.apply(st,bt||[]),Se=[];return Pe={},lt("next"),lt("throw"),lt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function lt(Pt){Me[Pt]&&(Pe[Pt]=function(Ot){return new Promise(function($n,An){Se.push([Pt,Ot,$n,An])>1||Xe(Pt,Ot)})})}function Xe(Pt,Ot){try{!function ut(Pt){Pt.value instanceof Be?Promise.resolve(Pt.value.v).then(ot,Kt):Vt(Se[0][2],Pt)}(Me[Pt](Ot))}catch($n){Vt(Se[0][3],$n)}}function ot(Pt){Xe("next",Pt)}function Kt(Pt){Xe("throw",Pt)}function Vt(Pt,Ot){Pt(Ot),Se.shift(),Se.length&&Xe(Se[0][0],Se[0][1])}}function Oe(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,bt=st[Symbol.asyncIterator];return bt?bt.call(st):(st=function Mt(st){var bt="function"==typeof Symbol&&Symbol.iterator,gt=bt&&st[bt],Me=0;if(gt)return gt.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&Me>=st.length&&(st=void 0),{value:st&&st[Me++],done:!st}}};throw new TypeError(bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(st),gt={},Me("next"),Me("throw"),Me("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function Me(Se){gt[Se]=st[Se]&&function(lt){return new Promise(function(Xe,ut){!function Pe(Se,lt,Xe,ut){Promise.resolve(ut).then(function(ot){Se({value:ot,done:Xe})},lt)}(Xe,ut,(lt=st[Se](lt)).done,lt.value)})}}}V.d(yt,{FC:()=>Ze,KL:()=>Oe,_T:()=>Ce,gn:()=>Te,mG:()=>ce,qq:()=>Be})},6895:(_n,yt,V)=>{"use strict";V.d(yt,{Do:()=>de,EM:()=>ys,HT:()=>Ce,JF:()=>yo,K0:()=>be,Mx:()=>Ii,Nd:()=>ts,O5:()=>oe,PC:()=>Wn,PM:()=>ks,S$:()=>Mt,Ts:()=>ps,V_:()=>ke,Ye:()=>ht,b0:()=>ye,bD:()=>mo,ez:()=>go,mk:()=>En,q:()=>z,rS:()=>ws,sg:()=>F,tP:()=>gr,w_:()=>Te});var a=V(4650);let ee=null;function z(){return ee}function Ce(k){ee||(ee=k)}class Te{}const be=new a.OlP("DocumentToken");let ge=(()=>{class k{historyGo(U){throw new Error("Not implemented")}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275prov=a.Yz7({token:k,factory:function(){return function De(){return(0,a.LFG)(ve)}()},providedIn:"platform"}),k})();const ke=new a.OlP("Location Initialized");let ve=(()=>{class k extends ge{constructor(U){super(),this._doc=U,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(U){const se=z().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",U,!1),()=>se.removeEventListener("popstate",U)}onHashChange(U){const se=z().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",U,!1),()=>se.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,se,we){ie()?this._history.pushState(U,se,we):this._location.hash=we}replaceState(U,se,we){ie()?this._history.replaceState(U,se,we):this._location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return k.\u0275fac=function(U){return new(U||k)(a.LFG(be))},k.\u0275prov=a.Yz7({token:k,factory:function(){return function ce(){return new ve((0,a.LFG)(be))}()},providedIn:"platform"}),k})();function ie(){return!!window.history.pushState}function xe(k,K){if(0==k.length)return K;if(0==K.length)return k;let U=0;return k.endsWith("/")&&U++,K.startsWith("/")&&U++,2==U?k+K.substring(1):1==U?k+K:k+"/"+K}function ze(k){const K=k.match(/#|\?|$/),U=K&&K.index||k.length;return k.slice(0,U-("/"===k[U-1]?1:0))+k.slice(U)}function dt(k){return k&&"?"!==k[0]?"?"+k:k}let Mt=(()=>{class k{historyGo(U){throw new Error("Not implemented")}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275prov=a.Yz7({token:k,factory:function(){return(0,a.f3M)(ye)},providedIn:"root"}),k})();const Re=new a.OlP("appBaseHref");let ye=(()=>{class k extends Mt{constructor(U,se){var we,Bt,Qt;super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=null!==(we=null!==(Bt=null!=se?se:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Bt?Bt:null===(Qt=(0,a.f3M)(be).location)||void 0===Qt?void 0:Qt.origin)&&void 0!==we?we:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return xe(this._baseHref,U)}path(U=!1){const se=this._platformLocation.pathname+dt(this._platformLocation.search),we=this._platformLocation.hash;return we&&U?`${se}${we}`:se}pushState(U,se,we,Bt){const Qt=this.prepareExternalUrl(we+dt(Bt));this._platformLocation.pushState(U,se,Qt)}replaceState(U,se,we,Bt){const Qt=this.prepareExternalUrl(we+dt(Bt));this._platformLocation.replaceState(U,se,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var se,we;null===(se=(we=this._platformLocation).historyGo)||void 0===se||se.call(we,U)}}return k.\u0275fac=function(U){return new(U||k)(a.LFG(ge),a.LFG(Re,8))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),de=(()=>{class k extends Mt{constructor(U,se){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(U){const se=xe(this._baseHref,U);return se.length>0?"#"+se:se}pushState(U,se,we,Bt){let Qt=this.prepareExternalUrl(we+dt(Bt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.pushState(U,se,Qt)}replaceState(U,se,we,Bt){let Qt=this.prepareExternalUrl(we+dt(Bt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.replaceState(U,se,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var se,we;null===(se=(we=this._platformLocation).historyGo)||void 0===se||se.call(we,U)}}return k.\u0275fac=function(U){return new(U||k)(a.LFG(ge),a.LFG(Re,8))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac}),k})(),ht=(()=>{class k{constructor(U){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const se=this._locationStrategy.getBaseHref();this._basePath=function Oe(k){if(new RegExp("^(https?:)?//").test(k)){const[,U]=k.split(/\/\/[^\/]+/);return U}return k}(ze(Ue(se))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){var U;null===(U=this._urlChangeSubscription)||void 0===U||U.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,se=""){return this.path()==this.normalize(U+dt(se))}normalize(U){return k.stripTrailingSlash(function Ze(k,K){if(!k||!K.startsWith(k))return K;const U=K.substring(k.length);return""===U||["/",";","?","#"].includes(U[0])?U:K}(this._basePath,Ue(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,se="",we=null){this._locationStrategy.pushState(we,"",U,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+dt(se)),we)}replaceState(U,se="",we=null){this._locationStrategy.replaceState(we,"",U,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+dt(se)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){var se,we;null===(se=(we=this._locationStrategy).historyGo)||void 0===se||se.call(we,U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{const se=this._urlChangeListeners.indexOf(U);var we;this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(null===(we=this._urlChangeSubscription)||void 0===we||we.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",se){this._urlChangeListeners.forEach(we=>we(U,se))}subscribe(U,se,we){return this._subject.subscribe({next:U,error:se,complete:we})}}return k.normalizeQueryParams=dt,k.joinWithSlash=xe,k.stripTrailingSlash=ze,k.\u0275fac=function(U){return new(U||k)(a.LFG(Mt))},k.\u0275prov=a.Yz7({token:k,factory:function(){return function Be(){return new ht((0,a.LFG)(Mt))}()},providedIn:"root"}),k})();function Ue(k){return k.replace(/\/index.html$/,"")}function Ii(k,K){K=encodeURIComponent(K);for(const U of k.split(";")){const se=U.indexOf("="),[we,Bt]=-1==se?[U,""]:[U.slice(0,se),U.slice(se+1)];if(we.trim()===K)return decodeURIComponent(Bt)}return null}const Wi=/\s+/,wi=[];let En=(()=>{class k{constructor(U,se,we,Bt){this._iterableDiffers=U,this._keyValueDiffers=se,this._ngEl=we,this._renderer=Bt,this.initialClasses=wi,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Wi):wi}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Wi):U}ngDoCheck(){for(const se of this.initialClasses)this._updateState(se,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const se of U)this._updateState(se,!0);else if(null!=U)for(const se of Object.keys(U))this._updateState(se,Boolean(U[se]));this._applyStateDiff()}_updateState(U,se){const we=this.stateMap.get(U);void 0!==we?(we.enabled!==se&&(we.changed=!0,we.enabled=se),we.touched=!0):this.stateMap.set(U,{enabled:se,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const se=U[0],we=U[1];we.changed?(this._toggleClass(se,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(se,!1),this.stateMap.delete(se)),we.touched=!1}}_toggleClass(U,se){(U=U.trim()).length>0&&U.split(Wi).forEach(we=>{se?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return k.\u0275fac=function(U){return new(U||k)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),k})();class nt{constructor(K,U,se,we){this.$implicit=K,this.ngForOf=U,this.index=se,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class k{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,se,we){this._viewContainer=U,this._template=se,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const se=this._viewContainer;U.forEachOperation((we,Bt,Qt)=>{if(null==we.previousIndex)se.createEmbeddedView(this._template,new nt(we.item,this._ngForOf,-1,-1),null===Qt?void 0:Qt);else if(null==Qt)se.remove(null===Bt?void 0:Bt);else if(null!==Bt){const Vn=se.get(Bt);se.move(Vn,Qt),Y(Vn,we)}});for(let we=0,Bt=se.length;we<Bt;we++){const Vn=se.get(we).context;Vn.index=we,Vn.count=Bt,Vn.ngForOf=this._ngForOf}U.forEachIdentityChange(we=>{Y(se.get(we.currentIndex),we)})}static ngTemplateContextGuard(U,se){return!0}}return k.\u0275fac=function(U){return new(U||k)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function Y(k,K){k.context.$implicit=K.item}let oe=(()=>{class k{constructor(U,se){this._viewContainer=U,this._context=new He,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){J("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){J("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,se){return!0}}return k.\u0275fac=function(U){return new(U||k)(a.Y36(a.s_b),a.Y36(a.Rgc))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class He{constructor(){this.$implicit=null,this.ngIf=null}}function J(k,K){if(K&&!K.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,a.AaK)(K)}'.`)}let Wn=(()=>{class k{constructor(U,se,we){this._ngEl=U,this._differs=se,this._renderer=we,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,se){const[we,Bt]=U.split("."),Qt=-1===we.indexOf("-")?void 0:a.JOm.DashCase;null!=se?this._renderer.setStyle(this._ngEl.nativeElement,we,Bt?`${se}${Bt}`:se,Qt):this._renderer.removeStyle(this._ngEl.nativeElement,we,Qt)}_applyChanges(U){U.forEachRemovedItem(se=>this._setStyle(se.key,null)),U.forEachAddedItem(se=>this._setStyle(se.key,se.currentValue)),U.forEachChangedItem(se=>this._setStyle(se.key,se.currentValue))}}return k.\u0275fac=function(U){return new(U||k)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),k})(),gr=(()=>{class k{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:Bt,ngTemplateOutletInjector:Qt}=this;this._viewRef=se.createEmbeddedView(we,Bt,Qt?{injector:Qt}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(U){return new(U||k)(a.Y36(a.s_b))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),k})();const hr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ws=(()=>{class k{transform(U){if(null==U)return null;if("string"!=typeof U)throw function Ke(k,K){return new a.vHH(2100,!1)}();return U.replace(hr,se=>se[0].toUpperCase()+se.slice(1).toLowerCase())}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275pipe=a.Yjl({name:"titlecase",type:k,pure:!0,standalone:!0}),k})(),ps=(()=>{class k{transform(U){return JSON.stringify(U,null,2)}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275pipe=a.Yjl({name:"json",type:k,pure:!1,standalone:!0}),k})(),ts=(()=>{class k{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=so}transform(U,se=so){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const we=this.differ.diff(U),Bt=se!==this.compareFn;return we&&(this.keyValues=[],we.forEachItem(Qt=>{this.keyValues.push(function Yi(k,K){return{key:k,value:K}}(Qt.key,Qt.currentValue))})),(we||Bt)&&(this.keyValues.sort(se),this.compareFn=se),this.keyValues}}return k.\u0275fac=function(U){return new(U||k)(a.Y36(a.aQg,16))},k.\u0275pipe=a.Yjl({name:"keyvalue",type:k,pure:!1,standalone:!0}),k})();function so(k,K){const U=k.key,se=K.key;if(U===se)return 0;if(void 0===U)return 1;if(void 0===se)return-1;if(null===U)return 1;if(null===se)return-1;if("string"==typeof U&&"string"==typeof se)return U<se?-1:1;if("number"==typeof U&&"number"==typeof se)return U-se;if("boolean"==typeof U&&"boolean"==typeof se)return U<se?-1:1;const we=String(U),Bt=String(se);return we==Bt?0:we<Bt?-1:1}let go=(()=>{class k{}return k.\u0275fac=function(U){return new(U||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({}),k})();const mo="browser",ai="server";function ks(k){return k===ai}let ys=(()=>{class k{}return k.\u0275prov=(0,a.Yz7)({token:k,providedIn:"root",factory:()=>new _i((0,a.LFG)(be),window)}),k})();class _i{constructor(K,U){this.document=K,this.window=U,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const U=function ns(k,K){const U=k.getElementById(K)||k.getElementsByName(K)[0];if(U)return U;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const se=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let we=se.currentNode;for(;we;){const Bt=we.shadowRoot;if(Bt){const Qt=Bt.getElementById(K)||Bt.querySelector(`[name="${K}"]`);if(Qt)return Qt}we=se.nextNode()}}return null}(this.document,K);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=K)}}scrollToElement(K){const U=K.getBoundingClientRect(),se=U.left+this.window.pageXOffset,we=U.top+this.window.pageYOffset,Bt=this.offset();this.window.scrollTo(se-Bt[0],we-Bt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch(K){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(K){return!1}}}function qs(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class yo{}},529:(_n,yt,V)=>{"use strict";V.d(yt,{JF:()=>Qr,eN:()=>bt});var a=V(6895),ee=V(4650),z=V(9646),Ce=V(9751),Te=V(4351),be=V(9300),ge=V(4004);class De{}class ke{}class ve{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?this.lazyInit="string"==typeof Ae?()=>{this.headers=new Map,Ae.split("\n").forEach(We=>{const kt=We.indexOf(":");if(kt>0){const Wt=We.slice(0,kt),Ie=Wt.toLowerCase(),Ee=We.slice(kt+1).trim();this.maybeSetNormalizedName(Wt,Ie),this.headers.has(Ie)?this.headers.get(Ie).push(Ee):this.headers.set(Ie,[Ee])}})}:()=>{this.headers=new Map,Object.keys(Ae).forEach(We=>{let kt=Ae[We];const Wt=We.toLowerCase();"string"==typeof kt&&(kt=[kt]),kt.length>0&&(this.headers.set(Wt,kt),this.maybeSetNormalizedName(We,Wt))})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const We=this.headers.get(Ae.toLowerCase());return We&&We.length>0?We[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,We){return this.clone({name:Ae,value:We,op:"a"})}set(Ae,We){return this.clone({name:Ae,value:We,op:"s"})}delete(Ae,We){return this.clone({name:Ae,value:We,op:"d"})}maybeSetNormalizedName(Ae,We){this.normalizedNames.has(We)||this.normalizedNames.set(We,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(We=>{this.headers.set(We,Ae.headers.get(We)),this.normalizedNames.set(We,Ae.normalizedNames.get(We))})}clone(Ae){const We=new ve;return We.lazyInit=this.lazyInit&&this.lazyInit instanceof ve?this.lazyInit:this,We.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),We}applyUpdate(Ae){const We=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let kt=Ae.value;if("string"==typeof kt&&(kt=[kt]),0===kt.length)return;this.maybeSetNormalizedName(Ae.name,We);const Wt=("a"===Ae.op?this.headers.get(We):void 0)||[];Wt.push(...kt),this.headers.set(We,Wt);break;case"d":const Ie=Ae.value;if(Ie){let Ee=this.headers.get(We);if(!Ee)return;Ee=Ee.filter(Ye=>-1===Ie.indexOf(Ye)),0===Ee.length?(this.headers.delete(We),this.normalizedNames.delete(We)):this.headers.set(We,Ee)}else this.headers.delete(We),this.normalizedNames.delete(We)}}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(We=>Ae(this.normalizedNames.get(We),this.headers.get(We)))}}class ce{encodeKey(Ae){return Mt(Ae)}encodeValue(Ae){return Mt(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const ze=/%(\d[a-f0-9])/gi,dt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Mt(Et){return encodeURIComponent(Et).replace(ze,(Ae,We)=>{var kt;return null!==(kt=dt[We])&&void 0!==kt?kt:Ae})}function Re(Et){return`${Et}`}class ye{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new ce,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xe(Et,Ae){const We=new Map;return Et.length>0&&Et.replace(/^\?/,"").split("&").forEach(Wt=>{const Ie=Wt.indexOf("="),[Ee,Ye]=-1==Ie?[Ae.decodeKey(Wt),""]:[Ae.decodeKey(Wt.slice(0,Ie)),Ae.decodeValue(Wt.slice(Ie+1))],Rt=We.get(Ee)||[];Rt.push(Ye),We.set(Ee,Rt)}),We}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(We=>{const kt=Ae.fromObject[We],Wt=Array.isArray(kt)?kt.map(Re):[Re(kt)];this.map.set(We,Wt)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const We=this.map.get(Ae);return We?We[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,We){return this.clone({param:Ae,value:We,op:"a"})}appendAll(Ae){const We=[];return Object.keys(Ae).forEach(kt=>{const Wt=Ae[kt];Array.isArray(Wt)?Wt.forEach(Ie=>{We.push({param:kt,value:Ie,op:"a"})}):We.push({param:kt,value:Wt,op:"a"})}),this.clone(We)}set(Ae,We){return this.clone({param:Ae,value:We,op:"s"})}delete(Ae,We){return this.clone({param:Ae,value:We,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const We=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(kt=>We+"="+this.encoder.encodeValue(kt)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const We=new ye({encoder:this.encoder});return We.cloneFrom=this.cloneFrom||this,We.updates=(this.updates||[]).concat(Ae),We}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const We=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];We.push(Re(Ae.value)),this.map.set(Ae.param,We);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let kt=this.map.get(Ae.param)||[];const Wt=kt.indexOf(Re(Ae.value));-1!==Wt&&kt.splice(Wt,1),kt.length>0?this.map.set(Ae.param,kt):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class ht{constructor(){this.map=new Map}set(Ae,We){return this.map.set(Ae,We),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function Ze(Et){return typeof ArrayBuffer<"u"&&Et instanceof ArrayBuffer}function Ue(Et){return typeof Blob<"u"&&Et instanceof Blob}function Oe(Et){return typeof FormData<"u"&&Et instanceof FormData}class N{constructor(Ae,We,kt,Wt){let Ie;if(this.url=We,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function Be(Et){switch(Et){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Wt?(this.body=void 0!==kt?kt:null,Ie=Wt):Ie=kt,Ie&&(this.reportProgress=!!Ie.reportProgress,this.withCredentials=!!Ie.withCredentials,Ie.responseType&&(this.responseType=Ie.responseType),Ie.headers&&(this.headers=Ie.headers),Ie.context&&(this.context=Ie.context),Ie.params&&(this.params=Ie.params)),this.headers||(this.headers=new ve),this.context||(this.context=new ht),this.params){const Ee=this.params.toString();if(0===Ee.length)this.urlWithParams=We;else{const Ye=We.indexOf("?");this.urlWithParams=We+(-1===Ye?"?":Ye<We.length-1?"&":"")+Ee}}else this.params=new ye,this.urlWithParams=We}serializeBody(){return null===this.body?null:Ze(this.body)||Ue(this.body)||Oe(this.body)||function Fe(Et){return typeof URLSearchParams<"u"&&Et instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Oe(this.body)?null:Ue(this.body)?this.body.type||null:Ze(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){var We;const kt=Ae.method||this.method,Wt=Ae.url||this.url,Ie=Ae.responseType||this.responseType,Ee=void 0!==Ae.body?Ae.body:this.body,Ye=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,Rt=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let Ct=Ae.headers||this.headers,wn=Ae.params||this.params;const Qe=null!==(We=Ae.context)&&void 0!==We?We:this.context;return void 0!==Ae.setHeaders&&(Ct=Object.keys(Ae.setHeaders).reduce((qe,me)=>qe.set(me,Ae.setHeaders[me]),Ct)),Ae.setParams&&(wn=Object.keys(Ae.setParams).reduce((qe,me)=>qe.set(me,Ae.setParams[me]),wn)),new N(kt,Wt,Ee,{params:wn,headers:Ct,context:Qe,reportProgress:Rt,responseType:Ie,withCredentials:Ye})}}var Ge=(()=>((Ge=Ge||{})[Ge.Sent=0]="Sent",Ge[Ge.UploadProgress=1]="UploadProgress",Ge[Ge.ResponseHeader=2]="ResponseHeader",Ge[Ge.DownloadProgress=3]="DownloadProgress",Ge[Ge.Response=4]="Response",Ge[Ge.User=5]="User",Ge))();class je{constructor(Ae,We=200,kt="OK"){this.headers=Ae.headers||new ve,this.status=void 0!==Ae.status?Ae.status:We,this.statusText=Ae.statusText||kt,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class Je extends je{constructor(Ae={}){super(Ae),this.type=Ge.ResponseHeader}clone(Ae={}){return new Je({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class tt extends je{constructor(Ae={}){super(Ae),this.type=Ge.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new tt({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class ft extends je{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function st(Et,Ae){return{body:Ae,headers:Et.headers,context:Et.context,observe:Et.observe,params:Et.params,reportProgress:Et.reportProgress,responseType:Et.responseType,withCredentials:Et.withCredentials}}let bt=(()=>{class Et{constructor(We){this.handler=We}request(We,kt,Wt={}){let Ie;if(We instanceof N)Ie=We;else{let Rt,Ct;Rt=Wt.headers instanceof ve?Wt.headers:new ve(Wt.headers),Wt.params&&(Ct=Wt.params instanceof ye?Wt.params:new ye({fromObject:Wt.params})),Ie=new N(We,kt,void 0!==Wt.body?Wt.body:null,{headers:Rt,context:Wt.context,params:Ct,reportProgress:Wt.reportProgress,responseType:Wt.responseType||"json",withCredentials:Wt.withCredentials})}const Ee=(0,z.of)(Ie).pipe((0,Te.b)(Rt=>this.handler.handle(Rt)));if(We instanceof N||"events"===Wt.observe)return Ee;const Ye=Ee.pipe((0,be.h)(Rt=>Rt instanceof tt));switch(Wt.observe||"body"){case"body":switch(Ie.responseType){case"arraybuffer":return Ye.pipe((0,ge.U)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Rt.body}));case"blob":return Ye.pipe((0,ge.U)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof Blob))throw new Error("Response is not a Blob.");return Rt.body}));case"text":return Ye.pipe((0,ge.U)(Rt=>{if(null!==Rt.body&&"string"!=typeof Rt.body)throw new Error("Response is not a string.");return Rt.body}));default:return Ye.pipe((0,ge.U)(Rt=>Rt.body))}case"response":return Ye;default:throw new Error(`Unreachable: unhandled observe type ${Wt.observe}}`)}}delete(We,kt={}){return this.request("DELETE",We,kt)}get(We,kt={}){return this.request("GET",We,kt)}head(We,kt={}){return this.request("HEAD",We,kt)}jsonp(We,kt){return this.request("JSONP",We,{params:(new ye).append(kt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(We,kt={}){return this.request("OPTIONS",We,kt)}patch(We,kt,Wt={}){return this.request("PATCH",We,st(Wt,kt))}post(We,kt,Wt={}){return this.request("POST",We,st(Wt,kt))}put(We,kt,Wt={}){return this.request("PUT",We,st(Wt,kt))}}return Et.\u0275fac=function(We){return new(We||Et)(ee.LFG(De))},Et.\u0275prov=ee.Yz7({token:Et,factory:Et.\u0275fac}),Et})();function gt(Et,Ae){return Ae(Et)}function Me(Et,Ae){return(We,kt)=>Ae.intercept(We,{handle:Wt=>Et(Wt,kt)})}const Se=new ee.OlP("HTTP_INTERCEPTORS"),lt=new ee.OlP("HTTP_INTERCEPTOR_FNS");function Xe(){let Et=null;return(Ae,We)=>{var kt;return null===Et&&(Et=(null!==(kt=(0,ee.f3M)(Se,{optional:!0}))&&void 0!==kt?kt:[]).reduceRight(Me,gt)),Et(Ae,We)}}let ut=(()=>{class Et extends De{constructor(We,kt){super(),this.backend=We,this.injector=kt,this.chain=null}handle(We){if(null===this.chain){const kt=Array.from(new Set(this.injector.get(lt)));this.chain=kt.reduceRight((Wt,Ie)=>function Pe(Et,Ae,We){return(kt,Wt)=>We.runInContext(()=>Ae(kt,Ie=>Et(Ie,Wt)))}(Wt,Ie,this.injector),gt)}return this.chain(We,kt=>this.backend.handle(kt))}}return Et.\u0275fac=function(We){return new(We||Et)(ee.LFG(ke),ee.LFG(ee.lqb))},Et.\u0275prov=ee.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const cr=/^\)\]\}',?\n/;let mt=(()=>{class Et{constructor(We){this.xhrFactory=We}handle(We){if("JSONP"===We.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(kt=>{const Wt=this.xhrFactory.build();if(Wt.open(We.method,We.urlWithParams),We.withCredentials&&(Wt.withCredentials=!0),We.headers.forEach((me,_t)=>Wt.setRequestHeader(me,_t.join(","))),We.headers.has("Accept")||Wt.setRequestHeader("Accept","application/json, text/plain, */*"),!We.headers.has("Content-Type")){const me=We.detectContentTypeHeader();null!==me&&Wt.setRequestHeader("Content-Type",me)}if(We.responseType){const me=We.responseType.toLowerCase();Wt.responseType="json"!==me?me:"text"}const Ie=We.serializeBody();let Ee=null;const Ye=()=>{if(null!==Ee)return Ee;const me=Wt.statusText||"OK",_t=new ve(Wt.getAllResponseHeaders()),zt=function At(Et){return"responseURL"in Et&&Et.responseURL?Et.responseURL:/^X-Request-URL:/m.test(Et.getAllResponseHeaders())?Et.getResponseHeader("X-Request-URL"):null}(Wt)||We.url;return Ee=new Je({headers:_t,status:Wt.status,statusText:me,url:zt}),Ee},Rt=()=>{let{headers:me,status:_t,statusText:zt,url:en}=Ye(),On=null;204!==_t&&(On=typeof Wt.response>"u"?Wt.responseText:Wt.response),0===_t&&(_t=On?200:0);let Kn=_t>=200&&_t<300;if("json"===We.responseType&&"string"==typeof On){const Cr=On;On=On.replace(cr,"");try{On=""!==On?JSON.parse(On):null}catch(vi){On=Cr,Kn&&(Kn=!1,On={error:vi,text:On})}}Kn?(kt.next(new tt({body:On,headers:me,status:_t,statusText:zt,url:en||void 0})),kt.complete()):kt.error(new ft({error:On,headers:me,status:_t,statusText:zt,url:en||void 0}))},Ct=me=>{const{url:_t}=Ye(),zt=new ft({error:me,status:Wt.status||0,statusText:Wt.statusText||"Unknown Error",url:_t||void 0});kt.error(zt)};let wn=!1;const Qe=me=>{wn||(kt.next(Ye()),wn=!0);let _t={type:Ge.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(_t.total=me.total),"text"===We.responseType&&Wt.responseText&&(_t.partialText=Wt.responseText),kt.next(_t)},qe=me=>{let _t={type:Ge.UploadProgress,loaded:me.loaded};me.lengthComputable&&(_t.total=me.total),kt.next(_t)};return Wt.addEventListener("load",Rt),Wt.addEventListener("error",Ct),Wt.addEventListener("timeout",Ct),Wt.addEventListener("abort",Ct),We.reportProgress&&(Wt.addEventListener("progress",Qe),null!==Ie&&Wt.upload&&Wt.upload.addEventListener("progress",qe)),Wt.send(Ie),kt.next({type:Ge.Sent}),()=>{Wt.removeEventListener("error",Ct),Wt.removeEventListener("abort",Ct),Wt.removeEventListener("load",Rt),Wt.removeEventListener("timeout",Ct),We.reportProgress&&(Wt.removeEventListener("progress",Qe),null!==Ie&&Wt.upload&&Wt.upload.removeEventListener("progress",qe)),Wt.readyState!==Wt.DONE&&Wt.abort()}})}}return Et.\u0275fac=function(We){return new(We||Et)(ee.LFG(a.JF))},Et.\u0275prov=ee.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const Nt=new ee.OlP("XSRF_ENABLED"),bn=new ee.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),In=new ee.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class dr{}let pr=(()=>{class Et{constructor(We,kt,Wt){this.doc=We,this.platform=kt,this.cookieName=Wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const We=this.doc.cookie||"";return We!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)(We,this.cookieName),this.lastCookieString=We),this.lastToken}}return Et.\u0275fac=function(We){return new(We||Et)(ee.LFG(a.K0),ee.LFG(ee.Lbi),ee.LFG(bn))},Et.\u0275prov=ee.Yz7({token:Et,factory:Et.\u0275fac}),Et})();function un(Et,Ae){const We=Et.url.toLowerCase();if(!(0,ee.f3M)(Nt)||"GET"===Et.method||"HEAD"===Et.method||We.startsWith("http://")||We.startsWith("https://"))return Ae(Et);const kt=(0,ee.f3M)(dr).getToken(),Wt=(0,ee.f3M)(In);return null!=kt&&!Et.headers.has(Wt)&&(Et=Et.clone({headers:Et.headers.set(Wt,kt)})),Ae(Et)}var hn=(()=>((hn=hn||{})[hn.Interceptors=0]="Interceptors",hn[hn.LegacyInterceptors=1]="LegacyInterceptors",hn[hn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",hn[hn.NoXsrfProtection=3]="NoXsrfProtection",hn[hn.JsonpSupport=4]="JsonpSupport",hn[hn.RequestsMadeViaParent=5]="RequestsMadeViaParent",hn))();function Fn(Et,Ae){return{\u0275kind:Et,\u0275providers:Ae}}function lr(...Et){const Ae=[bt,mt,ut,{provide:De,useExisting:ut},{provide:ke,useExisting:mt},{provide:lt,useValue:un,multi:!0},{provide:Nt,useValue:!0},{provide:dr,useClass:pr}];for(const We of Et)Ae.push(...We.\u0275providers);return(0,ee.MR2)(Ae)}const yr=new ee.OlP("LEGACY_INTERCEPTOR_FN");let Qr=(()=>{class Et{}return Et.\u0275fac=function(We){return new(We||Et)},Et.\u0275mod=ee.oAB({type:Et}),Et.\u0275inj=ee.cJS({providers:[lr(Fn(hn.LegacyInterceptors,[{provide:yr,useFactory:Xe},{provide:lt,useExisting:yr,multi:!0}]))]}),Et})()},4650:(_n,yt,V)=>{"use strict";V.d(yt,{$8M:()=>Ol,$WT:()=>Jr,$Z:()=>cg,AFp:()=>EE,ALo:()=>j0,AaK:()=>De,CRH:()=>Q0,CZH:()=>pv,CqO:()=>Ep,D6c:()=>Mw,EJc:()=>GI,F$t:()=>Cp,F4k:()=>_p,FYo:()=>Ta,FiY:()=>Vr,G48:()=>hw,Gf:()=>Z0,GfV:()=>Mm,GkF:()=>qg,Gpc:()=>ie,Hsn:()=>Dp,JOm:()=>$i,LFG:()=>cn,LSH:()=>Sa,Lbi:()=>jI,Lck:()=>X_,MMx:()=>u,MR2:()=>Vf,NdJ:()=>ff,OlP:()=>Si,Oqu:()=>Ec,P3R:()=>$f,PXZ:()=>ow,Q6J:()=>Gg,QGY:()=>Mh,Qsj:()=>fu,R0b:()=>Vu,RDi:()=>xu,Rgc:()=>Am,SBq:()=>ui,Sil:()=>KI,Suo:()=>X0,TTD:()=>ys,TgZ:()=>hf,VKq:()=>F0,X6Q:()=>dw,XFs:()=>St,Xpm:()=>Cr,Xts:()=>zh,Y36:()=>qc,YKP:()=>Dm,YNc:()=>mp,Yjl:()=>Ni,Yz7:()=>Vt,Z0I:()=>An,ZZ4:()=>b0,_Bn:()=>uv,_UZ:()=>yp,_Vd:()=>ln,_c5:()=>Aw,_uU:()=>Oy,aQg:()=>C0,c2e:()=>HI,cJS:()=>Ot,cg1:()=>$p,dDg:()=>nw,dqk:()=>un,eFA:()=>PE,eJc:()=>a0,ekj:()=>im,eoX:()=>xE,evT:()=>gc,f3M:()=>Et,g9A:()=>wE,h0i:()=>Gd,hGG:()=>xw,hij:()=>Bd,iGM:()=>q0,ifc:()=>Ct,ip1:()=>_E,jDz:()=>b,kL8:()=>lm,lG2:()=>es,lcZ:()=>H0,lqb:()=>Pu,lri:()=>TE,n5z:()=>yu,oAB:()=>oi,oxw:()=>Qg,q4F:()=>eg,qLn:()=>lh,qOj:()=>xg,qZA:()=>_c,rWj:()=>AE,sBO:()=>fw,s_b:()=>dv,soG:()=>gv,tb:()=>RE,tp0:()=>B,uIk:()=>df,vHH:()=>Re,vpe:()=>fd,wAp:()=>kr,xp6:()=>zo,z2F:()=>mv,zSh:()=>Td,zs3:()=>Fu});var a=V(7579),ee=V(727),z=V(9751),Ce=V(6451),Te=V(3099);function be(n){for(let r in n)if(n[r]===be)return r;throw Error("Could not find renamed property on target object.")}function ge(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function De(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(De).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ke(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ve=be({__forward_ref__:be});function ie(n){return n.__forward_ref__=ie,n.toString=function(){return De(this())},n}function ce(n){return xe(n)?n():n}function xe(n){return"function"==typeof n&&n.hasOwnProperty(ve)&&n.__forward_ref__===ie}function ze(n){return n&&!!n.\u0275providers}const Mt="https://g.co/ng/security#xss";class Re extends Error{constructor(r,o){super(ye(r,o)),this.code=r}}function ye(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function de(n){return"string"==typeof n?n:null==n?"":String(n)}function Oe(n,r){throw new Re(-201,!1)}function lt(n,r){null==n&&function Xe(n,r,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${r} <=Actual]`))}(r,n,null,"!=")}function Vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function $n(n){return Mn(n,cr)||Mn(n,mt)}function An(n){return null!==$n(n)}function Mn(n,r){return n.hasOwnProperty(r)?n[r]:null}function er(n){return n&&(n.hasOwnProperty(At)||n.hasOwnProperty(Nt))?n[At]:null}const cr=be({\u0275prov:be}),At=be({\u0275inj:be}),mt=be({ngInjectableDef:be}),Nt=be({ngInjectorDef:be});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let bn;function In(n){const r=bn;return bn=n,r}function dr(n,r,o){const l=$n(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&St.Optional?null:void 0!==r?r:void Oe(De(n))}const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lr={},nn="__NG_DI_FLAG__",yr="ngTempTokenPath",ni="ngTokenPath",ri=/\n/gm,xr="\u0275",ii="__source";let rr;function Hn(n){const r=rr;return rr=n,r}function Qr(n,r=St.Default){if(void 0===rr)throw new Re(-203,!1);return null===rr?dr(n,void 0,r):rr.get(n,r&St.Optional?null:void 0,r)}function cn(n,r=St.Default){return(function on(){return bn}()||Qr)(ce(n),r)}function Et(n,r=St.Default){return cn(n,Ae(r))}function Ae(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function We(n){const r=[];for(let o=0;o<n.length;o++){const l=ce(n[o]);if(Array.isArray(l)){if(0===l.length)throw new Re(900,!1);let p,E=St.Default;for(let S=0;S<l.length;S++){const P=l[S],$=Wt(P);"number"==typeof $?-1===$?p=P.token:E|=$:p=P}r.push(cn(p,E))}else r.push(cn(l))}return r}function kt(n,r){return n[nn]=r,n.prototype[nn]=r,n}function Wt(n){return n[nn]}function Ye(n){return{toString:n}.toString()}var Rt=(()=>((Rt=Rt||{})[Rt.OnPush=0]="OnPush",Rt[Rt.Default=1]="Default",Rt))(),Ct=(()=>{return(n=Ct||(Ct={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ct;var n})();const wn={},Qe=[],qe=be({\u0275cmp:be}),me=be({\u0275dir:be}),_t=be({\u0275pipe:be}),zt=be({\u0275mod:be}),en=be({\u0275fac:be}),On=be({__NG_ELEMENT_ID__:be});let Kn=0;function Cr(n){return Ye(()=>{const r=Mr(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ct.Emulated,id:"c"+Kn++,styles:n.styles||Qe,_:null,schemas:n.schemas||null,tView:null};Ii(o);const l=n.dependencies;return o.directiveDefs=Wi(l,!1),o.pipeDefs=Wi(l,!0),o})}function bi(n){return ir(n)||$r(n)}function ji(n){return null!==n}function oi(n){return Ye(()=>({type:n.type,bootstrap:n.bootstrap||Qe,declarations:n.declarations||Qe,imports:n.imports||Qe,exports:n.exports||Qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fr(n,r){if(null==n)return wn;const o={};for(const l in n)if(n.hasOwnProperty(l)){let p=n[l],E=p;Array.isArray(p)&&(E=p[1],p=p[0]),o[p]=l,r&&(r[p]=E)}return o}function es(n){return Ye(()=>{const r=Mr(n);return Ii(r),r})}function Ni(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ir(n){return n[qe]||null}function $r(n){return n[me]||null}function Lr(n){return n[_t]||null}function Jr(n){const r=ir(n)||$r(n)||Lr(n);return null!==r&&r.standalone}function ei(n,r){const o=n[zt]||null;if(!o&&!0===r)throw new Error(`Type ${De(n)} does not have '\u0275mod' property.`);return o}function Mr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Qe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fr(n.inputs,r),outputs:Fr(n.outputs)}}function Ii(n){var r;null===(r=n.features)||void 0===r||r.forEach(o=>o(n))}function Wi(n,r){if(!n)return null;const o=r?Lr:bi;return()=>("function"==typeof n?n():n).map(l=>o(l)).filter(ji)}const wi=0,En=1,Yn=2,Hr=3,he=4,nt=5,F=6,Y=7,re=8,oe=9,He=10,J=11,_e=12,$e=13,rt=14,It=15,Gt=16,pn=17,vn=18,Wn=19,gr=20,ct=21,Ke=22,Lt=1,Xt=2,gn=7,Zn=8,or=9,hr=10;function si(n){return Array.isArray(n)&&"object"==typeof n[Lt]}function di(n){return Array.isArray(n)&&!0===n[Lt]}function zr(n){return 0!=(4&n.flags)}function Tr(n){return n.componentOffset>-1}function hi(n){return 1==(1&n.flags)}function Hi(n){return!!n.template}function po(n){return 0!=(256&n[Yn])}function xi(n,r){return n.hasOwnProperty(en)?n[en]:null}class Mi{constructor(r,o,l){this.previousValue=r,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function ys(){return _i}function _i(n){return n.type.prototype.ngOnChanges&&(n.setInput=ns),qs}function qs(){const n=yo(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===wn)n.previous=r;else for(let l in r)o[l]=r[l];n.current=null,this.ngOnChanges(r)}}function ns(n,r,o,l){const p=this.declaredInputs[o],E=yo(n)||function Ao(n,r){return n[Cs]=r}(n,{previous:wn,current:null}),S=E.current||(E.current={}),P=E.previous,$=P[p];S[p]=new Mi($&&$.currentValue,r,P===wn),n[l]=r}ys.ngInherit=!0;const Cs="__ngSimpleChanges__";function yo(n){return n[Cs]||null}const Nr=function(n,r,o){};function ci(n){for(;Array.isArray(n);)n=n[wi];return n}function Zs(n,r){return ci(r[n])}function Dr(n,r){return ci(r[n.index])}function Ko(n,r){return n.data[r]}function Ei(n,r){const o=r[n];return si(o)?o:o[wi]}function Ji(n){return 64==(64&n[Yn])}function fr(n,r){return null==r?null:n[r]}function xo(n){n[vn]=0}function Mo(n,r){n[nt]+=r;let o=n,l=n[Hr];for(;null!==l&&(1===r&&1===o[nt]||-1===r&&0===o[nt]);)l[nt]+=r,o=l,l=l[Hr]}const Ir={lFrame:Ra(null),bindingsEnabled:!0};function Ss(){return Ir.bindingsEnabled}function I(){return Ir.lFrame.lView}function h(){return Ir.lFrame.tView}function et(){let n=an();for(;null!==n&&64===n.type;)n=n.parent;return n}function an(){return Ir.lFrame.currentTNode}function Gn(n,r){const o=Ir.lFrame;o.currentTNode=n,o.isParent=r}function Or(){return Ir.lFrame.isParent}function Gr(){Ir.lFrame.isParent=!1}function qr(){const n=Ir.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Jo(){return Ir.lFrame.bindingIndex++}function Ma(n,r){const o=Ir.lFrame;o.bindingIndex=o.bindingRootIndex=n,Oo(r)}function Oo(n){Ir.lFrame.currentDirectiveIndex=n}function ca(){return Ir.lFrame.currentQueryIndex}function Lo(n){Ir.lFrame.currentQueryIndex=n}function Ml(n){const r=n[En];return 2===r.type?r.declTNode:1===r.type?n[F]:null}function Ls(n,r,o){if(o&St.SkipSelf){let p=r,E=n;for(;!(p=p.parent,null!==p||o&St.Host||(p=Ml(E),null===p||(E=E[It],10&p.type))););if(null===p)return!1;r=p,n=E}const l=Ir.lFrame=fl();return l.currentTNode=r,l.lView=n,!0}function ta(n){const r=fl(),o=n[En];Ir.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function fl(){const n=Ir.lFrame,r=null===n?null:n.child;return null===r?Ra(n):r}function Ra(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Js(){const n=Ir.lFrame;return Ir.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const da=Js;function _o(){const n=Js();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zi(){return Ir.lFrame.selectedIndex}function ls(n){Ir.lFrame.selectedIndex=n}function fi(){const n=Ir.lFrame;return Ko(n.tView,n.selectedIndex)}function Vo(n,r){for(let o=r.directiveStart,l=r.directiveEnd;o<l;o++){const E=n.data[o].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:P,ngAfterViewInit:$,ngAfterViewChecked:X,ngOnDestroy:le}=E;S&&(n.contentHooks||(n.contentHooks=[])).push(-o,S),P&&((n.contentHooks||(n.contentHooks=[])).push(o,P),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,P)),$&&(n.viewHooks||(n.viewHooks=[])).push(-o,$),X&&((n.viewHooks||(n.viewHooks=[])).push(o,X),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,X)),null!=le&&(n.destroyHooks||(n.destroyHooks=[])).push(o,le)}}function ha(n,r,o){U(n,r,3,o)}function k(n,r,o,l){(3&n[Yn])===o&&U(n,r,o,l)}function K(n,r){let o=n[Yn];(3&o)===r&&(o&=2047,o+=1,n[Yn]=o)}function U(n,r,o,l){const E=null!=l?l:-1,S=r.length-1;let P=0;for(let $=void 0!==l?65535&n[vn]:0;$<S;$++)if("number"==typeof r[$+1]){if(P=r[$],null!=l&&P>=l)break}else r[$]<0&&(n[vn]+=65536),(P<E||-1==E)&&(se(n,o,r,$),n[vn]=(4294901760&n[vn])+$+2),$++}function se(n,r,o,l){const p=o[l]<0,E=o[l+1],P=n[p?-o[l]:o[l]];if(p){if(n[Yn]>>11<n[vn]>>16&&(3&n[Yn])===r){n[Yn]+=2048,Nr(4,P,E);try{E.call(P)}finally{Nr(5,P,E)}}}else{Nr(4,P,E);try{E.call(P)}finally{Nr(5,P,E)}}}const we=-1;class Bt{constructor(r,o,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Nn(n,r,o){let l=0;for(;l<o.length;){const p=o[l];if("number"==typeof p){if(0!==p)break;l++;const E=o[l++],S=o[l++],P=o[l++];n.setAttribute(r,S,P,E)}else{const E=p,S=o[++l];fn(E)?n.setProperty(r,E,S):n.setAttribute(r,E,S),l++}}return l}function Yo(n){return 3===n||4===n||6===n}function fn(n){return 64===n.charCodeAt(0)}function $t(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let l=0;l<r.length;l++){const p=r[l];"number"==typeof p?o=p:0===o||rn(n,o,p,null,-1===o||2===o?r[++l]:null)}}return n}function rn(n,r,o,l,p){let E=0,S=n.length;if(-1===r)S=-1;else for(;E<n.length;){const P=n[E++];if("number"==typeof P){if(P===r){S=-1;break}if(P>r){S=E-1;break}}}for(;E<n.length;){const P=n[E];if("number"==typeof P)break;if(P===o){if(null===l)return void(null!==p&&(n[E+1]=p));if(l===n[E+1])return void(n[E+2]=p)}E++,null!==l&&E++,null!==p&&E++}-1!==S&&(n.splice(S,0,r),E=S+1),n.splice(E++,0,o),null!==l&&n.splice(E++,0,l),null!==p&&n.splice(E++,0,p)}function Oi(n){return n!==we}function Gs(n){return 32767&n}function Pa(n,r){let o=function Oa(n){return n>>16}(n),l=r;for(;o>0;)l=l[It],o--;return l}let ml=!0;function na(n){const r=ml;return ml=n,r}const Na=255,ka=5;let yl=0;const oo={};function Ar(n,r){const o=pa(n,r);if(-1!==o)return o;const l=r[En];l.firstCreatePass&&(n.injectorIndex=r.length,eo(l.data,n),eo(r,null),eo(l.blueprint,null));const p=pi(n,r),E=n.injectorIndex;if(Oi(p)){const S=Gs(p),P=Pa(p,r),$=P[En].data;for(let X=0;X<8;X++)r[E+X]=P[S+X]|$[S+X]}return r[E+8]=p,E}function eo(n,r){n.push(0,0,0,0,0,0,0,0,r)}function pa(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function pi(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,p=r;for(;null!==p;){if(l=ao(p),null===l)return we;if(o++,p=p[It],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return we}function ar(n,r,o){!function fa(n,r,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(On)&&(l=o[On]),null==l&&(l=o[On]=yl++);const p=l&Na;r.data[n+(p>>ka)]|=1<<p}(n,r,o)}function Zr(n,r,o){if(o&St.Optional||void 0!==n)return n;Oe()}function Uu(n,r,o,l){if(o&St.Optional&&void 0===l&&(l=null),!(o&(St.Self|St.Host))){const p=n[oe],E=In(void 0);try{return p?p.get(r,l,o&St.Optional):dr(r,l,o&St.Optional)}finally{In(E)}}return Zr(l,0,o)}function gi(n,r,o,l=St.Default,p){if(null!==n){if(1024&r[Yn]){const S=function tl(n,r,o,l,p){let E=n,S=r;for(;null!==E&&null!==S&&1024&S[Yn]&&!(256&S[Yn]);){const P=Ln(E,S,o,l|St.Self,oo);if(P!==oo)return P;let $=E.parent;if(!$){const X=S[ct];if(X){const le=X.get(o,oo,l);if(le!==oo)return le}$=ao(S),S=S[It]}E=$}return p}(n,r,o,l,oo);if(S!==oo)return S}const E=Ln(n,r,o,l,oo);if(E!==oo)return E}return Uu(r,o,l,p)}function Ln(n,r,o,l,p){const E=function el(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(On)?n[On]:void 0;return"number"==typeof r?r>=0?r&Na:Rl:r}(o);if("function"==typeof E){if(!Ls(r,n,l))return l&St.Host?Zr(p,0,l):Uu(r,o,l,p);try{const S=E(l);if(null!=S||l&St.Optional)return S;Oe()}finally{da()}}else if("number"==typeof E){let S=null,P=pa(n,r),$=we,X=l&St.Host?r[Gt][F]:null;for((-1===P||l&St.SkipSelf)&&($=-1===P?pi(n,r):r[P+8],$!==we&&ma(l,!1)?(S=r[En],P=Gs($),r=Pa($,r)):P=-1);-1!==P;){const le=r[En];if(La(E,P,le.data)){const Le=Bi(P,r,o,S,l,X);if(Le!==oo)return Le}$=r[P+8],$!==we&&ma(l,r[En].data[P+8]===X)&&La(E,P,r)?(S=le,P=Gs($),r=Pa($,r)):P=-1}}return p}function Bi(n,r,o,l,p,E){const S=r[En],P=S.data[n+8],le=Fa(P,S,o,null==l?Tr(P)&&ml:l!=S&&0!=(3&P.type),p&St.Host&&E===P);return null!==le?Bs(r,S,le,P):oo}function Fa(n,r,o,l,p){const E=n.providerIndexes,S=r.data,P=1048575&E,$=n.directiveStart,le=E>>20,Dt=p?P+le:n.directiveEnd;for(let Ht=l?P:P+le;Ht<Dt;Ht++){const dn=S[Ht];if(Ht<$&&o===dn||Ht>=$&&dn.type===o)return Ht}if(p){const Ht=S[$];if(Ht&&Hi(Ht)&&Ht.type===o)return $}return null}function Bs(n,r,o,l){let p=n[o];const E=r.data;if(function Qt(n){return n instanceof Bt}(p)){const S=p;S.resolving&&function Be(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Re(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():de(n)}(E[o]));const P=na(S.canSeeViewProviders);S.resolving=!0;const $=S.injectImpl?In(S.injectImpl):null;Ls(n,l,St.Default);try{p=n[o]=S.factory(void 0,E,n,l),r.firstCreatePass&&o>=l.directiveStart&&function gl(n,r,o){const{ngOnChanges:l,ngOnInit:p,ngDoCheck:E}=r.type.prototype;if(l){const S=_i(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,S),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,S)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,p),E&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,E))}(o,E[o],r)}finally{null!==$&&In($),na(P),S.resolving=!1,da()}}return p}function La(n,r,o){return!!(o[r+(n>>ka)]&1<<n)}function ma(n,r){return!(n&St.Self||n&St.Host&&r)}class rs{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,l){return gi(this._tNode,this._lView,r,Ae(l),o)}}function Rl(){return new rs(et(),I())}function yu(n){return Ye(()=>{const r=n.prototype.constructor,o=r[en]||is(r),l=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==l;){const E=p[en]||is(p);if(E&&E!==o)return E;p=Object.getPrototypeOf(p)}return E=>new E})}function is(n){return xe(n)?()=>{const r=is(ce(n));return r&&r()}:xi(n)}function ao(n){const r=n[En],o=r.type;return 2===o?r.declTNode:1===o?n[F]:null}function Ol(n){return function ga(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const l=o.length;let p=0;for(;p<l;){const E=o[p];if(Yo(E))break;if(0===E)p+=2;else if("number"==typeof E)for(p++;p<l&&"string"==typeof o[p];)p++;else{if(E===r)return o[p+1];p+=2}}}return null}(et(),n)}const ra="__parameters__";function nl(n,r,o){return Ye(()=>{const l=function lo(n){return function(...o){if(n){const l=n(...o);for(const p in l)this[p]=l[p]}}}(r);function p(...E){if(this instanceof p)return l.apply(this,E),this;const S=new p(...E);return P.annotation=S,P;function P($,X,le){const Le=$.hasOwnProperty(ra)?$[ra]:Object.defineProperty($,ra,{value:[]})[ra];for(;Le.length<=le;)Le.push(null);return(Le[le]=Le[le]||[]).push(S),$}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class Si{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Vt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $s(n,r){n.forEach(o=>Array.isArray(o)?$s(o,r):r(o))}function $a(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function sa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function oa(n,r){const o=[];for(let l=0;l<n;l++)o.push(r);return o}function jo(n,r,o){let l=M(n,r);return l>=0?n[1|l]=o:(l=~l,function _u(n,r,o,l){let p=n.length;if(p==r)n.push(o,l);else if(1===p)n.push(l,n[0]),n[0]=o;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=o,n[r+1]=l}}(n,l,r,o)),l}function T(n,r){const o=M(n,r);if(o>=0)return n[1|o]}function M(n,r){return function R(n,r,o){let l=0,p=n.length>>o;for(;p!==l;){const E=l+(p-l>>1),S=n[E<<o];if(r===S)return E<<o;S>r?p=E:l=E+1}return~(p<<o)}(n,r,1)}const Vr=kt(nl("Optional"),8),B=kt(nl("SkipSelf"),4);var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();const zu=new Map;let Iu=0;const Yu="__ngContext__";function Co(n,r){si(r)?(n[Yu]=r[gr],function Gu(n){zu.set(n[gr],n)}(r)):n[Yu]=r}let Cu;function Fl(n,r){return Cu(n,r)}function Ll(n){const r=n[Hr];return di(r)?r[Hr]:r}function Pc(n){return ol(n[$e])}function co(n){return ol(n[he])}function ol(n){for(;null!==n&&!di(n);)n=n[he];return n}function Ha(n,r,o,l,p){if(null!=l){let E,S=!1;di(l)?E=l:si(l)&&(S=!0,l=l[wi]);const P=ci(l);0===n&&null!==o?null==p?jl(r,o,P):Cl(r,o,P,p||null,!0):1===n&&null!==o?Cl(r,o,P,p||null,!0):2===n?function rc(n,r,o){const l=Ho(n,r);l&&function ds(n,r,o,l){n.removeChild(r,o,l)}(n,l,r,o)}(r,P,S):3===n&&r.destroyNode(P),null!=E&&function al(n,r,o,l,p){const E=o[gn];E!==ci(o)&&Ha(r,n,l,E,p);for(let P=hr;P<o.length;P++){const $=o[P];za($[En],$,n,r,l,E)}}(r,n,E,o,p)}}function ba(n,r,o){return n.createElement(r,o)}function Vl(n,r){const o=n[or],l=o.indexOf(r),p=r[Hr];512&r[Yn]&&(r[Yn]&=-513,Mo(p,-1)),o.splice(l,1)}function au(n,r){if(n.length<=hr)return;const o=hr+r,l=n[o];if(l){const p=l[pn];null!==p&&p!==n&&Vl(p,l),r>0&&(n[o-1][he]=l[he]);const E=sa(n,hr+r);!function ou(n,r){za(n,r,r[J],2,null,null),r[wi]=null,r[F]=null}(l[En],l);const S=E[Wn];null!==S&&S.detachView(E[En]),l[Hr]=null,l[he]=null,l[Yn]&=-65}return l}function md(n,r){if(!(128&r[Yn])){const o=r[J];o.destroyNode&&za(n,r,o,3,null,null),function Ju(n){let r=n[$e];if(!r)return Ul(n[En],n);for(;r;){let o=null;if(si(r))o=r[$e];else{const l=r[hr];l&&(o=l)}if(!o){for(;r&&!r[he]&&r!==n;)si(r)&&Ul(r[En],r),r=r[Hr];null===r&&(r=n),si(r)&&Ul(r[En],r),o=r&&r[he]}r=o}}(r)}}function Ul(n,r){if(!(128&r[Yn])){r[Yn]&=-65,r[Yn]|=128,function bl(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const p=r[o[l]];if(!(p instanceof Bt)){const E=o[l+1];if(Array.isArray(E))for(let S=0;S<E.length;S+=2){const P=p[E[S]],$=E[S+1];Nr(4,P,$);try{$.call(P)}finally{Nr(5,P,$)}}else{Nr(4,p,E);try{E.call(p)}finally{Nr(5,p,E)}}}}}(n,r),function yd(n,r){const o=n.cleanup,l=r[Y];let p=-1;if(null!==o)for(let E=0;E<o.length-1;E+=2)if("string"==typeof o[E]){const S=o[E+3];S>=0?l[p=S]():l[p=-S].unsubscribe(),E+=2}else{const S=l[p=o[E+1]];o[E].call(S)}if(null!==l){for(let E=p+1;E<l.length;E++)(0,l[E])();r[Y]=null}}(n,r),1===r[En].type&&r[J].destroy();const o=r[pn];if(null!==o&&di(r[Hr])){o!==r[Hr]&&Vl(o,r);const l=r[Wn];null!==l&&l.detachView(n)}!function Di(n){zu.delete(n[gr])}(r)}}function Qd(n,r,o){return function ro(n,r,o){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return o[wi];{const{componentOffset:p}=l;if(p>-1){const{encapsulation:E}=n.data[l.directiveStart+p];if(E===Ct.None||E===Ct.Emulated)return null}return Dr(l,o)}}(n,r.parent,o)}function Cl(n,r,o,l,p){n.insertBefore(r,o,l,p)}function jl(n,r,o){n.appendChild(r,o)}function Fc(n,r,o,l,p){null!==l?Cl(n,r,o,l,p):jl(n,r,o)}function Ho(n,r){return n.parentNode(r)}function aa(n,r,o){return vd(n,r,o)}let Hl,Ed,Mu,vd=function Rr(n,r,o){return 40&n.type?Dr(n,o):null};function $c(n,r,o,l){const p=Qd(n,l,r),E=r[J],P=aa(l.parent||r[F],l,r);if(null!=p)if(Array.isArray(o))for(let $=0;$<o.length;$++)Fc(E,p,o[$],P,!1);else Fc(E,p,o,P,!1);void 0!==Hl&&Hl(E,l,r,o,p)}function tc(n,r){if(null!==r){const o=r.type;if(3&o)return Dr(r,n);if(4&o)return Su(-1,n[r.index]);if(8&o){const l=r.child;if(null!==l)return tc(n,l);{const p=n[r.index];return di(p)?Su(-1,p):ci(p)}}if(32&o)return Fl(r,n)()||ci(n[r.index]);{const l=nc(n,r);return null!==l?Array.isArray(l)?l[0]:tc(Ll(n[Gt]),l):tc(n,r.next)}}return null}function nc(n,r){return null!==r?n[Gt][F].projection[r.projection]:null}function Su(n,r){const o=hr+n+1;if(o<r.length){const l=r[o],p=l[En].firstChild;if(null!==p)return tc(l,p)}return r[gn]}function Tu(n,r,o,l,p,E,S){for(;null!=o;){const P=l[o.index],$=o.type;if(S&&0===r&&(P&&Co(ci(P),l),o.flags|=2),32!=(32&o.flags))if(8&$)Tu(n,r,o.child,l,p,E,!1),Ha(r,n,p,P,E);else if(32&$){const X=Fl(o,l);let le;for(;le=X();)Ha(r,n,p,le,E);Ha(r,n,p,P,E)}else 16&$?Sl(n,r,l,o,p,E):Ha(r,n,p,P,E);o=S?o.projectionNext:o.next}}function za(n,r,o,l,p,E){Tu(o,l,n.firstChild,r,p,E,!1)}function Sl(n,r,o,l,p,E){const S=o[Gt],$=S[F].projection[l.projection];if(Array.isArray($))for(let X=0;X<$.length;X++)Ha(r,n,p,$[X],E);else Tu(n,r,$,S[Hr],p,E,!0)}function ic(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Vc(n,r,o){const{mergedAttrs:l,classes:p,styles:E}=o;null!==l&&Nn(n,r,l),null!==p&&ic(n,r,p),null!==E&&function Ca(n,r,o){n.setAttribute(r,"style",o)}(n,r,E)}function xu(n){Ed=n}function Id(n){var r;return(null===(r=function Vs(){if(void 0===Mu&&(Mu=null,un.trustedTypes))try{Mu=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Mu}())||void 0===r?void 0:r.createScriptURL(n))||n}class Wa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mt})`}}function zl(n){return n instanceof Wa?n.changingThisBreaksApplicationSecurity:n}function cu(n,r){const o=function Vh(n){return n instanceof Wa&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Mt})`)}return o===r}const kn=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var io=(()=>((io=io||{})[io.NONE=0]="NONE",io[io.HTML=1]="HTML",io[io.STYLE=2]="STYLE",io[io.SCRIPT=3]="SCRIPT",io[io.URL=4]="URL",io[io.RESOURCE_URL=5]="RESOURCE_URL",io))();function Sa(n){const r=Sd();return r?r.sanitize(io.URL,n)||"":cu(n,"URL")?zl(n):function Qn(n){return(n=String(n)).match(kn)?n:"unsafe:"+n}(de(n))}function fo(n){const r=Sd();if(r)return Id(r.sanitize(io.RESOURCE_URL,n)||"");if(cu(n,"ResourceURL"))return Id(zl(n));throw new Re(904,!1)}function $f(n,r,o){return function Bf(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?fo:Sa}(r,o)(n)}function Sd(){const n=I();return n&&n[_e]}const zh=new Si("ENVIRONMENT_INITIALIZER"),du=new Si("INJECTOR",-1),cc=new Si("INJECTOR_DEF_TYPES");class sh{get(r,o=lr){if(o===lr){const l=new Error(`NullInjectorError: No provider for ${De(r)}!`);throw l.name="NullInjectorError",l}return o}}function Vf(n){return{\u0275providers:n}}function Gh(...n){return{\u0275providers:Gl(0,n),\u0275fromNgModule:!0}}function Gl(n,...r){const o=[],l=new Set;let p;return $s(r,E=>{const S=E;Wh(S,o,[],l)&&(p||(p=[]),p.push(S))}),void 0!==p&&dc(p,o),o}function dc(n,r){for(let o=0;o<n.length;o++){const{providers:p}=n[o];Wc(p,E=>{r.push(E)})}}function Wh(n,r,o,l){if(!(n=ce(n)))return!1;let p=null,E=er(n);const S=!E&&ir(n);if(E||S){if(S&&!S.standalone)return!1;p=n}else{const $=n.ngModule;if(E=er($),!E)return!1;p=$}const P=l.has(p);if(S){if(P)return!1;if(l.add(p),S.dependencies){const $="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const X of $)Wh(X,r,o,l)}}else{if(!E)return!1;{if(null!=E.imports&&!P){let X;l.add(p);try{$s(E.imports,le=>{Wh(le,r,o,l)&&(X||(X=[]),X.push(le))})}finally{}void 0!==X&&dc(X,r)}if(!P){const X=xi(p)||(()=>new p);r.push({provide:p,useFactory:X,deps:Qe},{provide:cc,useValue:p,multi:!0},{provide:zh,useValue:()=>cn(p),multi:!0})}const $=E.providers;null==$||P||Wc($,le=>{r.push(le)})}}return p!==n&&void 0!==n.providers}function Wc(n,r){for(let o of n)ze(o)&&(o=o.\u0275providers),Array.isArray(o)?Wc(o,r):r(o)}const hc=be({provide:String,useValue:be});function Wl(n){return null!==n&&"object"==typeof n&&hc in n}function Ou(n){return"function"==typeof n}const Td=new Si("Set Injector scope."),Kc={},jf={};let Yh;function Yc(){return void 0===Yh&&(Yh=new sh),Yh}class Pu{}class Ad extends Pu{get destroyed(){return this._destroyed}constructor(r,o,l,p){super(),this.parent=o,this.source=l,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,L(r,S=>this.processProvider(S)),this.records.set(du,c(void 0,this)),p.has("environment")&&this.records.set(Pu,c(void 0,this));const E=this.records.get(Td);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(cc.multi,Qe,St.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=Hn(this),l=In(void 0);try{return r()}finally{Hn(o),In(l)}}get(r,o=lr,l=St.Default){this.assertNotDestroyed(),l=Ae(l);const p=Hn(this),E=In(void 0);try{if(!(l&St.SkipSelf)){let P=this.records.get(r);if(void 0===P){const $=function A(n){return"function"==typeof n||"object"==typeof n&&n instanceof Si}(r)&&$n(r);P=$&&this.injectableDefInScope($)?c(pc(r),Kc):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(l&St.Self?Yc():this.parent).get(r,o=l&St.Optional&&o===lr?null:o)}catch(S){if("NullInjectorError"===S.name){if((S[yr]=S[yr]||[]).unshift(De(r)),p)throw S;return function Ie(n,r,o,l){const p=n[yr];throw r[ii]&&p.unshift(r[ii]),n.message=function Ee(n,r,o,l=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==xr?n.slice(2):n;let p=De(r);if(Array.isArray(r))p=r.map(De).join(" -> ");else if("object"==typeof r){let E=[];for(let S in r)if(r.hasOwnProperty(S)){let P=r[S];E.push(S+":"+("string"==typeof P?JSON.stringify(P):De(P)))}p=`{${E.join(", ")}}`}return`${o}${l?"("+l+")":""}[${p}]: ${n.replace(ri,"\n  ")}`}("\n"+n.message,p,o,l),n[ni]=p,n[yr]=null,n}(S,r,"R3InjectorError",this.source)}throw S}finally{In(E),Hn(p)}}resolveInjectorInitializers(){const r=Hn(this),o=In(void 0);try{const l=this.get(zh.multi,Qe,St.Self);for(const p of l)p()}finally{Hn(r),In(o)}}toString(){const r=[],o=this.records;for(const l of o.keys())r.push(De(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(r){let o=Ou(r=ce(r))?r:ce(r&&r.provide);const l=function Jp(n){return Wl(n)?c(void 0,n.useValue):c(f(n),Kc)}(r);if(Ou(r)||!0!==r.multi)this.records.get(o);else{let p=this.records.get(o);p||(p=c(void 0,Kc,!0),p.factory=()=>We(p.multi),this.records.set(o,p)),o=r,p.multi.push(r)}this.records.set(o,l)}hydrate(r,o){return o.value===Kc&&(o.value=jf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function _(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ce(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function pc(n){const r=$n(n),o=null!==r?r.factory:xi(n);if(null!==o)return o;if(n instanceof Si)throw new Re(204,!1);if(n instanceof Function)return function Nu(n){const r=n.length;if(r>0)throw oa(r,"?"),new Re(204,!1);const o=function Un(n){const r=n&&(n[cr]||n[mt]);return r?(function yn(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),r):null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Re(204,!1)}function f(n,r,o){let l;if(Ou(n)){const p=ce(n);return xi(p)||pc(p)}if(Wl(n))l=()=>ce(n.useValue);else if(function fc(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...We(n.deps||[]));else if(function hu(n){return!(!n||!n.useExisting)}(n))l=()=>cn(ce(n.useExisting));else{const p=ce(n&&(n.useClass||n.provide));if(!function d(n){return!!n.deps}(n))return xi(p)||pc(p);l=()=>new p(...We(n.deps))}return l}function c(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function L(n,r){for(const o of n)Array.isArray(o)?L(o,r):o&&ze(o)?L(o.\u0275providers,r):r(o)}class W{}class ae{}class tn{resolveComponentFactory(r){throw function Ne(n){const r=Error(`No component factory found for ${De(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ln=(()=>{class n{}return n.NULL=new tn,n})();function Jn(){return mr(et(),I())}function mr(n,r){return new ui(Dr(n,r))}let ui=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Jn,n})();function Do(n){return n instanceof ui?n.nativeElement:n}class Ta{}let fu=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ku(){const n=I(),o=Ei(et().index,n);return(si(o)?o:n)[J]}(),n})(),oh=(()=>{class n{}return n.\u0275prov=Vt({token:n,providedIn:"root",factory:()=>null}),n})();class Mm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const eg=new Mm("15.2.5"),xd={},ah="ngOriginalError";function Hf(n){return n[ah]}class lh{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Hf(r);for(;o&&Hf(o);)o=Hf(o);return o||null}}function gc(n){return n.ownerDocument}function Ya(n){return n instanceof Function?n():n}function Pm(n,r,o){let l=n.length;for(;;){const p=n.indexOf(r,o);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const E=r.length;if(p+E===l||n.charCodeAt(p+E)<=32)return p}o=p+1}}const Nm="ng-template";function wv(n,r,o){let l=0,p=!0;for(;l<n.length;){let E=n[l++];if("string"==typeof E&&p){const S=n[l++];if(o&&"class"===E&&-1!==Pm(S.toLowerCase(),r,0))return!0}else{if(1===E){for(;l<n.length&&"string"==typeof(E=n[l++]);)if(E.toLowerCase()===r)return!0;return!1}"number"==typeof E&&(p=!1)}}return!1}function Zh(n){return 4===n.type&&n.value!==Nm}function km(n,r,o){return r===(4!==n.type||o?n.value:Nm)}function bv(n,r,o){let l=4;const p=n.attrs||[],E=function Xh(n){for(let r=0;r<n.length;r++)if(Yo(n[r]))return r;return n.length}(p);let S=!1;for(let P=0;P<r.length;P++){const $=r[P];if("number"!=typeof $){if(!S)if(4&l){if(l=2|1&l,""!==$&&!km(n,$,o)||""===$&&1===r.length){if(Kl(l))return!1;S=!0}}else{const X=8&l?$:r[++P];if(8&l&&null!==n.attrs){if(!wv(n.attrs,X,o)){if(Kl(l))return!1;S=!0}continue}const Le=Cv(8&l?"class":$,p,Zh(n),o);if(-1===Le){if(Kl(l))return!1;S=!0;continue}if(""!==X){let Dt;Dt=Le>E?"":p[Le+1].toLowerCase();const Ht=8&l?Dt:null;if(Ht&&-1!==Pm(Ht,X,0)||2&l&&X!==Dt){if(Kl(l))return!1;S=!0}}}}else{if(!S&&!Kl(l)&&!Kl($))return!1;if(S&&Kl($))continue;S=!1,l=$|1&l}}return Kl(l)||S}function Kl(n){return 0==(1&n)}function Cv(n,r,o,l){if(null===r)return-1;let p=0;if(l||!o){let E=!1;for(;p<r.length;){const S=r[p];if(S===n)return p;if(3===S||6===S)E=!0;else{if(1===S||2===S){let P=r[++p];for(;"string"==typeof P;)P=r[++p];continue}if(4===S)break;if(0===S){p+=4;continue}}p+=E?1:2}return-1}return function Fm(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===r)return o;o++}return-1}(r,n)}function ng(n,r,o=!1){for(let l=0;l<r.length;l++)if(bv(n,r[l],o))return!0;return!1}function Lm(n,r){e:for(let o=0;o<r.length;o++){const l=r[o];if(n.length===l.length){for(let p=0;p<n.length;p++)if(n[p]!==l[p])continue e;return!0}}return!1}function Bm(n,r){return n?":not("+r.trim()+")":r}function $m(n){let r=n[0],o=1,l=2,p="",E=!1;for(;o<n.length;){let S=n[o];if("string"==typeof S)if(2&l){const P=n[++o];p+="["+S+(P.length>0?'="'+P+'"':"")+"]"}else 8&l?p+="."+S:4&l&&(p+=" "+S);else""!==p&&!Kl(S)&&(r+=Bm(E,p),p=""),l=S,E=E||!Kl(l);o++}return""!==p&&(r+=Bm(E,p)),r}const Yr={};function zo(n){Vm(h(),I(),Zi()+n,!1)}function Vm(n,r,o,l){if(!l)if(3==(3&r[Yn])){const E=n.preOrderCheckHooks;null!==E&&ha(r,E,o)}else{const E=n.preOrderHooks;null!==E&&k(r,E,0,o)}ls(o)}function Wf(n,r=null,o=null,l){const p=dh(n,r,o,l);return p.resolveInjectorInitializers(),p}function dh(n,r=null,o=null,l,p=new Set){const E=[o||Qe,Gh(n)];return l=l||("object"==typeof n?void 0:De(n)),new Ad(E,r||Yc(),l||null,p)}let Fu=(()=>{class n{static create(o,l){if(Array.isArray(o))return Wf({name:""},l,o,"");{var p;const E=null!==(p=o.name)&&void 0!==p?p:"";return Wf({name:E},o.parent,o.providers,E)}}}return n.THROW_IF_NOT_FOUND=lr,n.NULL=new sh,n.\u0275prov=Vt({token:n,providedIn:"any",factory:()=>cn(du)}),n.__NG_ELEMENT_ID__=-1,n})();function qc(n,r=St.Default){const o=I();return null===o?cn(n,r):gi(et(),o,ce(n),r)}function cg(){throw new Error("invalid")}function dg(n,r){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const E=o[l+1];if(-1!==E){const S=n.data[E];Lo(o[l]),S.contentQueries(2,r[E],E)}}}function Jf(n,r,o,l,p,E,S,P,$,X,le){const Le=r.blueprint.slice();return Le[wi]=p,Le[Yn]=76|l,(null!==le||n&&1024&n[Yn])&&(Le[Yn]|=1024),xo(Le),Le[Hr]=Le[It]=n,Le[re]=o,Le[He]=S||n&&n[He],Le[J]=P||n&&n[J],Le[_e]=$||n&&n[_e]||null,Le[oe]=X||n&&n[oe]||null,Le[F]=E,Le[gr]=function Rc(){return Iu++}(),Le[ct]=le,Le[Gt]=2==r.type?n[Gt]:Le,Le}function yh(n,r,o,l,p){let E=n.data[r];if(null===E)E=function Zo(n,r,o,l,p){const E=an(),S=Or(),$=n.data[r]=function $v(n,r,o,l,p,E){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?E:E&&E.parent,o,r,l,p);return null===n.firstChild&&(n.firstChild=$),null!==E&&(S?null==E.child&&null!==$.parent&&(E.child=$):null===E.next&&(E.next=$,$.prev=E)),$}(n,r,o,l,p),function Ro(){return Ir.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=o,E.value=l,E.attrs=p;const S=function xn(){const n=Ir.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();E.injectorIndex=null===S?-1:S.injectorIndex}return Gn(E,!0),E}function ef(n,r,o,l){if(0===o)return-1;const p=r.length;for(let E=0;E<o;E++)r.push(l),n.blueprint.push(l),n.data.push(null);return p}function ep(n,r,o){ta(r);try{const l=n.viewQuery;null!==l&&lf(1,l,o);const p=n.template;null!==p&&vh(n,r,p,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&dg(n,r),n.staticViewQueries&&lf(2,n.viewQuery,o);const E=n.components;null!==E&&function hg(n,r){for(let o=0;o<r.length;o++)Wv(n,r[o])}(r,E)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[Yn]&=-5,_o()}}function Nd(n,r,o,l){const p=r[Yn];if(128!=(128&p)){ta(r);try{xo(r),function As(n){return Ir.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&vh(n,r,o,2,l);const S=3==(3&p);if(S){const X=n.preOrderCheckHooks;null!==X&&ha(r,X,null)}else{const X=n.preOrderHooks;null!==X&&k(r,X,0,null),K(r,0)}if(function Cg(n){for(let r=Pc(n);null!==r;r=co(r)){if(!r[Xt])continue;const o=r[or];for(let l=0;l<o.length;l++){const p=o[l];512&p[Yn]||Mo(p[Hr],1),p[Yn]|=512}}}(r),function zv(n){for(let r=Pc(n);null!==r;r=co(r))for(let o=hr;o<r.length;o++){const l=r[o],p=l[En];Ji(l)&&Nd(p,l,p.template,l[re])}}(r),null!==n.contentQueries&&dg(n,r),S){const X=n.contentCheckHooks;null!==X&&ha(r,X)}else{const X=n.contentHooks;null!==X&&k(r,X,1),K(r,1)}!function Lv(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const p=o[l];if(p<0)ls(~p);else{const E=p,S=o[++l],P=o[++l];Ma(S,E),P(2,r[E])}}}finally{ls(-1)}}(n,r);const P=n.components;null!==P&&function Qf(n,r){for(let o=0;o<r.length;o++)Gv(n,r[o])}(r,P);const $=n.viewQuery;if(null!==$&&lf(2,$,l),S){const X=n.viewCheckHooks;null!==X&&ha(r,X)}else{const X=n.viewHooks;null!==X&&k(r,X,2),K(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Yn]&=-41,512&r[Yn]&&(r[Yn]&=-513,Mo(r[Hr],-1))}finally{_o()}}}function vh(n,r,o,l,p){const E=Zi(),S=2&l;try{ls(-1),S&&r.length>Ke&&Vm(n,r,Ke,!1),Nr(S?2:0,p),o(l,p)}finally{ls(E),Nr(S?3:1,p)}}function tf(n,r,o){if(zr(r)){const p=r.directiveEnd;for(let E=r.directiveStart;E<p;E++){const S=n.data[E];S.contentQueries&&S.contentQueries(1,o[E],E)}}}function tp(n,r,o){Ss()&&(function Uv(n,r,o,l){const p=o.directiveStart,E=o.directiveEnd;Tr(o)&&function wh(n,r,o){const l=Dr(r,n),p=Zm(o),E=n[He],S=op(n,Jf(n,p,null,o.onPush?32:16,l,r,E,E.createRenderer(l,o),null,null,null));n[r.index]=S}(r,o,n.data[p+o.componentOffset]),n.firstCreatePass||Ar(o,r),Co(l,r);const S=o.initialInputs;for(let P=p;P<E;P++){const $=n.data[P],X=Bs(r,n,P,o);Co(X,r),null!==S&&Hv(0,P-p,X,$,0,S),Hi($)&&(Ei(o.index,r)[re]=Bs(r,n,P,o))}}(n,r,o,Dr(o,r)),64==(64&o.flags)&&ip(n,r,o))}function fg(n,r,o=Dr){const l=r.localNames;if(null!==l){let p=r.index+1;for(let E=0;E<l.length;E+=2){const S=l[E+1],P=-1===S?o(r,n):n[S];n[p++]=P}}}function Zm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=pg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function pg(n,r,o,l,p,E,S,P,$,X){const le=Ke+l,Le=le+p,Dt=function Bv(n,r){const o=[];for(let l=0;l<r;l++)o.push(l<n?null:Yr);return o}(le,Le),Ht="function"==typeof X?X():X;return Dt[En]={type:n,blueprint:Dt,template:o,queries:null,viewQuery:P,declTNode:r,data:Dt.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:$,consts:Ht,incompleteFirstPass:!1}}function Xm(n,r,o,l){const p=kd(r);null===o?p.push(l):(p.push(o),n.firstCreatePass&&yc(n).push(l,p.length-1))}function _h(n,r,o,l){for(let p in n)if(n.hasOwnProperty(p)){o=null===o?{}:o;const E=n[p];null===l?np(o,r,p,E):l.hasOwnProperty(p)&&np(o,r,l[p],E)}return o}function np(n,r,o,l){n.hasOwnProperty(o)?n[o].push(r,l):n[o]=[r,l]}function Ih(n,r){const o=Ei(r,n);16&o[Yn]||(o[Yn]|=32)}function nf(n,r,o,l){if(Ss()){const p=null===l?null:{"":-1},E=function vg(n,r){const o=n.directiveRegistry;let l=null,p=null;if(o)for(let S=0;S<o.length;S++){const P=o[S];if(ng(r,P.selectors,!1))if(l||(l=[]),Hi(P))if(null!==P.findHostDirectiveDefs){const $=[];p=p||new Map,P.findHostDirectiveDefs(P,$,p),l.unshift(...$,P),_g(n,r,$.length)}else l.unshift(P),_g(n,r,0);else{var E;p=p||new Map,null===(E=P.findHostDirectiveDefs)||void 0===E||E.call(P,P,l,p),l.push(P)}}return null===l?null:[l,p]}(n,o);let S,P;null===E?S=P=null:[S,P]=E,null!==S&&rp(n,r,o,S,p,P),p&&function Eg(n,r,o){if(r){const l=n.localNames=[];for(let p=0;p<r.length;p+=2){const E=o[r[p+1]];if(null==E)throw new Re(-301,!1);l.push(r[p],E)}}}(o,l,p)}o.mergedAttrs=$t(o.mergedAttrs,o.attrs)}function rp(n,r,o,l,p,E){for(let X=0;X<l.length;X++)ar(Ar(o,r),n,l[X].type);!function Ig(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,l.length);for(let X=0;X<l.length;X++){const le=l[X];le.providersResolver&&le.providersResolver(le)}let S=!1,P=!1,$=ef(n,r,l.length,null);for(let X=0;X<l.length;X++){const le=l[X];o.mergedAttrs=$t(o.mergedAttrs,le.hostAttrs),Jm(n,o,r,$,le),sp($,le,p),null!==le.contentQueries&&(o.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(o.flags|=64);const Le=le.type.prototype;!S&&(Le.ngOnChanges||Le.ngOnInit||Le.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),S=!0),!P&&(Le.ngOnChanges||Le.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),P=!0),$++}!function Eh(n,r,o){const p=r.directiveEnd,E=n.data,S=r.attrs,P=[];let $=null,X=null;for(let le=r.directiveStart;le<p;le++){const Le=E[le],Dt=o?o.get(Le):null,dn=Dt?Dt.outputs:null;$=_h(Le.inputs,le,$,Dt?Dt.inputs:null),X=_h(Le.outputs,le,X,dn);const Pn=null===$||null===S||Zh(r)?null:ey($,le,S);P.push(Pn)}null!==$&&($.hasOwnProperty("class")&&(r.flags|=8),$.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=P,r.inputs=$,r.outputs=X}(n,o,E)}function ip(n,r,o){const l=o.directiveStart,p=o.directiveEnd,E=o.index,S=function Xa(){return Ir.lFrame.currentDirectiveIndex}();try{ls(E);for(let P=l;P<p;P++){const $=n.data[P],X=r[P];Oo(P),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&jv($,X)}}finally{ls(-1),Oo(S)}}function jv(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function _g(n,r,o){r.componentOffset=o,(n.components||(n.components=[])).push(r.index)}function sp(n,r,o){if(o){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)o[r.exportAs[l]]=n;Hi(r)&&(o[""]=n)}}function Jm(n,r,o,l,p){n.data[l]=p;const E=p.factory||(p.factory=xi(p.type)),S=new Bt(E,Hi(p),qc);n.blueprint[l]=S,o[l]=S,function mc(n,r,o,l,p){const E=p.hostBindings;if(E){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const P=~r.index;(function Qm(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(S)!=P&&S.push(P),S.push(o,l,E)}}(n,r,l,ef(n,o,p.hostVars,Yr),p)}function Yl(n,r,o,l,p,E){const S=Dr(n,r);!function wg(n,r,o,l,p,E,S){if(null==E)n.removeAttribute(r,p,o);else{const P=null==S?de(E):S(E,l||"",p);n.setAttribute(r,p,P,o)}}(r[J],S,E,n.value,o,l,p)}function Hv(n,r,o,l,p,E){const S=E[r];if(null!==S){const P=l.setInput;for(let $=0;$<S.length;){const X=S[$++],le=S[$++],Le=S[$++];null!==P?l.setInput(o,Le,X,le):o[le]=Le}}}function ey(n,r,o){let l=null,p=0;for(;p<o.length;){const E=o[p];if(0!==E)if(5!==E){if("number"==typeof E)break;if(n.hasOwnProperty(E)){null===l&&(l=[]);const S=n[E];for(let P=0;P<S.length;P+=2)if(S[P]===r){l.push(E,S[P+1],o[p+1]);break}}p+=2}else p+=2;else p+=4}return l}function bg(n,r,o,l){return[n,!0,!1,r,null,0,l,o,null,null]}function Gv(n,r){const o=Ei(r,n);if(Ji(o)){const l=o[En];48&o[Yn]?Nd(l,o,l.template,o[re]):o[nt]>0&&rf(o)}}function rf(n){for(let l=Pc(n);null!==l;l=co(l))for(let p=hr;p<l.length;p++){const E=l[p];if(Ji(E))if(512&E[Yn]){const S=E[En];Nd(S,E,S.template,E[re])}else E[nt]>0&&rf(E)}const o=n[En].components;if(null!==o)for(let l=0;l<o.length;l++){const p=Ei(o[l],n);Ji(p)&&p[nt]>0&&rf(p)}}function Wv(n,r){const o=Ei(r,n),l=o[En];(function Dg(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(l,o),ep(l,o,o[re])}function op(n,r){return n[$e]?n[rt][he]=r:n[$e]=r,n[rt]=r,r}function sf(n){for(;n;){n[Yn]|=32;const r=Ll(n);if(po(n)&&!r)return n;n=r}return null}function af(n,r,o,l=!0){const p=r[He];p.begin&&p.begin();try{Nd(n,r,n.template,o)}catch(S){throw l&&Fd(r,S),S}finally{p.end&&p.end()}}function lf(n,r,o){Lo(0),r(n,o)}function kd(n){return n[Y]||(n[Y]=[])}function yc(n){return n.cleanup||(n.cleanup=[])}function Fd(n,r){const o=n[oe],l=o?o.get(lh,null):null;l&&l.handleError(r)}function Zc(n,r,o,l,p){for(let E=0;E<o.length;){const S=o[E++],P=o[E++],$=r[S],X=n.data[S];null!==X.setInput?X.setInput($,p,l,P):$[P]=p}}function vc(n,r,o){let l=o?n.styles:null,p=o?n.classes:null,E=0;if(null!==r)for(let S=0;S<r.length;S++){const P=r[S];"number"==typeof P?E=P:1==E?p=ke(p,P):2==E&&(l=ke(l,P+": "+r[++S]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=p:n.classesWithoutHost=p}function lp(n,r,o,l,p=!1){for(;null!==o;){const E=r[o.index];if(null!==E&&l.push(ci(E)),di(E))for(let P=hr;P<E.length;P++){const $=E[P],X=$[En].firstChild;null!==X&&lp($[En],$,X,l)}const S=o.type;if(8&S)lp(n,r,o.child,l);else if(32&S){const P=Fl(o,r);let $;for(;$=P();)l.push($)}else if(16&S){const P=nc(r,o);if(Array.isArray(P))l.push(...P);else{const $=Ll(r[Gt]);lp($[En],$,P,l,!0)}}o=p?o.projectionNext:o.next}return l}class uf{get rootNodes(){const r=this._lView,o=r[En];return lp(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[re]}set context(r){this._lView[re]=r}get destroyed(){return 128==(128&this._lView[Yn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Hr];if(di(r)){const o=r[Zn],l=o?o.indexOf(this):-1;l>-1&&(au(r,l),sa(o,l))}this._attachedToViewContainer=!1}md(this._lView[En],this._lView)}onDestroy(r){Xm(this._lView[En],this._lView,null,r)}markForCheck(){sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yn]&=-65}reattach(){this._lView[Yn]|=64}detectChanges(){af(this._lView[En],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kc(n,r){za(n,r,r[J],2,null,null)}(this._lView[En],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=r}}class Sg extends uf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;af(r[En],r,r[re],!1)}checkNoChanges(){}get context(){return null}}class up extends ln{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=ir(r);return new cf(o,this.ngModule)}}function cp(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Kv{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,l){l=Ae(l);const p=this.injector.get(r,xd,l);return p!==xd||o===xd?p:this.parentInjector.get(r,o,l)}}class cf extends ae{get inputs(){return cp(this.componentDef.inputs)}get outputs(){return cp(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Dv(n){return n.map($m).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,l,p){var E;let S=(p=p||this.ngModule)instanceof Pu?p:null===(E=p)||void 0===E?void 0:E.injector;S&&null!==this.componentDef.getStandaloneInjector&&(S=this.componentDef.getStandaloneInjector(S)||S);const P=S?new Kv(r,S):r,$=P.get(Ta,null);if(null===$)throw new Re(407,!1);const X=P.get(oh,null),le=$.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",Dt=l?function gg(n,r,o){return n.selectRootElement(r,o===Ct.ShadowDom)}(le,l,this.componentDef.encapsulation):ba(le,Le,function Tg(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Le)),Ht=this.componentDef.onPush?288:272,dn=pg(0,null,null,1,0,null,null,null,null,null),Pn=Jf(null,dn,null,Ht,null,null,$,le,X,P,null);let nr,Sr;ta(Pn);try{const Ur=this.componentDef;let Tn,Xr=null;Ur.findHostDirectiveDefs?(Tn=[],Xr=new Map,Ur.findHostDirectiveDefs(Ur,Tn,Xr),Tn.push(Ur)):Tn=[Ur];const js=function Yv(n,r){const o=n[En],l=Ke;return n[l]=r,yh(o,l,2,"#host",null)}(Pn,Dt),To=function iy(n,r,o,l,p,E,S,P){const $=p[En];!function qv(n,r,o,l){for(const p of n)r.mergedAttrs=$t(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(vc(r,r.mergedAttrs,!0),null!==o&&Vc(l,o,r))}(l,n,r,S);const X=E.createRenderer(r,o),le=Jf(p,Zm(o),null,o.onPush?32:16,p[n.index],n,E,X,P||null,null,null);return $.firstCreatePass&&_g($,n,l.length-1),op(p,le),p[n.index]=le}(js,Dt,Ur,Tn,Pn,$,le);Sr=Ko(dn,Ke),Dt&&function oy(n,r,o,l){if(l)Nn(n,o,["ng-version",eg.full]);else{const{attrs:p,classes:E}=function Sv(n){const r=[],o=[];let l=1,p=2;for(;l<n.length;){let E=n[l];if("string"==typeof E)2===p?""!==E&&r.push(E,n[++l]):8===p&&o.push(E);else{if(!Kl(p))break;p=E}l++}return{attrs:r,classes:o}}(r.selectors[0]);p&&Nn(n,o,p),E&&E.length>0&&ic(n,o,E.join(" "))}}(le,Ur,Dt,l),void 0!==o&&function ay(n,r,o){const l=n.projection=[];for(let p=0;p<r.length;p++){const E=o[p];l.push(null!=E?Array.from(E):null)}}(Sr,this.ngContentSelectors,o),nr=function sy(n,r,o,l,p,E){const S=et(),P=p[En],$=Dr(S,p);rp(P,p,S,o,null,l);for(let le=0;le<o.length;le++)Co(Bs(p,P,S.directiveStart+le,S),p);ip(P,p,S),$&&Co($,p);const X=Bs(p,P,S.directiveStart+S.componentOffset,S);if(n[re]=p[re]=X,null!==E)for(const le of E)le(X,r);return tf(P,S,n),X}(To,Ur,Tn,Xr,Pn,[ly]),ep(dn,Pn,null)}finally{_o()}return new Ag(this.componentType,nr,mr(Sr,Pn),Pn,Sr)}}class Ag extends W{constructor(r,o,l,p,E){super(),this.location=l,this._rootLView=p,this._tNode=E,this.instance=o,this.hostView=this.changeDetectorRef=new Sg(p),this.componentType=r}setInput(r,o){const l=this._tNode.inputs;let p;if(null!==l&&(p=l[r])){const E=this._rootLView;Zc(E[En],E,p,r,o),Ih(E,this._tNode.index)}}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ly(){const n=et();Vo(I()[En],n)}function xg(n){let r=function uy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;r;){let p;if(Hi(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Re(903,!1);p=r.\u0275dir}if(p){if(o){l.push(p);const S=n;S.inputs=Mg(n.inputs),S.declaredInputs=Mg(n.declaredInputs),S.outputs=Mg(n.outputs);const P=p.hostBindings;P&&Pg(n,P);const $=p.viewQuery,X=p.contentQueries;if($&&Rg(n,$),X&&Og(n,X),ge(n.inputs,p.inputs),ge(n.declaredInputs,p.declaredInputs),ge(n.outputs,p.outputs),Hi(p)&&p.data.animation){const le=n.data;le.animation=(le.animation||[]).concat(p.data.animation)}}const E=p.features;if(E)for(let S=0;S<E.length;S++){const P=E[S];P&&P.ngInherit&&P(n),P===xg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Zv(n){let r=0,o=null;for(let l=n.length-1;l>=0;l--){const p=n[l];p.hostVars=r+=p.hostVars,p.hostAttrs=$t(p.hostAttrs,o=$t(o,p.hostAttrs))}}(l)}function Mg(n){return n===wn?{}:n===Qe?[]:n}function Rg(n,r){const o=n.viewQuery;n.viewQuery=o?(l,p)=>{r(l,p),o(l,p)}:r}function Og(n,r){const o=n.contentQueries;n.contentQueries=o?(l,p,E)=>{r(l,p,E),o(l,p,E)}:r}function Pg(n,r){const o=n.hostBindings;n.hostBindings=o?(l,p)=>{r(l,p),o(l,p)}:r}function bh(n){return!!Bg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Bg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function So(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function df(n,r,o,l){const p=I();return So(p,Jo(),r)&&(h(),Yl(fi(),p,n,r,o,l)),df}function mp(n,r,o,l,p,E,S,P){const $=I(),X=h(),le=n+Ke,Le=X.firstCreatePass?function e_(n,r,o,l,p,E,S,P,$){const X=r.consts,le=yh(r,n,4,S||null,fr(X,P));nf(r,o,le,fr(X,$)),Vo(r,le);const Le=le.tView=pg(2,le,l,p,E,r.directiveRegistry,r.pipeRegistry,null,r.schemas,X);return null!==r.queries&&(r.queries.template(r,le),Le.queries=r.queries.embeddedTView(le)),le}(le,X,$,r,o,l,p,E,S):X.data[le];Gn(Le,!1);const Dt=$[J].createComment("");$c(X,$,Dt,Le),Co(Dt,$),op($,$[le]=bg(Dt,$,Dt,Le)),hi(Le)&&tp(X,$,Le),null!=S&&fg($,Le,P)}function Gg(n,r,o){const l=I();return So(l,Jo(),r)&&function Aa(n,r,o,l,p,E,S,P){const $=Dr(r,o);let le,X=r.inputs;!P&&null!=X&&(le=X[l])?(Zc(n,o,le,l,p),Tr(r)&&Ih(o,r.index)):3&r.type&&(l=function mg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),p=null!=S?S(p,r.value||"",l):p,E.setProperty($,l,p))}(h(),fi(),l,n,r,l[J],o,!1),Gg}function xh(n,r,o,l,p){const S=p?"class":"style";Zc(n,o,r.inputs[S],S,l)}function hf(n,r,o,l){const p=I(),E=h(),S=Ke+n,P=p[J],$=E.firstCreatePass?function Wg(n,r,o,l,p,E){const S=r.consts,$=yh(r,n,2,l,fr(S,p));return nf(r,o,$,fr(S,E)),null!==$.attrs&&vc($,$.attrs,!1),null!==$.mergedAttrs&&vc($,$.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,$),$}(S,E,p,r,o,l):E.data[S],X=p[S]=ba(P,r,function Qa(){return Ir.lFrame.currentNamespace}()),le=hi($);return Gn($,!0),Vc(P,X,$),32!=(32&$.flags)&&$c(E,p,X,$),0===function Qs(){return Ir.lFrame.elementDepthCount}()&&Co(X,p),function Ds(){Ir.lFrame.elementDepthCount++}(),le&&(tp(E,p,$),tf(E,$,p)),null!==l&&fg(p,$),hf}function _c(){let n=et();Or()?Gr():(n=n.parent,Gn(n,!1));const r=n;!function xa(){Ir.lFrame.elementDepthCount--}();const o=h();return o.firstCreatePass&&(Vo(o,n),zr(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function vr(n){return 0!=(8&n.flags)}(r)&&xh(o,r,I(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function sr(n){return 0!=(16&n.flags)}(r)&&xh(o,r,I(),r.stylesWithoutHost,!1),_c}function yp(n,r,o,l){return hf(n,r,o,l),_c(),yp}function Kg(n,r,o){const l=I(),p=h(),E=n+Ke,S=p.firstCreatePass?function vp(n,r,o,l,p){const E=r.consts,S=fr(E,l),P=yh(r,n,8,"ng-container",S);return null!==S&&vc(P,S,!0),nf(r,o,P,fr(E,p)),null!==r.queries&&r.queries.elementStart(r,P),P}(E,p,l,r,o):p.data[E];Gn(S,!0);const P=l[E]=l[J].createComment("");return $c(p,l,P,S),Co(P,l),hi(S)&&(tp(p,l,S),tf(p,S,l)),null!=o&&fg(l,S),Kg}function Yg(){let n=et();const r=h();return Or()?Gr():(n=n.parent,Gn(n,!1)),r.firstCreatePass&&(Vo(r,n),zr(n)&&r.queries.elementEnd(n)),Yg}function qg(n,r,o){return Kg(n,r,o),Yg(),qg}function Mh(n){return!!n&&"function"==typeof n.then}function _p(n){return!!n&&"function"==typeof n.subscribe}const Ep=_p;function ff(n,r,o,l){const p=I(),E=h(),S=et();return function Ip(n,r,o,l,p,E,S){const P=hi(l),X=n.firstCreatePass&&yc(n),le=r[re],Le=kd(r);let Dt=!0;if(3&l.type||S){const Pn=Dr(l,r),nr=S?S(Pn):Pn,Sr=Le.length,Ur=S?Xr=>S(ci(Xr[l.index])):l.index;let Tn=null;if(!S&&P&&(Tn=function Xg(n,r,o,l){const p=n.cleanup;if(null!=p)for(let E=0;E<p.length-1;E+=2){const S=p[E];if(S===o&&p[E+1]===l){const P=r[Y],$=p[E+2];return P.length>$?P[$]:null}"string"==typeof S&&(E+=2)}return null}(n,r,p,l.index)),null!==Tn)(Tn.__ngLastListenerFn__||Tn).__ngNextListenerFn__=E,Tn.__ngLastListenerFn__=E,Dt=!1;else{E=wp(l,r,le,E,!1);const Xr=o.listen(nr,p,E);Le.push(E,Xr),X&&X.push(p,Ur,Sr,Sr+1)}}else E=wp(l,r,le,E,!1);const Ht=l.outputs;let dn;if(Dt&&null!==Ht&&(dn=Ht[p])){const Pn=dn.length;if(Pn)for(let nr=0;nr<Pn;nr+=2){const js=r[dn[nr]][dn[nr+1]].subscribe(E),To=Le.length;Le.push(E,js),X&&X.push(p,l.index,To,-(To+1))}}}(E,p,p[J],S,n,r,l),ff}function pf(n,r,o,l){try{return Nr(6,r,o),!1!==o(l)}catch(p){return Fd(n,p),!1}finally{Nr(7,r,o)}}function wp(n,r,o,l,p){return function E(S){if(S===Function)return l;sf(n.componentOffset>-1?Ei(n.index,r):r);let $=pf(r,o,l,S),X=E.__ngNextListenerFn__;for(;X;)$=pf(r,o,X,S)&&$,X=X.__ngNextListenerFn__;return p&&!1===$&&(S.preventDefault(),S.returnValue=!1),$}}function Qg(n=1){return function Eo(n){return(Ir.lFrame.contextLView=function Bo(n,r){for(;n>0;)r=r[It],n--;return r}(n,Ir.lFrame.contextLView))[re]}(n)}function bp(n,r){let o=null;const l=function Od(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let p=0;p<r.length;p++){const E=r[p];if("*"!==E){if(null===l?ng(n,E,!0):Lm(l,E))return p}else o=p}return o}function Cp(n){const r=I()[Gt][F];if(!r.projection){const l=r.projection=oa(n?n.length:1,null),p=l.slice();let E=r.child;for(;null!==E;){const S=n?bp(E,n):0;null!==S&&(p[S]?p[S].projectionNext=E:l[S]=E,p[S]=E),E=E.next}}}function Dp(n,r=0,o){const l=I(),p=h(),E=yh(p,Ke+n,16,null,o||null);null===E.projection&&(E.projection=r),Gr(),32!=(32&E.flags)&&function lu(n,r,o){Sl(r[J],0,r,o,Qd(n,o,r),aa(o.parent||r[F],o,r))}(p,l,E)}function Tp(n,r){return n<<17|r<<2}function rd(n){return n>>17&32767}function gf(n){return 2|n}function id(n){return(131068&n)>>2}function Ap(n,r){return-131069&n|r<<2}function Rh(n){return 1|n}function nm(n,r,o,l,p){const E=n[o+1],S=null===r;let P=l?rd(E):id(E),$=!1;for(;0!==P&&(!1===$||S);){const le=n[P+1];Us(n[P],r)&&($=!0,n[P+1]=l?Rh(le):gf(le)),P=l?rd(le):id(le)}$&&(n[o+1]=l?gf(E):Rh(E))}function Us(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&M(n,r)>=0}function im(n,r){return function gu(n,r,o,l){const p=I(),E=h(),S=function as(n){const r=Ir.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}(2);E.firstUpdatePass&&function Ty(n,r,o,l){const p=n.data;if(null===p[o+1]){const E=p[Zi()],S=function u_(n,r){return r>=n.expandoStartIndex}(n,o);(function Ef(n,r){return 0!=(n.flags&(r?8:16))})(E,l)&&null===r&&!S&&(r=!1),r=function c_(n,r,o,l){const p=function Po(n){const r=Ir.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let E=l?r.residualClasses:r.residualStyles;if(null===p)0===(l?r.classBindings:r.styleBindings)&&(o=Al(o=Xl(null,n,r,o,l),r.attrs,l),E=null);else{const S=r.directiveStylingLast;if(-1===S||n[S]!==p)if(o=Xl(p,n,r,o,l),null===E){let $=function Ay(n,r,o){const l=o?r.classBindings:r.styleBindings;if(0!==id(l))return n[rd(l)]}(n,r,l);void 0!==$&&Array.isArray($)&&($=Xl(null,n,r,$[1],l),$=Al($,r.attrs,l),function vf(n,r,o,l){n[rd(o?r.classBindings:r.styleBindings)]=l}(n,r,l,$))}else E=function d_(n,r,o){let l;const p=r.directiveEnd;for(let E=1+r.directiveStylingLast;E<p;E++)l=Al(l,n[E].hostAttrs,o);return Al(l,r.attrs,o)}(n,r,l)}return void 0!==E&&(l?r.residualClasses=E:r.residualStyles=E),o}(p,E,r,l),function wy(n,r,o,l,p,E){let S=E?r.classBindings:r.styleBindings,P=rd(S),$=id(S);n[l]=o;let le,X=!1;if(Array.isArray(o)?(le=o[1],(null===le||M(o,le)>0)&&(X=!0)):le=o,p)if(0!==$){const Dt=rd(n[P+1]);n[l+1]=Tp(Dt,P),0!==Dt&&(n[Dt+1]=Ap(n[Dt+1],l)),n[P+1]=function Ey(n,r){return 131071&n|r<<17}(n[P+1],l)}else n[l+1]=Tp(P,0),0!==P&&(n[P+1]=Ap(n[P+1],l)),P=l;else n[l+1]=Tp($,0),0===P?P=l:n[$+1]=Ap(n[$+1],l),$=l;X&&(n[l+1]=gf(n[l+1])),nm(n,le,l,!0),nm(n,le,l,!1),function mf(n,r,o,l,p){const E=p?n.residualClasses:n.residualStyles;null!=E&&"string"==typeof r&&M(E,r)>=0&&(o[l+1]=Rh(o[l+1]))}(r,le,n,l,E),S=Tp(P,$),E?r.classBindings=S:r.styleBindings=S}(p,E,r,o,S,l)}}(E,n,S,l),r!==Yr&&So(p,S,r)&&function xy(n,r,o,l,p,E,S,P){if(!(3&r.type))return;const $=n.data,X=$[P+1],le=function Iy(n){return 1==(1&n)}(X)?My($,r,o,p,id(X),S):void 0;_f(le)||(_f(E)||function n_(n){return 2==(2&n)}(X)&&(E=My($,null,o,p,P,S)),function ho(n,r,o,l,p){if(r)p?n.addClass(o,l):n.removeClass(o,l);else{let E=-1===l.indexOf("-")?void 0:$i.DashCase;null==p?n.removeStyle(o,l,E):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),E|=$i.Important),n.setStyle(o,l,p,E))}}(l,S,Zs(Zi(),o),p,E))}(E,E.data[Zi()],p,p[J],n,p[S+1]=function Ry(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=De(zl(n)))),n}(r,o),l,S)}(n,r,null,!0),im}function Xl(n,r,o,l,p){let E=null;const S=o.directiveEnd;let P=o.directiveStylingLast;for(-1===P?P=o.directiveStart:P++;P<S&&(E=r[P],l=Al(l,E.hostAttrs,p),E!==n);)P++;return null!==n&&(o.directiveStylingLast=P),l}function Al(n,r,o){const l=o?1:2;let p=-1;if(null!==r)for(let E=0;E<r.length;E++){const S=r[E];"number"==typeof S?p=S:p===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),jo(n,S,!!o||r[++E]))}return void 0===n?null:n}function My(n,r,o,l,p,E){const S=null===r;let P;for(;p>0;){const $=n[p],X=Array.isArray($),le=X?$[1]:$,Le=null===le;let Dt=o[p+1];Dt===Yr&&(Dt=Le?Qe:void 0);let Ht=Le?T(Dt,l):le===l?Dt:void 0;if(X&&!_f(Ht)&&(Ht=T($,l)),_f(Ht)&&(P=Ht,S))return P;const dn=n[p+1];p=S?rd(dn):id(dn)}if(null!==r){let $=E?r.residualClasses:r.residualStyles;null!=$&&(P=T($,l))}return P}function _f(n){return void 0!==n}function Oy(n,r=""){const o=I(),l=h(),p=n+Ke,E=l.firstCreatePass?yh(l,p,1,r,null):l.data[p],S=o[p]=function Bl(n,r){return n.createText(r)}(o[J],r);$c(l,o,S,E),Gn(E,!1)}function Ec(n){return Bd("",n,""),Ec}function Bd(n,r,o){const l=I(),p=function Qc(n,r,o,l){return So(n,Jo(),o)?r+de(o)+l:Yr}(l,n,r,o);return p!==Yr&&function Lu(n,r,o){const l=Zs(r,n);!function su(n,r,o){n.setValue(r,o)}(n[J],l,o)}(l,Zi(),p),Bd}const Ud=void 0;var m_=["en",[["a","p"],["AM","PM"],Ud],[["AM","PM"],Ud,Ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ud,"{1} 'at' {0}",Ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bp(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ph={};function $p(n){const r=function Vp(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=um(r);if(o)return o;const l=r.split("-")[0];if(o=um(l),o)return o;if("en"===l)return m_;throw new Re(701,!1)}function lm(n){return $p(n)[kr.PluralCase]}function um(n){return n in Ph||(Ph[n]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[n]),Ph[n]}var kr=(()=>((kr=kr||{})[kr.LocaleId=0]="LocaleId",kr[kr.DayPeriodsFormat=1]="DayPeriodsFormat",kr[kr.DayPeriodsStandalone=2]="DayPeriodsStandalone",kr[kr.DaysFormat=3]="DaysFormat",kr[kr.DaysStandalone=4]="DaysStandalone",kr[kr.MonthsFormat=5]="MonthsFormat",kr[kr.MonthsStandalone=6]="MonthsStandalone",kr[kr.Eras=7]="Eras",kr[kr.FirstDayOfWeek=8]="FirstDayOfWeek",kr[kr.WeekendRange=9]="WeekendRange",kr[kr.DateFormat=10]="DateFormat",kr[kr.TimeFormat=11]="TimeFormat",kr[kr.DateTimeFormat=12]="DateTimeFormat",kr[kr.NumberSymbols=13]="NumberSymbols",kr[kr.NumberFormats=14]="NumberFormats",kr[kr.CurrencyCode=15]="CurrencyCode",kr[kr.CurrencySymbol=16]="CurrencySymbol",kr[kr.CurrencyName=17]="CurrencyName",kr[kr.Currencies=18]="Currencies",kr[kr.Directionality=19]="Directionality",kr[kr.PluralCase=20]="PluralCase",kr[kr.ExtraData=21]="ExtraData",kr))();const Tf="en-US";let Nh=Tf;function bm(n,r,o,l,p){if(n=ce(n),Array.isArray(n))for(let E=0;E<n.length;E++)bm(n[E],r,o,l,p);else{const E=h(),S=I();let P=Ou(n)?n:ce(n.provide),$=f(n);const X=et(),le=1048575&X.providerIndexes,Le=X.directiveStart,Dt=X.providerIndexes>>20;if(Ou(n)||!n.multi){const Ht=new Bt($,p,qc),dn=Wp(P,r,p?le:le+Dt,Le);-1===dn?(ar(Ar(X,S),E,P),Gp(E,n,r.length),r.push(P),X.directiveStart++,X.directiveEnd++,p&&(X.providerIndexes+=1048576),o.push(Ht),S.push(Ht)):(o[dn]=Ht,S[dn]=Ht)}else{const Ht=Wp(P,r,le+Dt,Le),dn=Wp(P,r,le,le+Dt),nr=dn>=0&&o[dn];if(p&&!nr||!p&&!(Ht>=0&&o[Ht])){ar(Ar(X,S),E,P);const Sr=function Z_(n,r,o,l,p){const E=new Bt(n,o,qc);return E.multi=[],E.index=r,E.componentProviders=0,Cm(E,p,l&&!o),E}(p?lv:q_,o.length,p,l,$);!p&&nr&&(o[dn].providerFactory=Sr),Gp(E,n,r.length,0),r.push(P),X.directiveStart++,X.directiveEnd++,p&&(X.providerIndexes+=1048576),o.push(Sr),S.push(Sr)}else Gp(E,n,Ht>-1?Ht:dn,Cm(o[p?dn:Ht],$,!p&&l));!p&&l&&nr&&o[dn].componentProviders++}}}function Gp(n,r,o,l){const p=Ou(r),E=function Kh(n){return!!n.useClass}(r);if(p||E){const $=(E?ce(r.useClass):r).prototype.ngOnDestroy;if($){const X=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const le=X.indexOf(o);-1===le?X.push(o,[l,$]):X[le+1].push(l,$)}else X.push(o,$)}}}function Cm(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function Wp(n,r,o,l){for(let p=o;p<l;p++)if(r[p]===n)return p;return-1}function q_(n,r,o,l){return Kp(this.multi,[])}function lv(n,r,o,l){const p=this.multi;let E;if(this.providerFactory){const S=this.providerFactory.componentProviders,P=Bs(o,o[En],this.providerFactory.index,l);E=P.slice(0,S),Kp(p,E);for(let $=S;$<P.length;$++)E.push(P[$])}else E=[],Kp(p,E);return E}function Kp(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function uv(n,r=[]){return o=>{o.providersResolver=(l,p)=>function wm(n,r,o){const l=h();if(l.firstCreatePass){const p=Hi(n);bm(o,l.data,l.blueprint,p,!0),bm(r,l.data,l.blueprint,p,!1)}}(l,p?p(n):n,r)}}class Gd{}class Dm{}function X_(n,r){return new e(n,null!=r?r:null)}class e extends Gd{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new up(this);const l=ei(r);this._bootstrapComponents=Ya(l.bootstrap),this._r3Injector=dh(r,o,[{provide:Gd,useValue:this},{provide:ln,useValue:this.componentFactoryResolver}],De(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class t extends Dm{constructor(r){super(),this.moduleType=r}create(r){return new e(this.moduleType,r)}}class s extends Gd{constructor(r,o,l){super(),this.componentFactoryResolver=new up(this),this.instance=null;const p=new Ad([...r,{provide:Gd,useValue:this},{provide:ln,useValue:this.componentFactoryResolver}],o||Yc(),l,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function u(n,r,o=null){return new s(n,r,o).injector}let y=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Gl(0,o.type),p=l.length>0?u([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,p)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Vt({token:n,providedIn:"environment",factory:()=>new n(cn(Pu))}),n})();function b(n){n.getStandaloneInjector=r=>r.get(y).getOrCreateStandaloneInjector(n)}function F0(n,r,o,l){return L0(I(),qr(),n,r,o,l)}function L0(n,r,o,l,p,E){const S=r+o;return So(n,S,p)?function ql(n,r,o){return n[r]=o}(n,S+1,E?l.call(E,p):l(p)):function Sm(n,r){const o=n[r];return o===Yr?void 0:o}(n,S+1)}function j0(n,r){const o=h();let l;const p=n+Ke;o.firstCreatePass?(l=function iI(n,r){if(r)for(let o=r.length-1;o>=0;o--){const l=r[o];if(n===l.name)return l}}(r,o.pipeRegistry),o.data[p]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(p,l.onDestroy)):l=o.data[p];const E=l.factory||(l.factory=xi(l.type)),S=In(qc);try{const P=na(!1),$=E();return na(P),function Hg(n,r,o,l){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=l}(o,I(),p,$),$}finally{In(S)}}function H0(n,r,o){const l=n+Ke,p=I(),E=function vs(n,r){return n[r]}(p,l);return function Tm(n,r){return n[En].data[r].pure}(p,l)?L0(p,qr(),r,E.transform,o,E):E.transform(o)}function Q_(n){return r=>{setTimeout(n,void 0,r)}}const fd=class uI extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,l){let p=r,E=o||(()=>null),S=l;if(r&&"object"==typeof r){var P,$,X;const Le=r;p=null===(P=Le.next)||void 0===P?void 0:P.bind(Le),E=null===($=Le.error)||void 0===$?void 0:$.bind(Le),S=null===(X=Le.complete)||void 0===X?void 0:X.bind(Le)}this.__isAsync&&(E=Q_(E),p&&(p=Q_(p)),S&&(S=Q_(S)));const le=super.subscribe({next:p,error:E,complete:S});return r instanceof ee.w0&&r.add(le),le}};function cI(){return this._results[Symbol.iterator]()}class J_{get changes(){return this._changes||(this._changes=new fd)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=J_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=cI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const l=this;l.dirty=!1;const p=function cs(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ia(n,r,o){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let p=n[l],E=r[l];if(o&&(p=o(p),E=o(E)),E!==p)return!1}return!0}(l._results,p,o))&&(l._results=p,l.length=p.length,l.last=p[this.length-1],l.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Am=(()=>{class n{}return n.__NG_ELEMENT_ID__=fI,n})();const dI=Am,hI=class extends dI{constructor(r,o,l){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(r,o){const l=this._declarationTContainer.tView,p=Jf(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,o||null);p[pn]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[Wn];return null!==S&&(p[Wn]=S.createEmbeddedView(l)),ep(l,p,r),new uf(p)}};function fI(){return cv(et(),I())}function cv(n,r){return 4&n.type?new hI(r,n,mr(n,r)):null}let dv=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();function pI(){return W0(et(),I())}const gI=dv,z0=class extends gI{constructor(r,o,l){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=l}get element(){return mr(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){const r=pi(this._hostTNode,this._hostLView);if(Oi(r)){const o=Pa(r,this._hostLView),l=Gs(r);return new rs(o[En].data[l+8],o)}return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=G0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(r,o,l){let p,E;"number"==typeof l?p=l:null!=l&&(p=l.index,E=l.injector);const S=r.createEmbeddedView(o||{},E);return this.insert(S,p),S}createComponent(r,o,l,p,E){const S=r&&!function Pi(n){return"function"==typeof n}(r);let P;if(S)P=o;else{const Le=o||{};P=Le.index,l=Le.injector,p=Le.projectableNodes,E=Le.environmentInjector||Le.ngModuleRef}const $=S?r:new cf(ir(r)),X=l||this.parentInjector;if(!E&&null==$.ngModule){const Dt=(S?X:this.parentInjector).get(Pu,null);Dt&&(E=Dt)}const le=$.create(X,p,void 0,E);return this.insert(le.hostView,P),le}insert(r,o){const l=r._lView,p=l[En];if(function _s(n){return di(n[Hr])}(l)){const le=this.indexOf(r);if(-1!==le)this.detach(le);else{const Le=l[Hr],Dt=new z0(Le,Le[F],Le[Hr]);Dt.detach(Dt.indexOf(r))}}const E=this._adjustIndex(o),S=this._lContainer;!function $l(n,r,o,l){const p=hr+l,E=o.length;l>0&&(o[p-1][he]=r),l<E-hr?(r[he]=o[p],$a(o,hr+l,r)):(o.push(r),r[he]=null),r[Hr]=o;const S=r[pn];null!==S&&o!==S&&function ec(n,r){const o=n[or];r[Gt]!==r[Hr][Hr][Gt]&&(n[Xt]=!0),null===o?n[or]=[r]:o.push(r)}(S,r);const P=r[Wn];null!==P&&P.insertView(n),r[Yn]|=64}(p,l,S,E);const P=Su(E,S),$=l[J],X=Ho($,S[gn]);return null!==X&&function ko(n,r,o,l,p,E){l[wi]=p,l[F]=r,za(n,l,o,1,p,E)}(p,S[F],$,l,X,P),r.attachToViewContainerRef(),$a(e0(S),E,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=G0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),l=au(this._lContainer,o);l&&(sa(e0(this._lContainer),o),md(l[En],l))}detach(r){const o=this._adjustIndex(r,-1),l=au(this._lContainer,o);return l&&null!=sa(e0(this._lContainer),o)?new uf(l):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function G0(n){return n[Zn]}function e0(n){return n[Zn]||(n[Zn]=[])}function W0(n,r){let o;const l=r[n.index];if(di(l))o=l;else{let p;if(8&n.type)p=ci(l);else{const E=r[J];p=E.createComment("");const S=Dr(n,r);Cl(E,Ho(E,S),p,function Bc(n,r){return n.nextSibling(r)}(E,S),!1)}r[n.index]=o=bg(l,r,p,n),op(r,o)}return new z0(o,n,r)}class t0{constructor(r){this.queryList=r,this.matches=null}clone(){return new t0(this.queryList)}setDirty(){this.queryList.setDirty()}}class n0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const l=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let E=0;E<l;E++){const S=o.getByIndex(E);p.push(this.queries[S.indexInDeclarationView].clone())}return new n0(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==tE(r,o).matches&&this.queries[o].setDirty()}}class K0{constructor(r,o,l=null){this.predicate=r,this.flags=o,this.read=l}}class r0{constructor(r=[]){this.queries=r}elementStart(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let l=0;l<this.length;l++){const p=null!==o?o.length:0,E=this.getByIndex(l).embeddedTView(r,p);E&&(E.indexInDeclarationView=l,null!==o?o.push(E):o=[E])}return null!==o?new r0(o):null}template(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class s0{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new s0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let p=0;p<l.length;p++){const E=l[p];this.matchTNodeWithReadOption(r,o,mI(o,E)),this.matchTNodeWithReadOption(r,o,Fa(o,r,E,!1,!1))}else l===Am?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Fa(o,r,l,!1,!1))}matchTNodeWithReadOption(r,o,l){if(null!==l){const p=this.metadata.read;if(null!==p)if(p===ui||p===dv||p===Am&&4&o.type)this.addMatch(o.index,-2);else{const E=Fa(o,r,p,!1,!1);null!==E&&this.addMatch(o.index,E)}else this.addMatch(o.index,l)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function mI(n,r){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===r)return o[l+1];return null}function vI(n,r,o,l){return-1===o?function yI(n,r){return 11&n.type?mr(n,r):4&n.type?cv(n,r):null}(r,n):-2===o?function _I(n,r,o){return o===ui?mr(r,n):o===Am?cv(r,n):o===dv?W0(r,n):void 0}(n,r,l):Bs(n,n[En],o,r)}function Y0(n,r,o,l){const p=r[Wn].queries[l];if(null===p.matches){const E=n.data,S=o.matches,P=[];for(let $=0;$<S.length;$+=2){const X=S[$];P.push(X<0?null:vI(r,E[X],S[$+1],o.metadata.read))}p.matches=P}return p.matches}function o0(n,r,o,l){const p=n.queries.getByIndex(o),E=p.matches;if(null!==E){const S=Y0(n,r,p,o);for(let P=0;P<E.length;P+=2){const $=E[P];if($>0)l.push(S[P/2]);else{const X=E[P+1],le=r[-$];for(let Le=hr;Le<le.length;Le++){const Dt=le[Le];Dt[pn]===Dt[Hr]&&o0(Dt[En],Dt,X,l)}if(null!==le[or]){const Le=le[or];for(let Dt=0;Dt<Le.length;Dt++){const Ht=Le[Dt];o0(Ht[En],Ht,X,l)}}}}}return l}function q0(n){const r=I(),o=h(),l=ca();Lo(l+1);const p=tE(o,l);if(n.dirty&&function ki(n){return 4==(4&n[Yn])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const E=p.crossesNgTemplate?o0(o,r,l,[]):Y0(o,r,p,l);n.reset(E,Do),n.notifyOnChanges()}return!0}return!1}function Z0(n,r,o){const l=h();l.firstCreatePass&&(eE(l,new K0(n,r,o),-1),2==(2&r)&&(l.staticViewQueries=!0)),J0(l,I(),r)}function X0(n,r,o,l){const p=h();if(p.firstCreatePass){const E=et();eE(p,new K0(r,o,l),E.index),function II(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(p,n),2==(2&o)&&(p.staticContentQueries=!0)}J0(p,I(),o)}function Q0(){return function EI(n,r){return n[Wn].queries[r].queryList}(I(),ca())}function J0(n,r,o){const l=new J_(4==(4&o));Xm(n,r,l,l.destroy),null===r[Wn]&&(r[Wn]=new n0),r[Wn].queries.push(new t0(l))}function eE(n,r,o){null===n.queries&&(n.queries=new r0),n.queries.track(new s0(r,o))}function tE(n,r){return n.queries.getByIndex(r)}function a0(n){return!!ei(n)}function fv(...n){}const _E=new Si("Application Initializer");let pv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=fv,this.reject=fv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,p)=>{this.resolve=l,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const E=this.appInits[p]();if(Mh(E))o.push(E);else if(Ep(E)){const S=new Promise((P,$)=>{E.subscribe({complete:P,error:$})});o.push(S)}}Promise.all(o).then(()=>{l()}).catch(p=>{this.reject(p)}),0===o.length&&l(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(cn(_E,8))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EE=new Si("AppId",{providedIn:"root",factory:function IE(){return`${h0()}${h0()}${h0()}`}});function h0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wE=new Si("Platform Initializer"),jI=new Si("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let HI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const gv=new Si("LocaleId",{providedIn:"root",factory:()=>Et(gv,St.Optional|St.SkipSelf)||function zI(){return typeof $localize<"u"&&$localize.locale||Tf}()}),GI=new Si("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let KI=(()=>{class n{compileModuleSync(o){return new t(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),E=Ya(ei(o).declarations).reduce((S,P)=>{const $=ir(P);return $&&S.push(new cf($)),S},[]);return new WI(l,E)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZI=(()=>Promise.resolve(0))();function f0(n){typeof Zone>"u"?ZI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Vu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fd(!1),this.onMicrotaskEmpty=new fd(!1),this.onStable=new fd(!1),this.onError=new fd(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!l&&o,p.shouldCoalesceRunChangeDetection=l,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function XI(){let n=un.requestAnimationFrame,r=un.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ew(n){const r=()=>{!function JI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(un,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,g0(n),n.isCheckStableRunning=!0,p0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),g0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,p,E,S,P)=>{try{return DE(n),o.invokeTask(p,E,S,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||n.shouldCoalesceRunChangeDetection)&&r(),SE(n)}},onInvoke:(o,l,p,E,S,P,$)=>{try{return DE(n),o.invoke(p,E,S,P,$)}finally{n.shouldCoalesceRunChangeDetection&&r(),SE(n)}},onHasTask:(o,l,p,E)=>{o.hasTask(p,E),l===p&&("microTask"==E.change?(n._hasPendingMicrotasks=E.microTask,g0(n),p0(n)):"macroTask"==E.change&&(n.hasPendingMacrotasks=E.macroTask))},onHandleError:(o,l,p,E)=>(o.handleError(p,E),n.runOutsideAngular(()=>n.onError.emit(E)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vu.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(Vu.isInAngularZone())throw new Re(909,!1)}run(r,o,l){return this._inner.run(r,o,l)}runTask(r,o,l,p){const E=this._inner,S=E.scheduleEventTask("NgZoneEvent: "+p,r,QI,fv,fv);try{return E.runTask(S,o,l)}finally{E.cancelTask(S)}}runGuarded(r,o,l){return this._inner.runGuarded(r,o,l)}runOutsideAngular(r){return this._outer.run(r)}}const QI={};function p0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function g0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function DE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SE(n){n._nesting--,p0(n)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fd,this.onMicrotaskEmpty=new fd,this.onStable=new fd,this.onError=new fd}run(r,o,l){return r.apply(o,l)}runGuarded(r,o,l){return r.apply(o,l)}runOutsideAngular(r){return r()}runTask(r,o,l,p){return r.apply(o,l)}}const TE=new Si(""),AE=new Si("");let m0,nw=(()=>{class n{constructor(o,l,p){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,m0||(function rw(n){m0=n}(p),p.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vu.assertNotInAngularZone(),f0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())f0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,p){let E=-1;l&&l>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==E),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:E,updateCb:p})}whenStable(o,l,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,p){return[]}}return n.\u0275fac=function(o){return new(o||n)(cn(Vu),cn(xE),cn(AE))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac}),n})(),xE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var p,E;return null!==(p=null===(E=m0)||void 0===E?void 0:E.findTestabilityInTree(this,o,l))&&void 0!==p?p:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wd=!1;let Bh=null;const ME=new Si("AllowMultipleToken"),y0=new Si("PlatformDestroyListeners"),RE=new Si("appBootstrapListener");class ow{constructor(r,o){this.name=r,this.token=o}}function PE(n,r,o=[]){const l=`Platform: ${r}`,p=new Si(l);return(E=[])=>{let S=v0();if(!S||S.injector.get(ME,!1)){const P=[...o,...E,{provide:p,useValue:!0}];n?n(P):function aw(n){if(Bh&&!Bh.get(ME,!1))throw new Re(400,!1);Bh=n;const r=n.get(kE);(function OE(n){const r=n.get(wE,null);r&&r.forEach(o=>o())})(n)}(function NE(n=[],r){return Fu.create({name:r,providers:[{provide:Td,useValue:"platform"},{provide:y0,useValue:new Set([()=>Bh=null])},...n]})}(P,l))}return function uw(n){const r=v0();if(!r)throw new Re(401,!1);return r}()}}function v0(){var n,r;return null!==(n=null===(r=Bh)||void 0===r?void 0:r.get(kE))&&void 0!==n?n:null}let kE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const p=function LE(n,r){let o;return o="noop"===n?new tw:("zone.js"===n?void 0:n)||new Vu(r),o}(null==l?void 0:l.ngZone,function FE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),E=[{provide:Vu,useValue:p}];return p.run(()=>{const S=Fu.create({providers:E,parent:this.injector,name:o.moduleType.name}),P=o.create(S),$=P.injector.get(lh,null);if(!$)throw new Re(402,!1);return p.runOutsideAngular(()=>{const X=p.onError.subscribe({next:le=>{$.handleError(le)}});P.onDestroy(()=>{yv(this._modules,P),X.unsubscribe()})}),function BE(n,r,o){try{const l=o();return Mh(l)?l.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}($,p,()=>{const X=P.injector.get(pv);return X.runInitializers(),X.donePromise.then(()=>(function Ic(n){lt(n,"Expected localeId to be defined"),"string"==typeof n&&(Nh=n.toLowerCase().replace(/_/g,"-"))}(P.injector.get(gv,Tf)||Tf),this._moduleDoBootstrap(P),P))})})}bootstrapModule(o,l=[]){const p=$E({},l);return function iw(n,r,o){const l=new t(o);return Promise.resolve(l)}(0,0,o).then(E=>this.bootstrapModuleFactory(E,p))}_moduleDoBootstrap(o){const l=o.injector.get(mv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>l.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new Re(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(y0,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(cn(Fu))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $E(n,r){return Array.isArray(r)?r.reduce($E,n):{...n,...r}}let mv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,l,p){this._zone=o,this._injector=l,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new z.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),S=new z.y(P=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{Vu.assertNotInAngularZone(),f0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{Vu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{$.unsubscribe(),X.unsubscribe()}});this.isStable=(0,Ce.T)(E,S.pipe((0,Te.B)()))}bootstrap(o,l){const p=o instanceof ae;if(!this._injector.get(pv).done){!p&&Jr(o);throw new Re(405,Wd)}let S;S=p?o:this._injector.get(ln).resolveComponentFactory(o),this.componentTypes.push(S.componentType);const P=function sw(n){return n.isBoundToModule}(S)?void 0:this._injector.get(Gd),X=S.create(Fu.NULL,[],l||S.selector,P),le=X.location.nativeElement,Le=X.injector.get(TE,null);return null==Le||Le.registerApplication(le),X.onDestroy(()=>{this.detachView(X.hostView),yv(this.components,X),null==Le||Le.unregisterApplication(le)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;yv(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(RE,[]);l.push(...this._bootstrapListeners),l.forEach(p=>p(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>yv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Re(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(cn(Vu),cn(Pu),cn(lh))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yv(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}function dw(){return!1}function hw(){}let fw=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();function pw(n){return function gw(n,r,o){if(Tr(n)&&!o){const l=Ei(n.index,r);return new uf(l,l)}return 47&n.type?new uf(r[Gt],r):null}(et(),I(),16==(16&n))}class zE{constructor(){}supports(r){return bh(r)}create(r){return new Iw(r)}}const Ew=(n,r)=>r;class Iw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Ew}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,l=this._removalsHead,p=0,E=null;for(;o||l;){const S=!l||o&&o.currentIndex<WE(l,p,E)?o:l,P=WE(S,p,E),$=S.currentIndex;if(S===l)p--,l=l._nextRemoved;else if(o=o._next,null==S.previousIndex)p++;else{E||(E=[]);const X=P-p,le=$-p;if(X!=le){for(let Dt=0;Dt<X;Dt++){const Ht=Dt<E.length?E[Dt]:E[Dt]=0,dn=Ht+Dt;le<=dn&&dn<X&&(E[Dt]=Ht+1)}E[S.previousIndex]=le-X}}P!==$&&r(S,P,$)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!bh(r))throw new Re(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,E,S,o=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let P=0;P<this.length;P++)E=r[P],S=this._trackByFn(P,E),null!==o&&Object.is(o.trackById,S)?(l&&(o=this._verifyReinsertion(o,E,S,P)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,S,P),l=!0),o=o._next}else p=0,function Lg(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let l;for(;!(l=o.next()).done;)r(l.value)}}(r,P=>{S=this._trackByFn(p,P),null!==o&&Object.is(o.trackById,S)?(l&&(o=this._verifyReinsertion(o,P,S,p)),Object.is(o.item,P)||this._addIdentityChange(o,P)):(o=this._mismatch(o,P,S,p),l=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,l,p){let E;return null===r?E=this._itTail:(E=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,E,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,E,p)):r=this._addAfter(new ww(o,l),E,p),r}_verifyReinsertion(r,o,l,p){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==E?r=this._reinsertAfter(E,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,E=r._nextRemoved;return null===p?this._removalsHead=E:p._nextRemoved=E,null===E?this._removalsTail=p:E._prevRemoved=p,this._insertAfter(r,o,l),this._addToMoves(r,l),r}_moveAfter(r,o,l){return this._unlink(r),this._insertAfter(r,o,l),this._addToMoves(r,l),r}_addAfter(r,o,l){return this._insertAfter(r,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,l){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new GE),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,l=r._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class ww{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const o=r._prevDup,l=r._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class GE{constructor(){this.map=new Map}put(r){const o=r.trackById;let l=this.map.get(o);l||(l=new bw,this.map.set(o,l)),l.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WE(n,r,o){const l=n.previousIndex;if(null===l)return l;let p=0;return o&&l<o.length&&(p=o[l]),l+r+p}class KE{constructor(){}supports(r){return r instanceof Map||Bg(r)}create(){return new Cw}}class Cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Bg(r)))throw new Re(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const E=this._getOrCreateRecordForKey(p,l);o=this._insertBeforeOrAppend(o,E)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const l=r._prev;return o._next=r,o._prev=l,r._prev=o,l&&(l._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const E=p._prev,S=p._next;return E&&(E._next=S),S&&(S._prev=E),p._next=null,p._prev=null,p}const l=new Dw(r);return this._records.set(r,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(l=>o(r[l],l))}}class Dw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YE(){return new b0([new zE])}let b0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const p=l.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||YE()),deps:[[n,new B,new Vr]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(null!=l)return l;throw new Re(901,!1)}}return n.\u0275prov=Vt({token:n,providedIn:"root",factory:YE}),n})();function qE(){return new C0([new KE])}let C0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(l){const p=l.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||qE()),deps:[[n,new B,new Vr]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(l)return l;throw new Re(901,!1)}}return n.\u0275prov=Vt({token:n,providedIn:"root",factory:qE}),n})();const Aw=PE(null,"core",[]);let xw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(cn(mv))},n.\u0275mod=oi({type:n}),n.\u0275inj=Ot({}),n})();function Mw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(_n,yt,V)=>{"use strict";V.d(yt,{qu:()=>Xs,u5:()=>Ss,JU:()=>dt,a5:()=>bn,kI:()=>je});var a=V(4650),z=(V(6895),V(8996)),Ce=V(9751),Te=V(4742),be=V(8421),ge=V(7669),De=V(5403),ke=V(3268),ve=V(1810),ce=V(4004);const dt=new a.OlP("NgValueAccessor"),Ze=!1;function Ue(g){return null==g||("string"==typeof g||Array.isArray(g))&&0===g.length}function Oe(g){return null!=g&&"number"==typeof g.length}const Ge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class je{static min(I){return function Je(g){return I=>{if(Ue(I.value)||Ue(g))return null;const h=parseFloat(I.value);return!isNaN(h)&&h<g?{min:{min:g,actual:I.value}}:null}}(I)}static max(I){return function tt(g){return I=>{if(Ue(I.value)||Ue(g))return null;const h=parseFloat(I.value);return!isNaN(h)&&h>g?{max:{max:g,actual:I.value}}:null}}(I)}static required(I){return function ft(g){return Ue(g.value)?{required:!0}:null}(I)}static requiredTrue(I){return function st(g){return!0===g.value?null:{required:!0}}(I)}static email(I){return function bt(g){return Ue(g.value)||Ge.test(g.value)?null:{email:!0}}(I)}static minLength(I){return function gt(g){return I=>Ue(I.value)||!Oe(I.value)?null:I.value.length<g?{minlength:{requiredLength:g,actualLength:I.value.length}}:null}(I)}static maxLength(I){return function Me(g){return I=>Oe(I.value)&&I.value.length>g?{maxlength:{requiredLength:g,actualLength:I.value.length}}:null}(I)}static pattern(I){return function Pe(g){if(!g)return Se;let I,h;return"string"==typeof g?(h="","^"!==g.charAt(0)&&(h+="^"),h+=g,"$"!==g.charAt(g.length-1)&&(h+="$"),I=new RegExp(h)):(h=g.toString(),I=g),D=>{if(Ue(D.value))return null;const q=D.value;return I.test(q)?null:{pattern:{requiredPattern:h,actualValue:q}}}}(I)}static nullValidator(I){return null}static compose(I){return Pt(I)}static composeAsync(I){return $n(I)}}function Se(g){return null}function lt(g){return null!=g}function Xe(g){const I=(0,a.QGY)(g)?(0,z.D)(g):g;if(Ze&&!(0,a.CqO)(I)){let h="Expected async validator to return Promise or Observable.";throw"object"==typeof g&&(h+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,h)}return I}function ut(g){let I={};return g.forEach(h=>{I=null!=h?{...I,...h}:I}),0===Object.keys(I).length?null:I}function ot(g,I){return I.map(h=>h(g))}function Vt(g){return g.map(I=>function Kt(g){return!g.validate}(I)?I:h=>I.validate(h))}function Pt(g){if(!g)return null;const I=g.filter(lt);return 0==I.length?null:function(h){return ut(ot(h,I))}}function Ot(g){return null!=g?Pt(Vt(g)):null}function $n(g){if(!g)return null;const I=g.filter(lt);return 0==I.length?null:function(h){return function ie(...g){const I=(0,ge.jO)(g),{args:h,keys:D}=(0,Te.D)(g),q=new Ce.y(et=>{const{length:an}=h;if(!an)return void et.complete();const xn=new Array(an);let Gn=an,Or=an;for(let Gr=0;Gr<an;Gr++){let Pr=!1;(0,be.Xf)(h[Gr]).subscribe((0,De.x)(et,qi=>{Pr||(Pr=!0,Or--),xn[Gr]=qi},()=>Gn--,void 0,()=>{(!Gn||!Pr)&&(Or||et.next(D?(0,ve.n)(D,xn):xn),et.complete())}))}});return I?q.pipe((0,ke.Z)(I)):q}(ot(h,I).map(Xe)).pipe((0,ce.U)(ut))}}function An(g){return null!=g?$n(Vt(g)):null}function er(g){return g?Array.isArray(g)?g:[g]:[]}function cr(g,I){return Array.isArray(g)?g.includes(I):g===I}function At(g,I){const h=er(I);return er(g).forEach(q=>{cr(h,q)||h.push(q)}),h}function mt(g,I){return er(I).filter(h=>!cr(g,h))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(I){this._rawValidators=I||[],this._composedValidatorFn=Ot(this._rawValidators)}_setAsyncValidators(I){this._rawAsyncValidators=I||[],this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(I){this._onDestroyCallbacks.push(I)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(I=>I()),this._onDestroyCallbacks=[]}reset(I){this.control&&this.control.reset(I)}hasError(I,h){return!!this.control&&this.control.hasError(I,h)}getError(I,h){return this.control?this.control.getError(I,h):null}}class bn extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}function cn(g,I){return g?`with name: '${I}'`:`at index: ${I}`}const We=!1,kt="VALID",Wt="INVALID",Ie="PENDING",Ee="DISABLED";function Ye(g){return(Qe(g)?g.validators:g)||null}function Ct(g,I){return(Qe(I)?I.asyncValidators:g)||null}function Qe(g){return null!=g&&!Array.isArray(g)&&"object"==typeof g}function qe(g,I,h){const D=g.controls;if(!(I?Object.keys(D):D).length)throw new a.vHH(1e3,We?function qt(g){return`\n    There are no form controls registered with this ${g?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(I):"");if(!D[h])throw new a.vHH(1001,We?function Et(g,I){return`Cannot find form control ${cn(g,I)}`}(I,h):"")}function me(g,I,h){g._forEachChild((D,q)=>{if(void 0===h[q])throw new a.vHH(1002,We?function Ae(g,I){return`Must supply a value for form control ${cn(g,I)}`}(I,q):"")})}class _t{constructor(I,h){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(I),this._assignAsyncValidators(h)}get validator(){return this._composedValidatorFn}set validator(I){this._rawValidators=this._composedValidatorFn=I}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(I){this._rawAsyncValidators=this._composedAsyncValidatorFn=I}get parent(){return this._parent}get valid(){return this.status===kt}get invalid(){return this.status===Wt}get pending(){return this.status==Ie}get disabled(){return this.status===Ee}get enabled(){return this.status!==Ee}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(I){this._assignValidators(I)}setAsyncValidators(I){this._assignAsyncValidators(I)}addValidators(I){this.setValidators(At(I,this._rawValidators))}addAsyncValidators(I){this.setAsyncValidators(At(I,this._rawAsyncValidators))}removeValidators(I){this.setValidators(mt(I,this._rawValidators))}removeAsyncValidators(I){this.setAsyncValidators(mt(I,this._rawAsyncValidators))}hasValidator(I){return cr(this._rawValidators,I)}hasAsyncValidator(I){return cr(this._rawAsyncValidators,I)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(I={}){this.touched=!0,this._parent&&!I.onlySelf&&this._parent.markAsTouched(I)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(I=>I.markAllAsTouched())}markAsUntouched(I={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(h=>{h.markAsUntouched({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}markAsDirty(I={}){this.pristine=!1,this._parent&&!I.onlySelf&&this._parent.markAsDirty(I)}markAsPristine(I={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(h=>{h.markAsPristine({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}markAsPending(I={}){this.status=Ie,!1!==I.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!I.onlySelf&&this._parent.markAsPending(I)}disable(I={}){const h=this._parentMarkedDirty(I.onlySelf);this.status=Ee,this.errors=null,this._forEachChild(D=>{D.disable({...I,onlySelf:!0})}),this._updateValue(),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...I,skipPristineCheck:h}),this._onDisabledChange.forEach(D=>D(!0))}enable(I={}){const h=this._parentMarkedDirty(I.onlySelf);this.status=kt,this._forEachChild(D=>{D.enable({...I,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent}),this._updateAncestors({...I,skipPristineCheck:h}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(I){this._parent&&!I.onlySelf&&(this._parent.updateValueAndValidity(I),I.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(I){this._parent=I}getRawValue(){return this.value}updateValueAndValidity(I={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===Ie)&&this._runAsyncValidator(I.emitEvent)),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.updateValueAndValidity(I)}_updateTreeValidity(I={emitEvent:!0}){this._forEachChild(h=>h._updateTreeValidity(I)),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ee:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(I){if(this.asyncValidator){this.status=Ie,this._hasOwnPendingAsyncValidator=!0;const h=Xe(this.asyncValidator(this));this._asyncValidationSubscription=h.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:I})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(I,h={}){this.errors=I,this._updateControlsErrors(!1!==h.emitEvent)}get(I){let h=I;return null==h||(Array.isArray(h)||(h=h.split(".")),0===h.length)?null:h.reduce((D,q)=>D&&D._find(q),this)}getError(I,h){const D=h?this.get(h):this;return D&&D.errors?D.errors[I]:null}hasError(I,h){return!!this.getError(I,h)}get root(){let I=this;for(;I._parent;)I=I._parent;return I}_updateControlsErrors(I){this.status=this._calculateStatus(),I&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(I)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ee:this.errors?Wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ie)?Ie:this._anyControlsHaveStatus(Wt)?Wt:kt}_anyControlsHaveStatus(I){return this._anyControls(h=>h.status===I)}_anyControlsDirty(){return this._anyControls(I=>I.dirty)}_anyControlsTouched(){return this._anyControls(I=>I.touched)}_updatePristine(I={}){this.pristine=!this._anyControlsDirty(),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}_updateTouched(I={}){this.touched=this._anyControlsTouched(),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}_registerOnCollectionChange(I){this._onCollectionChange=I}_setUpdateStrategy(I){Qe(I)&&null!=I.updateOn&&(this._updateOn=I.updateOn)}_parentMarkedDirty(I){return!I&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(I){return null}_assignValidators(I){this._rawValidators=Array.isArray(I)?I.slice():I,this._composedValidatorFn=function Rt(g){return Array.isArray(g)?Ot(g):g||null}(this._rawValidators)}_assignAsyncValidators(I){this._rawAsyncValidators=Array.isArray(I)?I.slice():I,this._composedAsyncValidatorFn=function wn(g){return Array.isArray(g)?An(g):g||null}(this._rawAsyncValidators)}}class zt extends _t{constructor(I,h,D){super(Ye(h),Ct(D,h)),this.controls=I,this._initObservables(),this._setUpdateStrategy(h),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(I,h){return this.controls[I]?this.controls[I]:(this.controls[I]=h,h.setParent(this),h._registerOnCollectionChange(this._onCollectionChange),h)}addControl(I,h,D={}){this.registerControl(I,h),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(I,h={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}setControl(I,h,D={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],h&&this.registerControl(I,h),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(I){return this.controls.hasOwnProperty(I)&&this.controls[I].enabled}setValue(I,h={}){me(this,!0,I),Object.keys(I).forEach(D=>{qe(this,!0,D),this.controls[D].setValue(I[D],{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h)}patchValue(I,h={}){null!=I&&(Object.keys(I).forEach(D=>{const q=this.controls[D];q&&q.patchValue(I[D],{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h))}reset(I={},h={}){this._forEachChild((D,q)=>{D.reset(I[q],{onlySelf:!0,emitEvent:h.emitEvent})}),this._updatePristine(h),this._updateTouched(h),this.updateValueAndValidity(h)}getRawValue(){return this._reduceChildren({},(I,h,D)=>(I[D]=h.getRawValue(),I))}_syncPendingControls(){let I=this._reduceChildren(!1,(h,D)=>!!D._syncPendingControls()||h);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){Object.keys(this.controls).forEach(h=>{const D=this.controls[h];D&&I(D,h)})}_setUpControls(){this._forEachChild(I=>{I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(I){for(const[h,D]of Object.entries(this.controls))if(this.contains(h)&&I(D))return!0;return!1}_reduceValue(){return this._reduceChildren({},(h,D,q)=>((D.enabled||this.disabled)&&(h[q]=D.value),h))}_reduceChildren(I,h){let D=I;return this._forEachChild((q,et)=>{D=h(D,q,et)}),D}_allControlsDisabled(){for(const I of Object.keys(this.controls))if(this.controls[I].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(I){return this.controls.hasOwnProperty(I)?this.controls[I]:null}}class Kn extends zt{}const vi=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>bi}),bi="always";function $e(g,I){const h=g.indexOf(I);h>-1&&g.splice(h,1)}function rt(g){return"object"==typeof g&&null!==g&&2===Object.keys(g).length&&"value"in g&&"disabled"in g}const It=class extends _t{constructor(I=null,h,D){super(Ye(h),Ct(D,h)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(I),this._setUpdateStrategy(h),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qe(h)&&(h.nonNullable||h.initialValueIsDefault)&&(this.defaultValue=rt(I)?I.value:I)}setValue(I,h={}){this.value=this._pendingValue=I,this._onChange.length&&!1!==h.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==h.emitViewToModelChange)),this.updateValueAndValidity(h)}patchValue(I,h={}){this.setValue(I,h)}reset(I=this.defaultValue,h={}){this._applyFormState(I),this.markAsPristine(h),this.markAsUntouched(h),this.setValue(this.value,h),this._pendingChange=!1}_updateValue(){}_anyControls(I){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(I){this._onChange.push(I)}_unregisterOnChange(I){$e(this._onChange,I)}registerOnDisabledChange(I){this._onDisabledChange.push(I)}_unregisterOnDisabledChange(I){$e(this._onDisabledChange,I)}_forEachChild(I){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(I){rt(I)?(this.value=this._pendingValue=I.value,I.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=I}};let zr=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({}),g})(),fr=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[zr]}),g})();class xo extends _t{constructor(I,h,D){super(Ye(h),Ct(D,h)),this.controls=I,this._initObservables(),this._setUpdateStrategy(h),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(I){return this.controls[this._adjustIndex(I)]}push(I,h={}){this.controls.push(I),this._registerControl(I),this.updateValueAndValidity({emitEvent:h.emitEvent}),this._onCollectionChange()}insert(I,h,D={}){this.controls.splice(I,0,h),this._registerControl(h),this.updateValueAndValidity({emitEvent:D.emitEvent})}removeAt(I,h={}){let D=this._adjustIndex(I);D<0&&(D=0),this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),this.controls.splice(D,1),this.updateValueAndValidity({emitEvent:h.emitEvent})}setControl(I,h,D={}){let q=this._adjustIndex(I);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),h&&(this.controls.splice(q,0,h),this._registerControl(h)),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(I,h={}){me(this,!1,I),I.forEach((D,q)=>{qe(this,!1,q),this.at(q).setValue(D,{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h)}patchValue(I,h={}){null!=I&&(I.forEach((D,q)=>{this.at(q)&&this.at(q).patchValue(D,{onlySelf:!0,emitEvent:h.emitEvent})}),this.updateValueAndValidity(h))}reset(I=[],h={}){this._forEachChild((D,q)=>{D.reset(I[q],{onlySelf:!0,emitEvent:h.emitEvent})}),this._updatePristine(h),this._updateTouched(h),this.updateValueAndValidity(h)}getRawValue(){return this.controls.map(I=>I.getRawValue())}clear(I={}){this.controls.length<1||(this._forEachChild(h=>h._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:I.emitEvent}))}_adjustIndex(I){return I<0?I+this.length:I}_syncPendingControls(){let I=this.controls.reduce((h,D)=>!!D._syncPendingControls()||h,!1);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){this.controls.forEach((h,D)=>{I(h,D)})}_updateValue(){this.value=this.controls.filter(I=>I.enabled||this.disabled).map(I=>I.value)}_anyControls(I){return this.controls.some(h=>h.enabled&&I(h))}_setUpControls(){this._forEachChild(I=>this._registerControl(I))}_allControlsDisabled(){for(const I of this.controls)if(I.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(I){I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)}_find(I){var h;return null!==(h=this.at(I))&&void 0!==h?h:null}}function li(g){return!!g&&(void 0!==g.asyncValidators||void 0!==g.validators||void 0!==g.updateOn)}let Xs=(()=>{class g{constructor(){this.useNonNullable=!1}get nonNullable(){const h=new g;return h.useNonNullable=!0,h}group(h,D=null){const q=this._reduceControls(h);let et={};return li(D)?et=D:null!==D&&(et.validators=D.validator,et.asyncValidators=D.asyncValidator),new zt(q,et)}record(h,D=null){const q=this._reduceControls(h);return new Kn(q,D)}control(h,D,q){let et={};return this.useNonNullable?(li(D)?et=D:(et.validators=D,et.asyncValidators=q),new It(h,{...et,nonNullable:!0})):new It(h,D,q)}array(h,D,q){const et=h.map(an=>this._createControl(an));return new xo(et,D,q)}_reduceControls(h){const D={};return Object.keys(h).forEach(q=>{D[q]=this._createControl(h[q])}),D}_createControl(h){return h instanceof It||h instanceof _t?h:Array.isArray(h)?this.control(h[0],h.length>1?h[1]:null,h.length>2?h[2]:null):this.control(h)}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Ss=(()=>{class g{static withConfig(h){var D;return{ngModule:g,providers:[{provide:vi,useValue:null!==(D=h.callSetDisabledState)&&void 0!==D?D:bi}]}}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[fr]}),g})()},1481:(_n,yt,V)=>{"use strict";V.d(yt,{Dx:()=>un,b2:()=>bn,q6:()=>At});var a=V(6895),ee=V(4650);class z extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends z{static makeCurrent(){(0,a.HT)(new Ce)}onAndCancel(qe,me,_t){return qe.addEventListener(me,_t,!1),()=>{qe.removeEventListener(me,_t,!1)}}dispatchEvent(qe,me){qe.dispatchEvent(me)}remove(qe){qe.parentNode&&qe.parentNode.removeChild(qe)}createElement(qe,me){return(me=me||this.getDefaultDocument()).createElement(qe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(qe){return qe.nodeType===Node.ELEMENT_NODE}isShadowRoot(qe){return qe instanceof DocumentFragment}getGlobalEventTarget(qe,me){return"window"===me?window:"document"===me?qe:"body"===me?qe.body:null}getBaseHref(qe){const me=function be(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==me?null:function De(Qe){ge=ge||document.createElement("a"),ge.setAttribute("href",Qe);const qe=ge.pathname;return"/"===qe.charAt(0)?qe:`/${qe}`}(me)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(qe){return(0,a.Mx)(document.cookie,qe)}}let ge,Te=null;const ke=new ee.OlP("TRANSITION_ID"),ie=[{provide:ee.ip1,useFactory:function ve(Qe,qe,me){return()=>{me.get(ee.CZH).donePromise.then(()=>{const _t=(0,a.q)(),zt=qe.querySelectorAll(`style[ng-transition="${Qe}"]`);for(let en=0;en<zt.length;en++)_t.remove(zt[en])})}},deps:[ke,a.K0,ee.zs3],multi:!0}];let xe=(()=>{class Qe{build(){return new XMLHttpRequest}}return Qe.\u0275fac=function(me){return new(me||Qe)},Qe.\u0275prov=ee.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const ze=new ee.OlP("EventManagerPlugins");let dt=(()=>{class Qe{constructor(me,_t){this._zone=_t,this._eventNameToPlugin=new Map,me.forEach(zt=>{zt.manager=this}),this._plugins=me.slice().reverse()}addEventListener(me,_t,zt){return this._findPluginFor(_t).addEventListener(me,_t,zt)}addGlobalEventListener(me,_t,zt){return this._findPluginFor(_t).addGlobalEventListener(me,_t,zt)}getZone(){return this._zone}_findPluginFor(me){const _t=this._eventNameToPlugin.get(me);if(_t)return _t;const zt=this._plugins;for(let en=0;en<zt.length;en++){const On=zt[en];if(On.supports(me))return this._eventNameToPlugin.set(me,On),On}throw new Error(`No event manager plugin found for event ${me}`)}}return Qe.\u0275fac=function(me){return new(me||Qe)(ee.LFG(ze),ee.LFG(ee.R0b))},Qe.\u0275prov=ee.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class Mt{constructor(qe){this._doc=qe}addGlobalEventListener(qe,me,_t){const zt=(0,a.q)().getGlobalEventTarget(this._doc,qe);if(!zt)throw new Error(`Unsupported event target ${zt} for event ${me}`);return this.addEventListener(zt,me,_t)}}let Re=(()=>{class Qe{constructor(){this.usageCount=new Map}addStyles(me){for(const _t of me)1===this.changeUsageCount(_t,1)&&this.onStyleAdded(_t)}removeStyles(me){for(const _t of me)0===this.changeUsageCount(_t,-1)&&this.onStyleRemoved(_t)}onStyleRemoved(me){}onStyleAdded(me){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(me,_t){var zt;const en=this.usageCount;let On=null!==(zt=en.get(me))&&void 0!==zt?zt:0;return On+=_t,On>0?en.set(me,On):en.delete(me),On}ngOnDestroy(){for(const me of this.getAllStyles())this.onStyleRemoved(me);this.usageCount.clear()}}return Qe.\u0275fac=function(me){return new(me||Qe)},Qe.\u0275prov=ee.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),ye=(()=>{class Qe extends Re{constructor(me){super(),this.doc=me,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(me){for(const _t of this.hostNodes)this.addStyleToHost(_t,me)}onStyleRemoved(me){const _t=this.styleRef,zt=_t.get(me);null==zt||zt.forEach(en=>en.remove()),_t.delete(me)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(me){this.hostNodes.add(me);for(const _t of this.getAllStyles())this.addStyleToHost(me,_t)}removeHost(me){this.hostNodes.delete(me)}addStyleToHost(me,_t){const zt=this.doc.createElement("style");zt.textContent=_t,me.appendChild(zt);const en=this.styleRef.get(_t);en?en.push(zt):this.styleRef.set(_t,[zt])}resetHostNodes(){const me=this.hostNodes;me.clear(),me.add(this.doc.head)}}return Qe.\u0275fac=function(me){return new(me||Qe)(ee.LFG(a.K0))},Qe.\u0275prov=ee.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ht=/%COMP%/g,N=new ee.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Je(Qe,qe){return qe.flat(100).map(me=>me.replace(ht,Qe))}function tt(Qe){return qe=>{if("__ngUnwrap__"===qe)return Qe;!1===Qe(qe)&&(qe.preventDefault(),qe.returnValue=!1)}}let ft=(()=>{class Qe{constructor(me,_t,zt,en){this.eventManager=me,this.sharedStylesHost=_t,this.appId=zt,this.removeStylesOnCompDestory=en,this.rendererByCompId=new Map,this.defaultRenderer=new st(me)}createRenderer(me,_t){if(!me||!_t)return this.defaultRenderer;const zt=this.getOrCreateRenderer(me,_t);return zt instanceof lt?zt.applyToHost(me):zt instanceof Se&&zt.applyStyles(),zt}getOrCreateRenderer(me,_t){const zt=this.rendererByCompId;let en=zt.get(_t.id);if(!en){const On=this.eventManager,Kn=this.sharedStylesHost,Cr=this.removeStylesOnCompDestory;switch(_t.encapsulation){case ee.ifc.Emulated:en=new lt(On,Kn,_t,this.appId,Cr);break;case ee.ifc.ShadowDom:return new Pe(On,Kn,me,_t);default:en=new Se(On,Kn,_t,Cr)}en.onDestroy=()=>zt.delete(_t.id),zt.set(_t.id,en)}return en}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Qe.\u0275fac=function(me){return new(me||Qe)(ee.LFG(dt),ee.LFG(ye),ee.LFG(ee.AFp),ee.LFG(N))},Qe.\u0275prov=ee.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class st{constructor(qe){this.eventManager=qe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(qe,me){return me?document.createElementNS(de[me]||me,qe):document.createElement(qe)}createComment(qe){return document.createComment(qe)}createText(qe){return document.createTextNode(qe)}appendChild(qe,me){(Me(qe)?qe.content:qe).appendChild(me)}insertBefore(qe,me,_t){qe&&(Me(qe)?qe.content:qe).insertBefore(me,_t)}removeChild(qe,me){qe&&qe.removeChild(me)}selectRootElement(qe,me){let _t="string"==typeof qe?document.querySelector(qe):qe;if(!_t)throw new Error(`The selector "${qe}" did not match any elements`);return me||(_t.textContent=""),_t}parentNode(qe){return qe.parentNode}nextSibling(qe){return qe.nextSibling}setAttribute(qe,me,_t,zt){if(zt){me=zt+":"+me;const en=de[zt];en?qe.setAttributeNS(en,me,_t):qe.setAttribute(me,_t)}else qe.setAttribute(me,_t)}removeAttribute(qe,me,_t){if(_t){const zt=de[_t];zt?qe.removeAttributeNS(zt,me):qe.removeAttribute(`${_t}:${me}`)}else qe.removeAttribute(me)}addClass(qe,me){qe.classList.add(me)}removeClass(qe,me){qe.classList.remove(me)}setStyle(qe,me,_t,zt){zt&(ee.JOm.DashCase|ee.JOm.Important)?qe.style.setProperty(me,_t,zt&ee.JOm.Important?"important":""):qe.style[me]=_t}removeStyle(qe,me,_t){_t&ee.JOm.DashCase?qe.style.removeProperty(me):qe.style[me]=""}setProperty(qe,me,_t){qe[me]=_t}setValue(qe,me){qe.nodeValue=me}listen(qe,me,_t){return"string"==typeof qe?this.eventManager.addGlobalEventListener(qe,me,tt(_t)):this.eventManager.addEventListener(qe,me,tt(_t))}}function Me(Qe){return"TEMPLATE"===Qe.tagName&&void 0!==Qe.content}class Pe extends st{constructor(qe,me,_t,zt){super(qe),this.sharedStylesHost=me,this.hostEl=_t,this.shadowRoot=_t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=Je(zt.id,zt.styles);for(const On of en){const Kn=document.createElement("style");Kn.textContent=On,this.shadowRoot.appendChild(Kn)}}nodeOrShadowRoot(qe){return qe===this.hostEl?this.shadowRoot:qe}appendChild(qe,me){return super.appendChild(this.nodeOrShadowRoot(qe),me)}insertBefore(qe,me,_t){return super.insertBefore(this.nodeOrShadowRoot(qe),me,_t)}removeChild(qe,me){return super.removeChild(this.nodeOrShadowRoot(qe),me)}parentNode(qe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(qe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Se extends st{constructor(qe,me,_t,zt,en=_t.id){super(qe),this.sharedStylesHost=me,this.removeStylesOnCompDestory=zt,this.rendererUsageCount=0,this.styles=Je(en,_t.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var qe;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(qe=this.onDestroy)||void 0===qe||qe.call(this))}}class lt extends Se{constructor(qe,me,_t,zt,en){const On=zt+"-"+_t.id;super(qe,me,_t,en,On),this.contentAttr=function Ge(Qe){return"_ngcontent-%COMP%".replace(ht,Qe)}(On),this.hostAttr=function je(Qe){return"_nghost-%COMP%".replace(ht,Qe)}(On)}applyToHost(qe){this.applyStyles(),this.setAttribute(qe,this.hostAttr,"")}createElement(qe,me){const _t=super.createElement(qe,me);return super.setAttribute(_t,this.contentAttr,""),_t}}let Xe=(()=>{class Qe extends Mt{constructor(me){super(me)}supports(me){return!0}addEventListener(me,_t,zt){return me.addEventListener(_t,zt,!1),()=>this.removeEventListener(me,_t,zt)}removeEventListener(me,_t,zt){return me.removeEventListener(_t,zt)}}return Qe.\u0275fac=function(me){return new(me||Qe)(ee.LFG(a.K0))},Qe.\u0275prov=ee.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const ut=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kt={alt:Qe=>Qe.altKey,control:Qe=>Qe.ctrlKey,meta:Qe=>Qe.metaKey,shift:Qe=>Qe.shiftKey};let Vt=(()=>{class Qe extends Mt{constructor(me){super(me)}supports(me){return null!=Qe.parseEventName(me)}addEventListener(me,_t,zt){const en=Qe.parseEventName(_t),On=Qe.eventCallback(en.fullKey,zt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(me,en.domEventName,On))}static parseEventName(me){const _t=me.toLowerCase().split("."),zt=_t.shift();if(0===_t.length||"keydown"!==zt&&"keyup"!==zt)return null;const en=Qe._normalizeKey(_t.pop());let On="",Kn=_t.indexOf("code");if(Kn>-1&&(_t.splice(Kn,1),On="code."),ut.forEach(vi=>{const bi=_t.indexOf(vi);bi>-1&&(_t.splice(bi,1),On+=vi+".")}),On+=en,0!=_t.length||0===en.length)return null;const Cr={};return Cr.domEventName=zt,Cr.fullKey=On,Cr}static matchEventFullKeyCode(me,_t){let zt=ot[me.key]||me.key,en="";return _t.indexOf("code.")>-1&&(zt=me.code,en="code."),!(null==zt||!zt)&&(zt=zt.toLowerCase()," "===zt?zt="space":"."===zt&&(zt="dot"),ut.forEach(On=>{On!==zt&&(0,Kt[On])(me)&&(en+=On+".")}),en+=zt,en===_t)}static eventCallback(me,_t,zt){return en=>{Qe.matchEventFullKeyCode(en,me)&&zt.runGuarded(()=>_t(en))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return Qe.\u0275fac=function(me){return new(me||Qe)(ee.LFG(a.K0))},Qe.\u0275prov=ee.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const At=(0,ee.eFA)(ee._c5,"browser",[{provide:ee.Lbi,useValue:a.bD},{provide:ee.g9A,useValue:function Un(){Ce.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function er(){return(0,ee.RDi)(document),document},deps:[]}]),mt=new ee.OlP(""),Nt=[{provide:ee.rWj,useClass:class ce{addToWindow(qe){ee.dqk.getAngularTestability=(_t,zt=!0)=>{const en=qe.findTestabilityInTree(_t,zt);if(null==en)throw new Error("Could not find testability for element.");return en},ee.dqk.getAllAngularTestabilities=()=>qe.getAllTestabilities(),ee.dqk.getAllAngularRootElements=()=>qe.getAllRootElements(),ee.dqk.frameworkStabilizers||(ee.dqk.frameworkStabilizers=[]),ee.dqk.frameworkStabilizers.push(_t=>{const zt=ee.dqk.getAllAngularTestabilities();let en=zt.length,On=!1;const Kn=function(Cr){On=On||Cr,en--,0==en&&_t(On)};zt.forEach(function(Cr){Cr.whenStable(Kn)})})}findTestabilityInTree(qe,me,_t){if(null==me)return null;const zt=qe.getTestability(me);return null!=zt?zt:_t?(0,a.q)().isShadowRoot(me)?this.findTestabilityInTree(qe,me.host,!0):this.findTestabilityInTree(qe,me.parentElement,!0):null}},deps:[]},{provide:ee.lri,useClass:ee.dDg,deps:[ee.R0b,ee.eoX,ee.rWj]},{provide:ee.dDg,useClass:ee.dDg,deps:[ee.R0b,ee.eoX,ee.rWj]}],St=[{provide:ee.zSh,useValue:"root"},{provide:ee.qLn,useFactory:function yn(){return new ee.qLn},deps:[]},{provide:ze,useClass:Xe,multi:!0,deps:[a.K0,ee.R0b,ee.Lbi]},{provide:ze,useClass:Vt,multi:!0,deps:[a.K0]},{provide:ft,useClass:ft,deps:[dt,ye,ee.AFp,N]},{provide:ee.FYo,useExisting:ft},{provide:Re,useExisting:ye},{provide:ye,useClass:ye,deps:[a.K0]},{provide:dt,useClass:dt,deps:[ze,ee.R0b]},{provide:a.JF,useClass:xe,deps:[]},[]];let bn=(()=>{class Qe{constructor(me){}static withServerTransition(me){return{ngModule:Qe,providers:[{provide:ee.AFp,useValue:me.appId},{provide:ke,useExisting:ee.AFp},ie]}}}return Qe.\u0275fac=function(me){return new(me||Qe)(ee.LFG(mt,12))},Qe.\u0275mod=ee.oAB({type:Qe}),Qe.\u0275inj=ee.cJS({providers:[...St,...Nt],imports:[a.ez,ee.hGG]}),Qe})(),un=(()=>{class Qe{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return Qe.\u0275fac=function(me){return new(me||Qe)(ee.LFG(a.K0))},Qe.\u0275prov=ee.Yz7({token:Qe,factory:function(me){let _t=null;return _t=me?new me:function pr(){return new un((0,ee.LFG)(a.K0))}(),_t},providedIn:"root"}),Qe})();typeof window<"u"&&window},1194:(_n,yt,V)=>{"use strict";V.d(yt,{gz:()=>Qi,y6:()=>Cs,OD:()=>It,eC:()=>yn,wm:()=>rs,wN:()=>oo,F0:()=>Bi,rH:()=>Bs,Bz:()=>$s,Hx:()=>Ae});var a=V(4650),ee=V(8996),z=V(9646),Ce=V(1135),Te=V(6805),be=V(9751),ge=V(4742),De=V(4671),ke=V(3268),ve=V(7669),ie=V(1810),ce=V(5403),xe=V(9672);function ze(...T){const M=(0,ve.yG)(T),w=(0,ve.jO)(T),{args:R,keys:j}=(0,ge.D)(T);if(0===R.length)return(0,ee.D)([],M);const ne=new be.y(function dt(T,M,w=De.y){return R=>{Mt(M,()=>{const{length:j}=T,ne=new Array(j);let ue=j,pt=j;for(let Ut=0;Ut<j;Ut++)Mt(M,()=>{const Sn=(0,ee.D)(T[Ut],M);let zn=!1;Sn.subscribe((0,ce.x)(R,Bn=>{ne[Ut]=Bn,zn||(zn=!0,pt--),pt||R.next(w(ne.slice()))},()=>{--ue||R.complete()}))},R)},R)}}(R,M,j?ue=>(0,ie.n)(j,ue):De.y));return w?ne.pipe((0,ke.Z)(w)):ne}function Mt(T,M,w){T?(0,xe.f)(w,T,M):M()}var Re=V(7272),ye=V(8421);function de(T){return new be.y(M=>{(0,ye.Xf)(T()).subscribe(M)})}var ht=V(9635),Be=V(576);function Ze(T,M){const w=(0,Be.m)(T)?T:()=>T,R=j=>j.error(w());return new be.y(M?j=>M.schedule(R,0,j):R)}var Ue=V(515),Oe=V(727),Fe=V(4482);function N(){return(0,Fe.e)((T,M)=>{let w=null;T._refCount++;const R=(0,ce.x)(M,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(w=null);const j=T._connection,ne=w;w=null,j&&(!ne||j===ne)&&j.unsubscribe(),M.unsubscribe()});T.subscribe(R),R.closed||(w=T.connect())})}class Ge extends be.y{constructor(M,w){super(),this.source=M,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Fe.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Oe.w0;const w=this.getSubject();M.add(this.source.subscribe((0,ce.x)(w,void 0,()=>{this._teardown(),w.complete()},R=>{this._teardown(),w.error(R)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Oe.w0.EMPTY)}return M}refCount(){return N()(this)}}var je=V(7579),Je=V(6895),tt=V(4004),ft=V(3900),st=V(5698),bt=V(8675),gt=V(9300),Me=V(5577),Pe=V(590),Se=V(4351),lt=V(8505);function Xe(T){return(0,Fe.e)((M,w)=>{let ne,R=null,j=!1;R=M.subscribe((0,ce.x)(w,void 0,void 0,ue=>{ne=(0,ye.Xf)(T(ue,Xe(T)(M))),R?(R.unsubscribe(),R=null,ne.subscribe(w)):j=!0})),j&&(R.unsubscribe(),R=null,ne.subscribe(w))})}var ut=V(5026);function ot(T){return T<=0?()=>Ue.E:(0,Fe.e)((M,w)=>{let R=[];M.subscribe((0,ce.x)(w,j=>{R.push(j),T<R.length&&R.shift()},()=>{for(const j of R)w.next(j);w.complete()},void 0,()=>{R=null}))})}var Kt=V(8068),Vt=V(6590);function Pt(T,M){const w=arguments.length>=2;return R=>R.pipe(T?(0,gt.h)((j,ne)=>T(j,ne,R)):De.y,ot(1),w?(0,Vt.d)(M):(0,Kt.T)(()=>new Te.K))}function An(T){return(0,Fe.e)((M,w)=>{try{M.subscribe(w)}finally{w.add(T)}})}var Mn=V(8189),Un=V(1481);const yn="primary",er=Symbol("RouteTitle");class cr{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const w=this.params[M];return Array.isArray(w)?w[0]:w}return null}getAll(M){if(this.has(M)){const w=this.params[M];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function At(T){return new cr(T)}function mt(T,M,w){const R=w.path.split("/");if(R.length>T.length||"full"===w.pathMatch&&(M.hasChildren()||R.length<T.length))return null;const j={};for(let ne=0;ne<R.length;ne++){const ue=R[ne],pt=T[ne];if(ue.startsWith(":"))j[ue.substring(1)]=pt;else if(ue!==pt.path)return null}return{consumed:T.slice(0,R.length),posParams:j}}function St(T,M){const w=T?Object.keys(T):void 0,R=M?Object.keys(M):void 0;if(!w||!R||w.length!=R.length)return!1;let j;for(let ne=0;ne<w.length;ne++)if(j=w[ne],!bn(T[j],M[j]))return!1;return!0}function bn(T,M){if(Array.isArray(T)&&Array.isArray(M)){if(T.length!==M.length)return!1;const w=[...T].sort(),R=[...M].sort();return w.every((j,ne)=>R[ne]===j)}return T===M}function on(T){return Array.prototype.concat.apply([],T)}function In(T){return T.length>0?T[T.length-1]:null}function pr(T,M){for(const w in T)T.hasOwnProperty(w)&&M(T[w],w)}function un(T){return(0,a.CqO)(T)?T:(0,a.QGY)(T)?(0,ee.D)(Promise.resolve(T)):(0,z.of)(T)}const Cn=!1,hn={exact:function yr(T,M,w){if(!qt(T.segments,M.segments)||!ii(T.segments,M.segments,w)||T.numberOfChildren!==M.numberOfChildren)return!1;for(const R in M.children)if(!T.children[R]||!yr(T.children[R],M.children[R],w))return!1;return!0},subset:ri},Fn={exact:function nn(T,M){return St(T,M)},subset:function ni(T,M){return Object.keys(M).length<=Object.keys(T).length&&Object.keys(M).every(w=>bn(T[w],M[w]))},ignored:()=>!0};function lr(T,M,w){return hn[w.paths](T.root,M.root,w.matrixParams)&&Fn[w.queryParams](T.queryParams,M.queryParams)&&!("exact"===w.fragment&&T.fragment!==M.fragment)}function ri(T,M,w){return xr(T,M,M.segments,w)}function xr(T,M,w,R){if(T.segments.length>w.length){const j=T.segments.slice(0,w.length);return!(!qt(j,w)||M.hasChildren()||!ii(j,w,R))}if(T.segments.length===w.length){if(!qt(T.segments,w)||!ii(T.segments,w,R))return!1;for(const j in M.children)if(!T.children[j]||!ri(T.children[j],M.children[j],R))return!1;return!0}{const j=w.slice(0,T.segments.length),ne=w.slice(T.segments.length);return!!(qt(T.segments,j)&&ii(T.segments,j,R)&&T.children[yn])&&xr(T.children[yn],M,ne,R)}}function ii(T,M,w){return M.every((R,j)=>Fn[w](T[j].parameters,R.parameters))}class rr{constructor(M=new Hn([],{}),w={},R=null){this.root=M,this.queryParams=w,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return kt.serialize(this)}}class Hn{constructor(M,w){this.segments=M,this.children=w,this.parent=null,pr(w,(R,j)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wt(this)}}class Qr{constructor(M,w){this.path=M,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return qe(this)}}function qt(T,M){return T.length===M.length&&T.every((w,R)=>w.path===M[R].path)}let Ae=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return new We},providedIn:"root"}),T})();class We{parse(M){const w=new bi(M);return new rr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(M){const w=`/${Ie(M.root,!0)}`,R=function _t(T){const M=Object.keys(T).map(w=>{const R=T[w];return Array.isArray(R)?R.map(j=>`${Ye(w)}=${Ye(j)}`).join("&"):`${Ye(w)}=${Ye(R)}`}).filter(w=>!!w);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${w}${R}${"string"==typeof M.fragment?`#${function Rt(T){return encodeURI(T)}(M.fragment)}`:""}`}}const kt=new We;function Wt(T){return T.segments.map(M=>qe(M)).join("/")}function Ie(T,M){if(!T.hasChildren())return Wt(T);if(M){const w=T.children[yn]?Ie(T.children[yn],!1):"",R=[];return pr(T.children,(j,ne)=>{ne!==yn&&R.push(`${ne}:${Ie(j,!1)}`)}),R.length>0?`${w}(${R.join("//")})`:w}{const w=function Et(T,M){let w=[];return pr(T.children,(R,j)=>{j===yn&&(w=w.concat(M(R,j)))}),pr(T.children,(R,j)=>{j!==yn&&(w=w.concat(M(R,j)))}),w}(T,(R,j)=>j===yn?[Ie(T.children[yn],!1)]:[`${j}:${Ie(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[yn]?`${Wt(T)}/${w[0]}`:`${Wt(T)}/(${w.join("//")})`}}function Ee(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ye(T){return Ee(T).replace(/%3B/gi,";")}function Ct(T){return Ee(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wn(T){return decodeURIComponent(T)}function Qe(T){return wn(T.replace(/\+/g,"%20"))}function qe(T){return`${Ct(T.path)}${function me(T){return Object.keys(T).map(M=>`;${Ct(M)}=${Ct(T[M])}`).join("")}(T.parameters)}`}const zt=/^[^\/()?;=#]+/;function en(T){const M=T.match(zt);return M?M[0]:""}const On=/^[^=?&#]+/,Cr=/^[^&#]+/;class bi{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(M.length>0||Object.keys(w).length>0)&&(R[yn]=new Hn(M,w)),R}parseSegment(){const M=en(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new a.vHH(4009,Cn);return this.capture(M),new Qr(wn(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const w=en(this.remaining);if(!w)return;this.capture(w);let R="";if(this.consumeOptional("=")){const j=en(this.remaining);j&&(R=j,this.capture(R))}M[wn(w)]=wn(R)}parseQueryParam(M){const w=function Kn(T){const M=T.match(On);return M?M[0]:""}(this.remaining);if(!w)return;this.capture(w);let R="";if(this.consumeOptional("=")){const ue=function vi(T){const M=T.match(Cr);return M?M[0]:""}(this.remaining);ue&&(R=ue,this.capture(R))}const j=Qe(w),ne=Qe(R);if(M.hasOwnProperty(j)){let ue=M[j];Array.isArray(ue)||(ue=[ue],M[j]=ue),ue.push(ne)}else M[j]=ne}parseParens(M){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=en(this.remaining),j=this.remaining[R.length];if("/"!==j&&")"!==j&&";"!==j)throw new a.vHH(4010,Cn);let ne;R.indexOf(":")>-1?(ne=R.slice(0,R.indexOf(":")),this.capture(ne),this.capture(":")):M&&(ne=yn);const ue=this.parseChildren();w[ne]=1===Object.keys(ue).length?ue[yn]:new Hn([],ue),this.consumeOptional("//")}return w}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new a.vHH(4011,Cn)}}function ji(T){return T.segments.length>0?new Hn([],{[yn]:T}):T}function oi(T){const M={};for(const R of Object.keys(T.children)){const ne=oi(T.children[R]);(ne.segments.length>0||ne.hasChildren())&&(M[R]=ne)}return function Ci(T){if(1===T.numberOfChildren&&T.children[yn]){const M=T.children[yn];return new Hn(T.segments.concat(M.segments),M.children)}return T}(new Hn(T.segments,M))}function Fr(T){return T instanceof rr}const es=!1;function Lr(T,M,w,R,j){var ne;if(0===w.length)return Mr(M.root,M.root,M.root,R,j);const ue=function wi(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Wi(!0,0,T);let M=0,w=!1;const R=T.reduce((j,ne,ue)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const pt={};return pr(ne.outlets,(Ut,Sn)=>{pt[Sn]="string"==typeof Ut?Ut.split("/"):Ut}),[...j,{outlets:pt}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===ue?(ne.split("/").forEach((pt,Ut)=>{0==Ut&&"."===pt||(0==Ut&&""===pt?w=!0:".."===pt?M++:""!=pt&&j.push(pt))}),j):[...j,ne]},[]);return new Wi(w,M,R)}(w);return ue.toRoot()?Mr(M.root,M.root,new Hn([],{}),R,j):function pt(Sn){var zn;const Bn=function Hr(T,M,w,R){if(T.isAbsolute)return new En(M.root,!0,0);if(-1===R)return new En(w,w===M.root,0);return function he(T,M,w){let R=T,j=M,ne=w;for(;ne>j;){if(ne-=j,R=R.parent,!R)throw new a.vHH(4005,es&&"Invalid number of '../'");j=R.segments.length}return new En(R,!1,j-ne)}(w,R+(Jr(T.commands[0])?0:1),T.numberOfDoubleDots)}(ue,M,null===(zn=T.snapshot)||void 0===zn?void 0:zn._urlSegment,Sn),ti=Bn.processChildren?Y(Bn.segmentGroup,Bn.index,ue.commands):F(Bn.segmentGroup,Bn.index,ue.commands);return Mr(M.root,Bn.segmentGroup,ti,R,j)}(null===(ne=T.snapshot)||void 0===ne?void 0:ne._lastPathIndex)}function Jr(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function ei(T){return"object"==typeof T&&null!=T&&T.outlets}function Mr(T,M,w,R,j){let ue,ne={};R&&pr(R,(Ut,Sn)=>{ne[Sn]=Array.isArray(Ut)?Ut.map(zn=>`${zn}`):`${Ut}`}),ue=T===M?w:Ii(T,M,w);const pt=ji(oi(ue));return new rr(pt,ne,j)}function Ii(T,M,w){const R={};return pr(T.children,(j,ne)=>{R[ne]=j===M?w:Ii(j,M,w)}),new Hn(T.segments,R)}class Wi{constructor(M,w,R){if(this.isAbsolute=M,this.numberOfDoubleDots=w,this.commands=R,M&&R.length>0&&Jr(R[0]))throw new a.vHH(4003,es&&"Root segment cannot have matrix parameters");const j=R.find(ei);if(j&&j!==In(R))throw new a.vHH(4004,es&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class En{constructor(M,w,R){this.segmentGroup=M,this.processChildren=w,this.index=R}}function F(T,M,w){if(T||(T=new Hn([],{})),0===T.segments.length&&T.hasChildren())return Y(T,M,w);const R=function re(T,M,w){let R=0,j=M;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<T.segments.length;){if(R>=w.length)return ne;const ue=T.segments[j],pt=w[R];if(ei(pt))break;const Ut=`${pt}`,Sn=R<w.length-1?w[R+1]:null;if(j>0&&void 0===Ut)break;if(Ut&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!_e(Ut,Sn,ue))return ne;R+=2}else{if(!_e(Ut,{},ue))return ne;R++}j++}return{match:!0,pathIndex:j,commandIndex:R}}(T,M,w),j=w.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const ne=new Hn(T.segments.slice(0,R.pathIndex),{});return ne.children[yn]=new Hn(T.segments.slice(R.pathIndex),T.children),Y(ne,0,j)}return R.match&&0===j.length?new Hn(T.segments,{}):R.match&&!T.hasChildren()?oe(T,M,w):R.match?Y(T,0,j):oe(T,M,w)}function Y(T,M,w){if(0===w.length)return new Hn(T.segments,{});{const R=function nt(T){return ei(T[0])?T[0].outlets:{[yn]:T}}(w),j={};return!R[yn]&&T.children[yn]&&1===T.numberOfChildren&&0===T.children[yn].segments.length?Y(T.children[yn],M,w):(pr(R,(ne,ue)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(j[ue]=F(T.children[ue],M,ne))}),pr(T.children,(ne,ue)=>{void 0===R[ue]&&(j[ue]=ne)}),new Hn(T.segments,j))}}function oe(T,M,w){const R=T.segments.slice(0,M);let j=0;for(;j<w.length;){const ne=w[j];if(ei(ne)){const Ut=He(ne.outlets);return new Hn(R,Ut)}if(0===j&&Jr(w[0])){R.push(new Qr(T.segments[M].path,J(w[0]))),j++;continue}const ue=ei(ne)?ne.outlets[yn]:`${ne}`,pt=j<w.length-1?w[j+1]:null;ue&&pt&&Jr(pt)?(R.push(new Qr(ue,J(pt))),j+=2):(R.push(new Qr(ue,{})),j++)}return new Hn(R,{})}function He(T){const M={};return pr(T,(w,R)=>{"string"==typeof w&&(w=[w]),null!==w&&(M[R]=oe(new Hn([],{}),0,w))}),M}function J(T){const M={};return pr(T,(w,R)=>M[R]=`${w}`),M}function _e(T,M,w){return T==w.path&&St(M,w.parameters)}const $e="imperative";class rt{constructor(M,w){this.id=M,this.url=w}}class It extends rt{constructor(M,w,R="imperative",j=null){super(M,w),this.type=0,this.navigationTrigger=R,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gt extends rt{constructor(M,w,R){super(M,w),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pn extends rt{constructor(M,w,R,j){super(M,w),this.reason=R,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vn extends rt{constructor(M,w,R,j){super(M,w),this.reason=R,this.code=j,this.type=16}}class Wn extends rt{constructor(M,w,R,j){super(M,w),this.error=R,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gr extends rt{constructor(M,w,R,j){super(M,w),this.urlAfterRedirects=R,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct extends rt{constructor(M,w,R,j){super(M,w),this.urlAfterRedirects=R,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends rt{constructor(M,w,R,j,ne){super(M,w),this.urlAfterRedirects=R,this.state=j,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xt extends rt{constructor(M,w,R,j){super(M,w),this.urlAfterRedirects=R,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lt extends rt{constructor(M,w,R,j){super(M,w),this.urlAfterRedirects=R,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xt{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gn{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zn{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(M,w,R){this.routerEvent=M,this.position=w,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Tr=(()=>{class T{createUrlTree(w,R,j,ne,ue,pt){return Lr(w||R.root,j,ne,ue,pt)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})(),Hi=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(M){return Tr.\u0275fac(M)},providedIn:"root"}),T})();class po{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const w=this.pathFromRoot(M);return w.length>1?w[w.length-2]:null}children(M){const w=Ki(M,this._root);return w?w.children.map(R=>R.value):[]}firstChild(M){const w=Ki(M,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(M){const w=ps(M,this._root);return w.length<2?[]:w[w.length-2].children.map(j=>j.value).filter(j=>j!==M)}pathFromRoot(M){return ps(M,this._root).map(w=>w.value)}}function Ki(T,M){if(T===M.value)return M;for(const w of M.children){const R=Ki(T,w);if(R)return R}return null}function ps(T,M){if(T===M.value)return[M];for(const w of M.children){const R=ps(T,w);if(R.length)return R.unshift(M),R}return[]}class Yi{constructor(M,w){this.value=M,this.children=w}toString(){return`TreeNode(${this.value})`}}function ts(T){const M={};return T&&T.children.forEach(w=>M[w.value.outlet]=w),M}class so extends po{constructor(M,w){super(M),this.snapshot=w,go(this,M)}toString(){return this.snapshot.toString()}}function gs(T,M){const w=function Ys(T,M){const ue=new ms([],{},{},"",{},yn,M,null,T.root,-1,{});return new Qo("",new Yi(ue,[]))}(T,M),R=new Ce.X([new Qr("",{})]),j=new Ce.X({}),ne=new Ce.X({}),ue=new Ce.X({}),pt=new Ce.X(""),Ut=new Qi(R,j,ue,pt,ne,yn,M,w.root);return Ut.snapshot=w.root,new so(new Yi(Ut,[]),w)}class Qi{constructor(M,w,R,j,ne,ue,pt,Ut){var Sn,zn;this.url=M,this.params=w,this.queryParams=R,this.fragment=j,this.data=ne,this.outlet=ue,this.component=pt,this.title=null!==(Sn=null===(zn=this.data)||void 0===zn?void 0:zn.pipe((0,tt.U)(Bn=>Bn[er])))&&void 0!==Sn?Sn:(0,z.of)(void 0),this._futureSnapshot=Ut}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(M=>At(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(M=>At(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bs(T,M="emptyOnly"){const w=T.pathFromRoot;let R=0;if("always"!==M)for(R=w.length-1;R>=1;){const j=w[R],ne=w[R-1];if(j.routeConfig&&""===j.routeConfig.path)R--;else{if(ne.component)break;R--}}return function Hs(T){return T.reduce((M,w)=>{var R;return{params:{...M.params,...w.params},data:{...M.data,...w.data},resolve:{...w.data,...M.resolve,...null===(R=w.routeConfig)||void 0===R?void 0:R.data,...w._resolvedData}}},{params:{},data:{},resolve:{}})}(w.slice(R))}class ms{get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[er]}constructor(M,w,R,j,ne,ue,pt,Ut,Sn,zn,Bn){this.url=M,this.params=w,this.queryParams=R,this.fragment=j,this.data=ne,this.outlet=ue,this.component=pt,this.routeConfig=Ut,this._urlSegment=Sn,this._lastPathIndex=zn,this._resolve=Bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qo extends po{constructor(M,w){super(w),this.url=M,go(this,w)}toString(){return mo(this._root)}}function go(T,M){M.value._routerState=T,M.children.forEach(w=>go(T,w))}function mo(T){const M=T.children.length>0?` { ${T.children.map(mo).join(", ")} } `:"";return`${T.value}${M}`}function ai(T){if(T.snapshot){const M=T.snapshot,w=T._futureSnapshot;T.snapshot=w,St(M.queryParams,w.queryParams)||T.queryParams.next(w.queryParams),M.fragment!==w.fragment&&T.fragment.next(w.fragment),St(M.params,w.params)||T.params.next(w.params),function Nt(T,M){if(T.length!==M.length)return!1;for(let w=0;w<T.length;++w)if(!St(T[w],M[w]))return!1;return!0}(M.url,w.url)||T.url.next(w.url),St(M.data,w.data)||T.data.next(w.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function ur(T,M){const w=St(T.params,M.params)&&function cn(T,M){return qt(T,M)&&T.every((w,R)=>St(w.parameters,M[R].parameters))}(T.url,M.url);return w&&!(!T.parent!=!M.parent)&&(!T.parent||ur(T.parent,M.parent))}function Ns(T,M,w){if(w&&T.shouldReuseRoute(M.value,w.value.snapshot)){const R=w.value;R._futureSnapshot=M.value;const j=function ks(T,M,w){return M.children.map(R=>{for(const j of w.children)if(T.shouldReuseRoute(R.value,j.value.snapshot))return Ns(T,R,j);return Ns(T,R)})}(T,M,w);return new Yi(R,j)}{if(T.shouldAttach(M.value)){const ne=T.retrieve(M.value);if(null!==ne){const ue=ne.route;return ue.value._futureSnapshot=M.value,ue.children=M.children.map(pt=>Ns(T,pt)),ue}}const R=function jr(T){return new Qi(new Ce.X(T.url),new Ce.X(T.params),new Ce.X(T.queryParams),new Ce.X(T.fragment),new Ce.X(T.data),T.outlet,T.component,T)}(M.value),j=M.children.map(ne=>Ns(T,ne));return new Yi(R,j)}}const xi="ngNavigationCancelingError";function Mi(T,M){const{redirectTo:w,navigationBehaviorOptions:R}=Fr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,j=ys(!1,0,M);return j.url=w,j.navigationBehaviorOptions=R,j}function ys(T,M,w){const R=new Error("NavigationCancelingError: "+(T||""));return R[xi]=!0,R.cancellationCode=M,w&&(R.url=w),R}function _i(T){return qs(T)&&Fr(T.url)}function qs(T){return T&&T[xi]}class ns{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Cs,this.attachRef=null}}let Cs=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(w,R){const j=this.getOrCreateContext(w);j.outlet=R,this.contexts.set(w,j)}onChildOutletDestroyed(w){const R=this.getContext(w);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let R=this.getContext(w);return R||(R=new ns,this.contexts.set(w,R)),R}getContext(w){return this.contexts.get(w)||null}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const yo=!1;let Ao=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Cs),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(w){if(w.name){const{firstChange:R,previousValue:j}=w.name;if(R)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){var R;return(null===(R=this.parentContexts.getContext(w))||void 0===R?void 0:R.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,yo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,yo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,yo);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,R){this.activated=w,this._activatedRoute=R,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,R){if(this.isActivated)throw new a.vHH(4013,yo);this._activatedRoute=w;const j=this.location,ue=w.snapshot.component,pt=this.parentContexts.getOrCreateContext(this.name).children,Ut=new ss(w,pt,j.injector);if(R&&function Fs(T){return!!T.resolveComponentFactory}(R)){const Sn=R.resolveComponentFactory(ue);this.activated=j.createComponent(Sn,j.length,Ut)}else this.activated=j.createComponent(ue,{index:j.length,injector:Ut,environmentInjector:null!=R?R:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275dir=a.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),T})();class ss{constructor(M,w,R){this.route=M,this.childContexts=w,this.parent=R}get(M,w){return M===Qi?this.route:M===Cs?this.childContexts:this.parent.get(M,w)}}let Nr=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(w,R){1&w&&a._UZ(0,"router-outlet")},dependencies:[Ao],encapsulation:2}),T})();function zs(T,M){var w;return T.providers&&!T._injector&&(T._injector=(0,a.MMx)(T.providers,M,`Route: ${T.path}`)),null!==(w=T._injector)&&void 0!==w?w:M}function Ei(T){const M=T.children&&T.children.map(Ei),w=M?{...T,children:M}:{...T};return!w.component&&!w.loadComponent&&(M||w.loadChildren)&&w.outlet&&w.outlet!==yn&&(w.component=Nr),w}function ki(T){return T.outlet||yn}function Ji(T,M){const w=T.filter(R=>ki(R)===M);return w.push(...T.filter(R=>ki(R)!==M)),w}function _s(T){var M;if(!T)return null;if(null!==(M=T.routeConfig)&&void 0!==M&&M._injector)return T.routeConfig._injector;for(let w=T.parent;w;w=w.parent){const R=w.routeConfig;if(null!=R&&R._loadedInjector)return R._loadedInjector;if(null!=R&&R._injector)return R._injector}return null}class xo{constructor(M,w,R,j){this.routeReuseStrategy=M,this.futureState=w,this.currState=R,this.forwardEvent=j}activate(M){const w=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,R,M),ai(this.futureState.root),this.activateChildRoutes(w,R,M)}deactivateChildRoutes(M,w,R){const j=ts(w);M.children.forEach(ne=>{const ue=ne.value.outlet;this.deactivateRoutes(ne,j[ue],R),delete j[ue]}),pr(j,(ne,ue)=>{this.deactivateRouteAndItsChildren(ne,R)})}deactivateRoutes(M,w,R){const j=M.value,ne=w?w.value:null;if(j===ne)if(j.component){const ue=R.getContext(j.outlet);ue&&this.deactivateChildRoutes(M,w,ue.children)}else this.deactivateChildRoutes(M,w,R);else ne&&this.deactivateRouteAndItsChildren(w,R)}deactivateRouteAndItsChildren(M,w){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,w):this.deactivateRouteAndOutlet(M,w)}detachAndStoreRouteSubtree(M,w){const R=w.getContext(M.value.outlet),j=R&&M.value.component?R.children:w,ne=ts(M);for(const ue of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ue],j);if(R&&R.outlet){const ue=R.outlet.detach(),pt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:ue,route:M,contexts:pt})}}deactivateRouteAndOutlet(M,w){const R=w.getContext(M.value.outlet),j=R&&M.value.component?R.children:w,ne=ts(M);for(const ue of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ue],j);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(M,w,R){const j=ts(w);M.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],R),this.forwardEvent(new ws(ne.value.snapshot))}),M.children.length&&this.forwardEvent(new or(M.value.snapshot))}activateRoutes(M,w,R){const j=M.value,ne=w?w.value:null;if(ai(j),j===ne)if(j.component){const pt=R.getOrCreateContext(j.outlet);this.activateChildRoutes(M,w,pt.children)}else this.activateChildRoutes(M,w,R);else if(j.component){const pt=R.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ut=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),pt.children.onOutletReAttached(Ut.contexts),pt.attachRef=Ut.componentRef,pt.route=Ut.route.value,pt.outlet&&pt.outlet.attach(Ut.componentRef,Ut.route.value),ai(Ut.route.value),this.activateChildRoutes(M,null,pt.children)}else{var ue;const Ut=_s(j.snapshot),Sn=null!==(ue=null==Ut?void 0:Ut.get(a._Vd))&&void 0!==ue?ue:null;pt.attachRef=null,pt.route=j,pt.resolver=Sn,pt.injector=Ut,pt.outlet&&pt.outlet.activateWith(j,pt.injector),this.activateChildRoutes(M,null,pt.children)}}else this.activateChildRoutes(M,null,R)}}class Mo{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Ir{constructor(M,w){this.component=M,this.route=w}}function li(T,M,w){const R=T._root;return Ds(R,M?M._root:null,w,[R.value])}function Qs(T,M){const w=Symbol(),R=M.get(T,w);return R===w?"function"!=typeof T||(0,a.Z0I)(T)?M.get(T):T:R}function Ds(T,M,w,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=ts(M);return T.children.forEach(ue=>{(function xa(T,M,w,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=T.value,ue=M?M.value:null,pt=w?w.getContext(T.value.outlet):null;if(ue&&ne.routeConfig===ue.routeConfig){const Ut=function Ss(T,M,w){if("function"==typeof w)return w(T,M);switch(w){case"pathParamsChange":return!qt(T.url,M.url);case"pathParamsOrQueryParamsChange":return!qt(T.url,M.url)||!St(T.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ur(T,M)||!St(T.queryParams,M.queryParams);default:return!ur(T,M)}}(ue,ne,ne.routeConfig.runGuardsAndResolvers);Ut?j.canActivateChecks.push(new Mo(R)):(ne.data=ue.data,ne._resolvedData=ue._resolvedData),Ds(T,M,ne.component?pt?pt.children:null:w,R,j),Ut&&pt&&pt.outlet&&pt.outlet.isActivated&&j.canDeactivateChecks.push(new Ir(pt.outlet.component,ue))}else ue&&Ts(M,pt,j),j.canActivateChecks.push(new Mo(R)),Ds(T,null,ne.component?pt?pt.children:null:w,R,j)})(ue,ne[ue.value.outlet],w,R.concat([ue.value]),j),delete ne[ue.value.outlet]}),pr(ne,(ue,pt)=>Ts(ue,w.getContext(pt),j)),j}function Ts(T,M,w){const R=ts(T),j=T.value;pr(R,(ne,ue)=>{Ts(ne,j.component?M?M.children.getContext(ue):null:M,w)}),w.canDeactivateChecks.push(new Ir(j.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,j))}function g(T){return"function"==typeof T}function Or(T){return T instanceof Te.K||"EmptyError"===(null==T?void 0:T.name)}const Gr=Symbol("INITIAL_VALUE");function Pr(){return(0,ft.w)(T=>ze(T.map(M=>M.pipe((0,st.q)(1),(0,bt.O)(Gr)))).pipe((0,tt.U)(M=>{for(const w of M)if(!0!==w){if(w===Gr)return Gr;if(!1===w||w instanceof rr)return w}return!0}),(0,gt.h)(M=>M!==Gr),(0,st.q)(1)))}function Ma(T){return(0,ht.z)((0,lt.b)(M=>{if(Fr(M))throw Mi(0,M)}),(0,tt.U)(M=>!0===M))}const Oo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Po(T,M,w,R,j){const ne=ca(T,M,w);return ne.matched?function Xa(T,M,w,R){const j=M.canMatch;if(!j||0===j.length)return(0,z.of)(!0);const ne=j.map(ue=>{const pt=Qs(ue,T);return un(function an(T){return T&&g(T.canMatch)}(pt)?pt.canMatch(M,w):T.runInContext(()=>pt(M,w)))});return(0,z.of)(ne).pipe(Pr(),Ma())}(R=zs(M,R),M,w).pipe((0,tt.U)(ue=>!0===ue?ne:{...Oo})):(0,z.of)(ne)}function ca(T,M,w){var R;if(""===M.path)return"full"===M.pathMatch&&(T.hasChildren()||w.length>0)?{...Oo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const ne=(M.matcher||mt)(w,T,M);if(!ne)return{...Oo};const ue={};pr(ne.posParams,(Ut,Sn)=>{ue[Sn]=Ut.path});const pt=ne.consumed.length>0?{...ue,...ne.consumed[ne.consumed.length-1].parameters}:ue;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:w.slice(ne.consumed.length),parameters:pt,positionalParamSegments:null!==(R=ne.posParams)&&void 0!==R?R:{}}}function Lo(T,M,w,R){if(w.length>0&&function ta(T,M,w){return w.some(R=>Ra(T,M,R)&&ki(R)!==yn)}(T,w,R)){const ne=new Hn(M,function Ls(T,M,w,R){const j={};j[yn]=R,R._sourceSegment=T,R._segmentIndexShift=M.length;for(const ne of w)if(""===ne.path&&ki(ne)!==yn){const ue=new Hn([],{});ue._sourceSegment=T,ue._segmentIndexShift=M.length,j[ki(ne)]=ue}return j}(T,M,R,new Hn(w,T.children)));return ne._sourceSegment=T,ne._segmentIndexShift=M.length,{segmentGroup:ne,slicedSegments:[]}}if(0===w.length&&function fl(T,M,w){return w.some(R=>Ra(T,M,R))}(T,w,R)){const ne=new Hn(T.segments,function Ml(T,M,w,R,j){const ne={};for(const ue of R)if(Ra(T,w,ue)&&!j[ki(ue)]){const pt=new Hn([],{});pt._sourceSegment=T,pt._segmentIndexShift=M.length,ne[ki(ue)]=pt}return{...j,...ne}}(T,M,w,R,T.children));return ne._sourceSegment=T,ne._segmentIndexShift=M.length,{segmentGroup:ne,slicedSegments:w}}const j=new Hn(T.segments,T.children);return j._sourceSegment=T,j._segmentIndexShift=M.length,{segmentGroup:j,slicedSegments:w}}function Ra(T,M,w){return(!(T.hasChildren()||M.length>0)||"full"!==w.pathMatch)&&""===w.path}function Js(T,M,w,R){return!!(ki(T)===R||R!==yn&&Ra(M,w,T))&&("**"===T.path||ca(M,T,w).matched)}function da(T,M,w){return 0===M.length&&!T.children[w]}const _o=!1;class Eo{constructor(M){this.segmentGroup=M||null}}class Bo{constructor(M){this.urlTree=M}}function Zi(T){return Ze(new Eo(T))}function ls(T){return Ze(new Bo(T))}class pl{constructor(M,w,R,j,ne){this.injector=M,this.configLoader=w,this.urlSerializer=R,this.urlTree=j,this.config=ne,this.allowRedirects=!0}apply(){const M=Lo(this.urlTree.root,[],[],this.config).segmentGroup,w=new Hn(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,w,yn).pipe((0,tt.U)(ne=>this.createUrlTree(oi(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xe(ne=>{if(ne instanceof Bo)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof Eo?this.noMatchError(ne):ne}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,yn).pipe((0,tt.U)(j=>this.createUrlTree(oi(j),M.queryParams,M.fragment))).pipe(Xe(j=>{throw j instanceof Eo?this.noMatchError(j):j}))}noMatchError(M){return new a.vHH(4002,_o)}createUrlTree(M,w,R){const j=ji(M);return new rr(j,w,R)}expandSegmentGroup(M,w,R,j){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(M,w,R).pipe((0,tt.U)(ne=>new Hn([],ne))):this.expandSegment(M,R,w,R.segments,j,!0)}expandChildren(M,w,R){const j=[];for(const ne of Object.keys(R.children))"primary"===ne?j.unshift(ne):j.push(ne);return(0,ee.D)(j).pipe((0,Se.b)(ne=>{const ue=R.children[ne],pt=Ji(w,ne);return this.expandSegmentGroup(M,pt,ue,ne).pipe((0,tt.U)(Ut=>({segment:Ut,outlet:ne})))}),(0,ut.R)((ne,ue)=>(ne[ue.outlet]=ue.segment,ne),{}),Pt())}expandSegment(M,w,R,j,ne,ue){return(0,ee.D)(R).pipe((0,Se.b)(pt=>this.expandSegmentAgainstRoute(M,w,R,pt,j,ne,ue).pipe(Xe(Sn=>{if(Sn instanceof Eo)return(0,z.of)(null);throw Sn}))),(0,Pe.P)(pt=>!!pt),Xe((pt,Ut)=>{if(Or(pt))return da(w,j,ne)?(0,z.of)(new Hn([],{})):Zi(w);throw pt}))}expandSegmentAgainstRoute(M,w,R,j,ne,ue,pt){return Js(j,w,ne,ue)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(M,w,j,ne,ue):pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,w,R,j,ne,ue):Zi(w):Zi(w)}expandSegmentAgainstRouteUsingRedirect(M,w,R,j,ne,ue){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,R,j,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(M,w,R,j,ne,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,w,R,j){const ne=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?ls(ne):this.lineralizeSegments(R,ne).pipe((0,Me.z)(ue=>{const pt=new Hn(ue,{});return this.expandSegment(M,pt,w,ue,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,w,R,j,ne,ue){const{matched:pt,consumedSegments:Ut,remainingSegments:Sn,positionalParamSegments:zn}=ca(w,j,ne);if(!pt)return Zi(w);const Bn=this.applyRedirectCommands(Ut,j.redirectTo,zn);return j.redirectTo.startsWith("/")?ls(Bn):this.lineralizeSegments(j,Bn).pipe((0,Me.z)(ti=>this.expandSegment(M,w,R,ti.concat(Sn),ue,!1)))}matchSegmentAgainstRoute(M,w,R,j,ne){return"**"===R.path?(M=zs(R,M),R.loadChildren?(R._loadedRoutes?(0,z.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(M,R)).pipe((0,tt.U)(pt=>(R._loadedRoutes=pt.routes,R._loadedInjector=pt.injector,new Hn(j,{})))):(0,z.of)(new Hn(j,{}))):Po(w,R,j,M).pipe((0,ft.w)(({matched:ue,consumedSegments:pt,remainingSegments:Ut})=>{var Sn;return ue?(M=null!==(Sn=R._injector)&&void 0!==Sn?Sn:M,this.getChildConfig(M,R,j).pipe((0,Me.z)(Bn=>{var ti;const Vr=null!==(ti=Bn.injector)&&void 0!==ti?ti:M,Is=Bn.routes,{segmentGroup:B,slicedSegments:H}=Lo(w,pt,Ut,Is),te=new Hn(B.segments,B.children);if(0===H.length&&te.hasChildren())return this.expandChildren(Vr,Is,te).pipe((0,tt.U)(mn=>new Hn(pt,mn)));if(0===Is.length&&0===H.length)return(0,z.of)(new Hn(pt,{}));const Ve=ki(R)===ne;return this.expandSegment(Vr,te,Is,H,Ve?yn:ne,!0).pipe((0,tt.U)(Tt=>new Hn(pt.concat(Tt.segments),Tt.children)))}))):Zi(w)}))}getChildConfig(M,w,R){return w.children?(0,z.of)({routes:w.children,injector:M}):w.loadChildren?void 0!==w._loadedRoutes?(0,z.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function ea(T,M,w,R){const j=M.canLoad;if(void 0===j||0===j.length)return(0,z.of)(!0);const ne=j.map(ue=>{const pt=Qs(ue,T);return un(function h(T){return T&&g(T.canLoad)}(pt)?pt.canLoad(M,w):T.runInContext(()=>pt(M,w)))});return(0,z.of)(ne).pipe(Pr(),Ma())}(M,w,R).pipe((0,Me.z)(j=>j?this.configLoader.loadChildren(M,w).pipe((0,lt.b)(ne=>{w._loadedRoutes=ne.routes,w._loadedInjector=ne.injector})):function $o(T){return Ze(ys(_o,3))}())):(0,z.of)({routes:[],injector:M})}lineralizeSegments(M,w){let R=[],j=w.root;for(;;){if(R=R.concat(j.segments),0===j.numberOfChildren)return(0,z.of)(R);if(j.numberOfChildren>1||!j.children[yn])return M.redirectTo,Ze(new a.vHH(4e3,_o));j=j.children[yn]}}applyRedirectCommands(M,w,R){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),M,R)}applyRedirectCreateUrlTree(M,w,R,j){const ne=this.createSegmentGroup(M,w.root,R,j);return new rr(ne,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(M,w){const R={};return pr(M,(j,ne)=>{if("string"==typeof j&&j.startsWith(":")){const pt=j.substring(1);R[ne]=w[pt]}else R[ne]=j}),R}createSegmentGroup(M,w,R,j){const ne=this.createSegments(M,w.segments,R,j);let ue={};return pr(w.children,(pt,Ut)=>{ue[Ut]=this.createSegmentGroup(M,pt,R,j)}),new Hn(ne,ue)}createSegments(M,w,R,j){return w.map(ne=>ne.path.startsWith(":")?this.findPosParam(M,ne,j):this.findOrReturn(ne,R))}findPosParam(M,w,R){const j=R[w.path.substring(1)];if(!j)throw new a.vHH(4001,_o);return j}findOrReturn(M,w){let R=0;for(const j of w){if(j.path===M.path)return w.splice(R),j;R++}return M}}class gl{}class k{constructor(M,w,R,j,ne,ue,pt){this.injector=M,this.rootComponentType=w,this.config=R,this.urlTree=j,this.url=ne,this.paramsInheritanceStrategy=ue,this.urlSerializer=pt}recognize(){const M=Lo(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,yn).pipe((0,tt.U)(w=>{if(null===w)return null;const R=new ms([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new Yi(R,w),ne=new Qo(this.url,j);return this.inheritParamsAndData(ne._root),ne}))}inheritParamsAndData(M){const w=M.value,R=bs(w,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data),M.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(M,w,R,j){return 0===R.segments.length&&R.hasChildren()?this.processChildren(M,w,R):this.processSegment(M,w,R,R.segments,j)}processChildren(M,w,R){return(0,ee.D)(Object.keys(R.children)).pipe((0,Se.b)(j=>{const ne=R.children[j],ue=Ji(w,j);return this.processSegmentGroup(M,ue,ne,j)}),(0,ut.R)((j,ne)=>j&&ne?(j.push(...ne),j):null),function Ot(T,M=!1){return(0,Fe.e)((w,R)=>{let j=0;w.subscribe((0,ce.x)(R,ne=>{const ue=T(ne,j++);(ue||M)&&R.next(ne),!ue&&R.complete()}))})}(j=>null!==j),(0,Vt.d)(null),Pt(),(0,tt.U)(j=>{if(null===j)return null;const ne=we(j);return function K(T){T.sort((M,w)=>M.value.outlet===yn?-1:w.value.outlet===yn?1:M.value.outlet.localeCompare(w.value.outlet))}(ne),ne}))}processSegment(M,w,R,j,ne){return(0,ee.D)(w).pipe((0,Se.b)(ue=>{var pt;return this.processSegmentAgainstRoute(null!==(pt=ue._injector)&&void 0!==pt?pt:M,ue,R,j,ne)}),(0,Pe.P)(ue=>!!ue),Xe(ue=>{if(Or(ue))return da(R,j,ne)?(0,z.of)([]):(0,z.of)(null);throw ue}))}processSegmentAgainstRoute(M,w,R,j,ne){if(w.redirectTo||!Js(w,R,j,ne))return(0,z.of)(null);let ue;if("**"===w.path){var pt,Ut;const Sn=j.length>0?In(j).parameters:{},zn=Vn(R)+j.length,Bn=new ms(j,Sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yt(w),ki(w),null!==(pt=null!==(Ut=w.component)&&void 0!==Ut?Ut:w._loadedComponent)&&void 0!==pt?pt:null,w,Qt(R),zn,vr(w));ue=(0,z.of)({snapshot:Bn,consumedSegments:[],remainingSegments:[]})}else ue=Po(R,w,j,M).pipe((0,tt.U)(({matched:Sn,consumedSegments:zn,remainingSegments:Bn,parameters:ti})=>{var Vr,Is;if(!Sn)return null;const B=Vn(R)+zn.length;return{snapshot:new ms(zn,ti,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yt(w),ki(w),null!==(Vr=null!==(Is=w.component)&&void 0!==Is?Is:w._loadedComponent)&&void 0!==Vr?Vr:null,w,Qt(R),B,vr(w)),consumedSegments:zn,remainingSegments:Bn}}));return ue.pipe((0,ft.w)(Sn=>{var zn,Bn;if(null===Sn)return(0,z.of)(null);const{snapshot:ti,consumedSegments:Vr,remainingSegments:Is}=Sn;M=null!==(zn=w._injector)&&void 0!==zn?zn:M;const B=null!==(Bn=w._loadedInjector)&&void 0!==Bn?Bn:M,H=function U(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(w),{segmentGroup:te,slicedSegments:Ve}=Lo(R,Vr,Is,H.filter(Tt=>void 0===Tt.redirectTo));if(0===Ve.length&&te.hasChildren())return this.processChildren(B,H,te).pipe((0,tt.U)(Tt=>null===Tt?null:[new Yi(ti,Tt)]));if(0===H.length&&0===Ve.length)return(0,z.of)([new Yi(ti,[])]);const vt=ki(w)===ne;return this.processSegment(B,H,te,Ve,vt?yn:ne).pipe((0,tt.U)(Tt=>null===Tt?null:[new Yi(ti,Tt)]))}))}}function se(T){const M=T.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function we(T){const M=[],w=new Set;for(const R of T){if(!se(R)){M.push(R);continue}const j=M.find(ne=>R.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...R.children),w.add(j)):M.push(R)}for(const R of w){const j=we(R.children);M.push(new Yi(R.value,j))}return M.filter(R=>!w.has(R))}function Qt(T){let M=T;for(;M._sourceSegment;)M=M._sourceSegment;return M}function Vn(T){var M;let w=T,R=null!==(M=w._segmentIndexShift)&&void 0!==M?M:0;for(;w._sourceSegment;){var j;w=w._sourceSegment,R+=null!==(j=w._segmentIndexShift)&&void 0!==j?j:0}return R-1}function Yt(T){return T.data||{}}function vr(T){return T.resolve||{}}function $t(T){return"string"==typeof T.title||null===T.title}function rn(T){return(0,ft.w)(M=>{const w=T(M);return w?(0,ee.D)(w).pipe((0,tt.U)(()=>M)):(0,z.of)(M)})}const Gs=new a.OlP("ROUTES");let Oa=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,z.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const R=un(w.loadComponent()).pipe((0,tt.U)(ml),(0,lt.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ne}),An(()=>{this.componentLoaders.delete(w)})),j=new Ge(R,()=>new je.x).pipe(N());return this.componentLoaders.set(w,j),j}loadChildren(w,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,z.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ne=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,tt.U)(pt=>{this.onLoadEndListener&&this.onLoadEndListener(R);let Ut,Sn,zn=!1;Array.isArray(pt)?Sn=pt:(Ut=pt.create(w).injector,Sn=on(Ut.get(Gs,[],a.XFs.Self|a.XFs.Optional)));return{routes:Sn.map(Ei),injector:Ut}}),An(()=>{this.childrenLoaders.delete(R)})),ue=new Ge(ne,()=>new je.x).pipe(N());return this.childrenLoaders.set(R,ue),ue}loadModuleFactoryOrRoutes(w){return un(w()).pipe((0,tt.U)(ml),(0,Me.z)(R=>R instanceof a.YKP||Array.isArray(R)?(0,z.of)(R):(0,ee.D)(this.compiler.compileModuleAsync(R))))}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ml(T){return function Pa(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Ja=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new je.x,this.configLoader=(0,a.f3M)(Oa),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Ae),this.rootContexts=(0,a.f3M)(Cs),this.navigationId=0,this.afterPreactivation=()=>(0,z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new gn(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new Xt(j))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var R;const j=++this.navigationId;null===(R=this.transitions)||void 0===R||R.next({...this.transitions.value,...w,id:j})}setupNavigations(w){return this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$e,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,gt.h)(R=>0!==R.id),(0,tt.U)(R=>({...R,extractedUrl:w.urlHandlingStrategy.extract(R.rawUrl)})),(0,ft.w)(R=>{let j=!1,ne=!1;return(0,z.of)(R).pipe((0,lt.b)(ue=>{this.currentNavigation={id:ue.id,initialUrl:ue.rawUrl,extractedUrl:ue.extractedUrl,trigger:ue.source,extras:ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ft.w)(ue=>{var pt;const Ut=w.browserUrlTree.toString(),Sn=!w.navigated||ue.extractedUrl.toString()!==Ut||Ut!==w.currentUrlTree.toString(),zn=null!==(pt=ue.extras.onSameUrlNavigation)&&void 0!==pt?pt:w.onSameUrlNavigation;if(!Sn&&"reload"!==zn){const Bn="";return this.events.next(new vn(ue.id,w.serializeUrl(R.rawUrl),Bn,0)),w.rawUrlTree=ue.rawUrl,ue.resolve(null),Ue.E}if(w.urlHandlingStrategy.shouldProcessUrl(ue.rawUrl))return Na(ue.source)&&(w.browserUrlTree=ue.extractedUrl),(0,z.of)(ue).pipe((0,ft.w)(Bn=>{var ti,Vr;const Is=null===(ti=this.transitions)||void 0===ti?void 0:ti.getValue();return this.events.next(new It(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),Bn.source,Bn.restoredState)),Is!==(null===(Vr=this.transitions)||void 0===Vr?void 0:Vr.getValue())?Ue.E:Promise.resolve(Bn)}),function Es(T,M,w,R){return(0,ft.w)(j=>function Ri(T,M,w,R,j){return new pl(T,M,w,R,j).apply()}(T,M,w,j.extractedUrl,R).pipe((0,tt.U)(ne=>({...j,urlAfterRedirects:ne}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,lt.b)(Bn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Bn.urlAfterRedirects},R.urlAfterRedirects=Bn.urlAfterRedirects}),function sr(T,M,w,R,j){return(0,Me.z)(ne=>function ha(T,M,w,R,j,ne,ue="emptyOnly"){return new k(T,M,w,R,j,ue,ne).recognize().pipe((0,ft.w)(pt=>null===pt?function Vo(T){return new be.y(M=>M.error(T))}(new gl):(0,z.of)(pt)))}(T,M,w,ne.urlAfterRedirects,R.serialize(ne.urlAfterRedirects),R,j).pipe((0,tt.U)(ue=>({...ne,targetSnapshot:ue}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,lt.b)(Bn=>{if(R.targetSnapshot=Bn.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!Bn.extras.skipLocationChange){const Vr=w.urlHandlingStrategy.merge(Bn.urlAfterRedirects,Bn.rawUrl);w.setBrowserUrl(Vr,Bn)}w.browserUrlTree=Bn.urlAfterRedirects}const ti=new gr(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),this.urlSerializer.serialize(Bn.urlAfterRedirects),Bn.targetSnapshot);this.events.next(ti)}));if(Sn&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:Bn,extractedUrl:ti,source:Vr,restoredState:Is,extras:B}=ue,H=new It(Bn,this.urlSerializer.serialize(ti),Vr,Is);this.events.next(H);const te=gs(ti,this.rootComponentType).snapshot;return R={...ue,targetSnapshot:te,urlAfterRedirects:ti,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},(0,z.of)(R)}{const Bn="";return this.events.next(new vn(ue.id,w.serializeUrl(R.extractedUrl),Bn,1)),w.rawUrlTree=ue.rawUrl,ue.resolve(null),Ue.E}}),(0,lt.b)(ue=>{const pt=new ct(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot);this.events.next(pt)}),(0,tt.U)(ue=>R={...ue,guards:li(ue.targetSnapshot,ue.currentSnapshot,this.rootContexts)}),function qi(T,M){return(0,Me.z)(w=>{const{targetSnapshot:R,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:ue}}=w;return 0===ue.length&&0===ne.length?(0,z.of)({...w,guardsResult:!0}):function os(T,M,w,R){return(0,ee.D)(T).pipe((0,Me.z)(j=>function Ro(T,M,w,R,j){const ne=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,z.of)(!0);const ue=ne.map(pt=>{var Ut;const Sn=null!==(Ut=_s(M))&&void 0!==Ut?Ut:j,zn=Qs(pt,Sn);return un(function et(T){return T&&g(T.canDeactivate)}(zn)?zn.canDeactivate(T,M,w,R):Sn.runInContext(()=>zn(T,M,w,R))).pipe((0,Pe.P)())});return(0,z.of)(ue).pipe(Pr())}(j.component,j.route,w,M,R)),(0,Pe.P)(j=>!0!==j,!0))}(ue,R,j,T).pipe((0,Me.z)(pt=>pt&&function I(T){return"boolean"==typeof T}(pt)?function qr(T,M,w,R){return(0,ee.D)(M).pipe((0,Se.b)(j=>(0,Re.z)(function As(T,M){return null!==T&&M&&M(new Zn(T)),(0,z.of)(!0)}(j.route.parent,R),function Fi(T,M){return null!==T&&M&&M(new hr(T)),(0,z.of)(!0)}(j.route,R),function as(T,M,w){const R=M[M.length-1],ne=M.slice(0,M.length-1).reverse().map(ue=>function Xs(T){const M=T.routeConfig?T.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:T,guards:M}:null}(ue)).filter(ue=>null!==ue).map(ue=>de(()=>{const pt=ue.guards.map(Ut=>{var Sn;const zn=null!==(Sn=_s(ue.node))&&void 0!==Sn?Sn:w,Bn=Qs(Ut,zn);return un(function q(T){return T&&g(T.canActivateChild)}(Bn)?Bn.canActivateChild(R,T):zn.runInContext(()=>Bn(R,T))).pipe((0,Pe.P)())});return(0,z.of)(pt).pipe(Pr())}));return(0,z.of)(ne).pipe(Pr())}(T,j.path,w),function Jo(T,M,w){const R=M.routeConfig?M.routeConfig.canActivate:null;if(!R||0===R.length)return(0,z.of)(!0);const j=R.map(ne=>de(()=>{var ue;const pt=null!==(ue=_s(M))&&void 0!==ue?ue:w,Ut=Qs(ne,pt);return un(function D(T){return T&&g(T.canActivate)}(Ut)?Ut.canActivate(M,T):pt.runInContext(()=>Ut(M,T))).pipe((0,Pe.P)())}));return(0,z.of)(j).pipe(Pr())}(T,j.route,w))),(0,Pe.P)(j=>!0!==j,!0))}(R,ne,T,M):(0,z.of)(pt)),(0,tt.U)(pt=>({...w,guardsResult:pt})))})}(this.environmentInjector,ue=>this.events.next(ue)),(0,lt.b)(ue=>{if(R.guardsResult=ue.guardsResult,Fr(ue.guardsResult))throw Mi(0,ue.guardsResult);const pt=new Ke(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot,!!ue.guardsResult);this.events.next(pt)}),(0,gt.h)(ue=>!!ue.guardsResult||(w.restoreHistory(ue),this.cancelNavigationTransition(ue,"",3),!1)),rn(ue=>{if(ue.guards.canActivateChecks.length)return(0,z.of)(ue).pipe((0,lt.b)(pt=>{const Ut=new xt(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot);this.events.next(Ut)}),(0,ft.w)(pt=>{let Ut=!1;return(0,z.of)(pt).pipe(function Li(T,M){return(0,Me.z)(w=>{const{targetSnapshot:R,guards:{canActivateChecks:j}}=w;if(!j.length)return(0,z.of)(w);let ne=0;return(0,ee.D)(j).pipe((0,Se.b)(ue=>function Dn(T,M,w,R){const j=T.routeConfig,ne=T._resolve;return void 0!==(null==j?void 0:j.title)&&!$t(j)&&(ne[er]=j.title),function Nn(T,M,w,R){const j=function Yo(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===j.length)return(0,z.of)({});const ne={};return(0,ee.D)(j).pipe((0,Me.z)(ue=>function fn(T,M,w,R){var j;const ne=null!==(j=_s(M))&&void 0!==j?j:R,ue=Qs(T,ne);return un(ue.resolve?ue.resolve(M,w):ne.runInContext(()=>ue(M,w)))}(T[ue],M,w,R).pipe((0,Pe.P)(),(0,lt.b)(pt=>{ne[ue]=pt}))),ot(1),function $n(T){return(0,tt.U)(()=>T)}(ne),Xe(ue=>Or(ue)?Ue.E:Ze(ue)))}(ne,T,M,R).pipe((0,tt.U)(ue=>(T._resolvedData=ue,T.data=bs(T,w).resolve,j&&$t(j)&&(T.data[er]=j.title),null)))}(ue.route,R,T,M)),(0,lt.b)(()=>ne++),ot(1),(0,Me.z)(ue=>ne===j.length?(0,z.of)(w):Ue.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,lt.b)({next:()=>Ut=!0,complete:()=>{Ut||(w.restoreHistory(pt),this.cancelNavigationTransition(pt,"",2))}}))}),(0,lt.b)(pt=>{const Ut=new Lt(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot);this.events.next(Ut)}))}),rn(ue=>{const pt=Ut=>{var Sn;const zn=[];null!==(Sn=Ut.routeConfig)&&void 0!==Sn&&Sn.loadComponent&&!Ut.routeConfig._loadedComponent&&zn.push(this.configLoader.loadComponent(Ut.routeConfig).pipe((0,lt.b)(Bn=>{Ut.component=Bn}),(0,tt.U)(()=>{})));for(const Bn of Ut.children)zn.push(...pt(Bn));return zn};return ze(pt(ue.targetSnapshot.root)).pipe((0,Vt.d)(),(0,st.q)(1))}),rn(()=>this.afterPreactivation()),(0,tt.U)(ue=>{const pt=function Ps(T,M,w){const R=Ns(T,M._root,w?w._root:void 0);return new so(R,M)}(w.routeReuseStrategy,ue.targetSnapshot,ue.currentRouterState);return R={...ue,targetRouterState:pt}}),(0,lt.b)(ue=>{w.currentUrlTree=ue.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(ue.urlAfterRedirects,ue.rawUrl),w.routerState=ue.targetRouterState,"deferred"===w.urlUpdateStrategy&&(ue.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,ue),w.browserUrlTree=ue.urlAfterRedirects)}),((T,M,w)=>(0,tt.U)(R=>(new xo(M,R.targetRouterState,R.currentRouterState,w).activate(T),R)))(this.rootContexts,w.routeReuseStrategy,ue=>this.events.next(ue)),(0,lt.b)({next:ue=>{var pt;j=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new Gt(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),null===(pt=w.titleStrategy)||void 0===pt||pt.updateTitle(ue.targetRouterState.snapshot),ue.resolve(!0)},complete:()=>{j=!0}}),An(()=>{var ue;j||ne||this.cancelNavigationTransition(R,"",1),(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.id)===R.id&&(this.currentNavigation=null)}),Xe(ue=>{if(ne=!0,qs(ue)){_i(ue)||(w.navigated=!0,w.restoreHistory(R,!0));const Ut=new pn(R.id,this.urlSerializer.serialize(R.extractedUrl),ue.message,ue.cancellationCode);if(this.events.next(Ut),_i(ue)){const Sn=w.urlHandlingStrategy.merge(ue.url,w.rawUrlTree),zn={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||Na(R.source)};w.scheduleNavigation(Sn,$e,null,zn,{resolve:R.resolve,reject:R.reject,promise:R.promise})}else R.resolve(!1)}else{var pt;w.restoreHistory(R,!0);const Ut=new Wn(R.id,this.urlSerializer.serialize(R.extractedUrl),ue,null!==(pt=R.targetSnapshot)&&void 0!==pt?pt:void 0);this.events.next(Ut);try{R.resolve(w.errorHandler(ue))}catch(Sn){R.reject(Sn)}}return Ue.E}))}))}cancelNavigationTransition(w,R,j){const ne=new pn(w.id,this.urlSerializer.serialize(w.extractedUrl),R,j);this.events.next(ne),w.resolve(!1)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Na(T){return T!==$e}let ka=(()=>{class T{buildTitle(w){let R,j=w.root;for(;void 0!==j;){var ne;R=null!==(ne=this.getResolvedTitleForRoute(j))&&void 0!==ne?ne:R,j=j.children.find(ue=>ue.outlet===yn)}return R}getResolvedTitleForRoute(w){return w.data[er]}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(yl)},providedIn:"root"}),T})(),yl=(()=>{class T extends ka{constructor(w){super(),this.title=w}updateTitle(w){const R=this.buildTitle(w);void 0!==R&&this.title.setTitle(R)}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Un.Dx))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),oo=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(Ar)},providedIn:"root"}),T})();class fa{shouldDetach(M){return!1}store(M,w){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,w){return M.routeConfig===w.routeConfig}}let Ar=(()=>{class T extends fa{}return T.\u0275fac=function(){let M;return function(R){return(M||(M=a.n5z(T)))(R||T)}}(),T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const pa=new a.OlP("",{providedIn:"root",factory:()=>({})});let pi=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(ar)},providedIn:"root"}),T})(),ar=(()=>{class T{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,R){return w}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Zr(T){throw T}function Uu(T,M,w){return M.parse("/")}const gi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ln={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var w;this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(pa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Zr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Uu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(pi),this.routeReuseStrategy=(0,a.f3M)(oo),this.urlCreationStrategy=(0,a.f3M)(Hi),this.titleStrategy=(0,a.f3M)(ka),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=on(null!==(w=(0,a.f3M)(Gs,{optional:!0}))&&void 0!==w?w:[]),this.navigationTransitions=(0,a.f3M)(Ja),this.urlSerializer=(0,a.f3M)(Ae),this.location=(0,a.f3M)(Je.Ye),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new rr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(R=>{this.lastSuccessfulId=R.id,this.currentPageId=R.targetPageId},R=>{this.console.warn(`Unhandled Navigation Error: ${R}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$e,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const R="popstate"===w.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,R,w.state)},0)}))}navigateToSyncWithBrowser(w,R,j){const ne={replaceUrl:!0},ue=null!=j&&j.navigationId?j:null;if(j){const Ut={...j};delete Ut.navigationId,delete Ut.\u0275routerPageId,0!==Object.keys(Ut).length&&(ne.state=Ut)}const pt=this.parseUrl(w);this.scheduleNavigation(pt,R,ue,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(Ei),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,R={}){const{relativeTo:j,queryParams:ne,fragment:ue,queryParamsHandling:pt,preserveFragment:Ut}=R,Sn=Ut?this.currentUrlTree.fragment:ue;let zn=null;switch(pt){case"merge":zn={...this.currentUrlTree.queryParams,...ne};break;case"preserve":zn=this.currentUrlTree.queryParams;break;default:zn=ne||null}return null!==zn&&(zn=this.removeEmptyProps(zn)),this.urlCreationStrategy.createUrlTree(j,this.routerState,this.currentUrlTree,w,zn,null!=Sn?Sn:null)}navigateByUrl(w,R={skipLocationChange:!1}){const j=Fr(w)?w:this.parseUrl(w),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,$e,null,R)}navigate(w,R={skipLocationChange:!1}){return function Fa(T){for(let M=0;M<T.length;M++){const w=T[M];if(null==w)throw new a.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,R),R)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let R;try{R=this.urlSerializer.parse(w)}catch(j){R=this.malformedUriErrorHandler(j,this.urlSerializer,w)}return R}isActive(w,R){let j;if(j=!0===R?{...gi}:!1===R?{...Ln}:R,Fr(w))return lr(this.currentUrlTree,w,j);const ne=this.parseUrl(w);return lr(this.currentUrlTree,ne,j)}removeEmptyProps(w){return Object.keys(w).reduce((R,j)=>{const ne=w[j];return null!=ne&&(R[j]=ne),R},{})}scheduleNavigation(w,R,j,ne,ue){if(this.disposed)return Promise.resolve(!1);let pt,Ut,Sn,zn;if(ue?(pt=ue.resolve,Ut=ue.reject,Sn=ue.promise):Sn=new Promise((Vr,Is)=>{pt=Vr,Ut=Is}),"computed"===this.canceledNavigationResolution)if(j&&j.\u0275routerPageId)zn=j.\u0275routerPageId;else if(ne.replaceUrl||ne.skipLocationChange){var Bn;zn=null!==(Bn=this.browserPageId)&&void 0!==Bn?Bn:0}else{var ti;zn=(null!==(ti=this.browserPageId)&&void 0!==ti?ti:0)+1}else zn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:zn,source:R,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:ne,resolve:pt,reject:Ut,promise:Sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sn.catch(Vr=>Promise.reject(Vr))}setBrowserUrl(w,R){const j=this.urlSerializer.serialize(w),ne={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.isCurrentPathEqualTo(j)||R.extras.replaceUrl?this.location.replaceState(j,"",ne):this.location.go(j,"",ne)}restoreHistory(w,R=!1){if("computed"===this.canceledNavigationResolution){var j,ne;const ue=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(j=this.getCurrentNavigation())||void 0===j?void 0:j.finalUrl)||0===ue?this.currentUrlTree===(null===(ne=this.getCurrentNavigation())||void 0===ne?void 0:ne.finalUrl)&&0===ue&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ue)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,R){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:R}:{navigationId:w}}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Bs=(()=>{class T{constructor(w,R,j,ne,ue,pt){var Ut;this.router=w,this.route=R,this.tabIndexAttribute=j,this.renderer=ne,this.el=ue,this.locationStrategy=pt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new je.x;const Sn=null===(Ut=ue.nativeElement.tagName)||void 0===Ut?void 0:Ut.toLowerCase();this.isAnchorElement="a"===Sn||"area"===Sn,this.isAnchorElement?this.subscription=w.events.subscribe(zn=>{zn instanceof Gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,a.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,a.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,a.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,R,j,ne,ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||R||j||ne||ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;this.href=null!==this.urlTree&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const R=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(w,R){const j=this.renderer,ne=this.el.nativeElement;null!==R?j.setAttribute(ne,w,R):j.removeAttribute(ne,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(w){return new(w||T)(a.Y36(Bi),a.Y36(Qi),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Je.S$))},T.\u0275dir=a.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,R){1&w&&a.NdJ("click",function(ne){return R.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&w&&a.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),T})();class ma{}let rs=(()=>{class T{preload(w,R){return R().pipe(Xe(()=>(0,z.of)(null)))}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),yu=(()=>{class T{constructor(w,R,j,ne,ue){this.router=w,this.injector=j,this.preloadingStrategy=ne,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,gt.h)(w=>w instanceof Gt),(0,Se.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,R){const j=[];for(const Ut of R){var ne,ue;Ut.providers&&!Ut._injector&&(Ut._injector=(0,a.MMx)(Ut.providers,w,`Route: ${Ut.path}`));const Sn=null!==(ne=Ut._injector)&&void 0!==ne?ne:w,zn=null!==(ue=Ut._loadedInjector)&&void 0!==ue?ue:Sn;var pt;(Ut.loadChildren&&!Ut._loadedRoutes&&void 0===Ut.canLoad||Ut.loadComponent&&!Ut._loadedComponent)&&j.push(this.preloadConfig(Sn,Ut)),(Ut.children||Ut._loadedRoutes)&&j.push(this.processRoutes(zn,null!==(pt=Ut.children)&&void 0!==pt?pt:Ut._loadedRoutes))}return(0,ee.D)(j).pipe((0,Mn.J)())}preloadConfig(w,R){return this.preloadingStrategy.preload(R,()=>{let j;j=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(w,R):(0,z.of)(null);const ne=j.pipe((0,Me.z)(ue=>{var pt;return null===ue?(0,z.of)(void 0):(R._loadedRoutes=ue.routes,R._loadedInjector=ue.injector,this.processRoutes(null!==(pt=ue.injector)&&void 0!==pt?pt:w,ue.routes))}));if(R.loadComponent&&!R._loadedComponent){const ue=this.loader.loadComponent(R);return(0,ee.D)([ne,ue]).pipe((0,Mn.J)())}return ne})}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Bi),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(ma),a.LFG(Oa))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const is=new a.OlP("");let tl=(()=>{class T{constructor(w,R,j,ne,ue={}){this.urlSerializer=w,this.transitions=R,this.viewportScroller=j,this.zone=ne,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof It?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Gt&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof si&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new si(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){var w,R;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(R=this.scrollEventsSubscription)||void 0===R||R.unsubscribe()}}return T.\u0275fac=function(w){a.$Z()},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})();var ao=(()=>((ao=ao||{})[ao.COMPLETE=0]="COMPLETE",ao[ao.FAILED=1]="FAILED",ao[ao.REDIRECTING=2]="REDIRECTING",ao))();const us=!1;function Uo(T,M){return{\u0275kind:T,\u0275providers:M}}const lo=new a.OlP("",{providedIn:"root",factory:()=>!1});function Si(){const T=(0,a.f3M)(a.zs3);return M=>{var w,R;const j=T.get(a.z2F);if(M!==j.components[0])return;const ne=T.get(Bi),ue=T.get(va);1===T.get(Ba)&&ne.initialNavigation(),null===(w=T.get(to,null,a.XFs.Optional))||void 0===w||w.setUpPreloading(),null===(R=T.get(is,null,a.XFs.Optional))||void 0===R||R.init(),ne.resetRootComponentType(j.componentTypes[0]),ue.closed||(ue.next(),ue.unsubscribe())}}const va=new a.OlP(us?"bootstrap done indicator":"",{factory:()=>new je.x}),Ba=new a.OlP(us?"initial navigation":"",{providedIn:"root",factory:()=>1});function Cc(){let T=[];return T=us?[{provide:a.Xts,multi:!0,useFactory:()=>{const M=(0,a.f3M)(Bi);return()=>M.events.subscribe(w=>{var R,j,ne,ue;null===(R=(j=console).group)||void 0===R||R.call(j,`Router Event: ${w.constructor.name}`),console.log(function di(T){var M,w,R,j;if(!("type"in T))return`Unknown Router Event: ${T.constructor.name}`;switch(T.type){case 14:return`ActivationEnd(path: '${(null===(M=T.snapshot.routeConfig)||void 0===M?void 0:M.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(w=T.snapshot.routeConfig)||void 0===w?void 0:w.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(R=T.snapshot.routeConfig)||void 0===R?void 0:R.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(j=T.snapshot.routeConfig)||void 0===j?void 0:j.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state}, shouldActivate: ${T.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 2:return`NavigationCancel(id: ${T.id}, url: '${T.url}')`;case 16:return`NavigationSkipped(id: ${T.id}, url: '${T.url}')`;case 1:return`NavigationEnd(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${T.id}, url: '${T.url}', error: ${T.error})`;case 0:return`NavigationStart(id: ${T.id}, url: '${T.url}')`;case 6:return`ResolveEnd(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 5:return`ResolveStart(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 10:return`RouteConfigLoadEnd(path: ${T.route.path})`;case 9:return`RouteConfigLoadStart(path: ${T.route.path})`;case 4:return`RoutesRecognized(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 15:return`Scroll(anchor: '${T.anchor}', position: '${T.position?`${T.position[0]}, ${T.position[1]}`:null}')`}}(w)),console.log(w),null===(ne=(ue=console).groupEnd)||void 0===ne||ne.call(ue)})}}]:[],Uo(1,T)}const to=new a.OlP(us?"router preloader":"");function Pl(T){return Uo(0,[{provide:to,useExisting:yu},{provide:ma,useExisting:T}])}const Xi=!1,Pi=new a.OlP(Xi?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ia=[Je.Ye,{provide:Ae,useClass:We},Bi,Cs,{provide:Qi,useFactory:function jt(T){return T.routerState.root},deps:[Bi]},Oa,Xi?{provide:lo,useValue:!0}:[]];function cs(){return new a.PXZ("Router",Bi)}let $s=(()=>{class T{constructor(w){}static forRoot(w,R){return{ngModule:T,providers:[ia,Xi&&null!=R&&R.enableTracing?Cc().\u0275providers:[],{provide:Gs,multi:!0,useValue:w},{provide:Pi,useFactory:Nl,deps:[[Bi,new a.FiY,new a.tp0]]},{provide:pa,useValue:R||{}},null!=R&&R.useHash?{provide:Je.S$,useClass:Je.Do}:{provide:Je.S$,useClass:Je.b0},{provide:is,useFactory:()=>{const T=(0,a.f3M)(Je.EM),M=(0,a.f3M)(a.R0b),w=(0,a.f3M)(pa),R=(0,a.f3M)(Ja),j=(0,a.f3M)(Ae);return w.scrollOffset&&T.setOffset(w.scrollOffset),new tl(j,R,T,M,w)}},null!=R&&R.preloadingStrategy?Pl(R.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:cs},null!=R&&R.initialNavigation?vu(R):[],[{provide:_u,useFactory:Si},{provide:a.tb,multi:!0,useExisting:_u}]]}}static forChild(w){return{ngModule:T,providers:[{provide:Gs,multi:!0,useValue:w}]}}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Pi,8))},T.\u0275mod=a.oAB({type:T}),T.\u0275inj=a.cJS({imports:[Nr]}),T})();function Nl(T){if(Xi&&T)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vu(T){return["disabled"===T.initialNavigation?Uo(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const M=(0,a.f3M)(Bi);return()=>{M.setUpLocationChangeListener()}}},{provide:Ba,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Uo(2,[{provide:Ba,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:M=>{const w=M.get(Je.V_,Promise.resolve());return()=>w.then(()=>new Promise(R=>{const j=M.get(Bi),ne=M.get(va);(function Ol(T,M){T.events.pipe((0,gt.h)(w=>w instanceof Gt||w instanceof pn||w instanceof Wn||w instanceof vn),(0,tt.U)(w=>w instanceof Gt||w instanceof vn?ao.COMPLETE:w instanceof pn&&(0===w.code||1===w.code)?ao.REDIRECTING:ao.FAILED),(0,gt.h)(w=>w!==ao.REDIRECTING),(0,st.q)(1)).subscribe(()=>{M()})})(j,()=>{R(!0)}),M.get(Ja).afterPreactivation=()=>(R(!0),ne.closed?(0,z.of)(void 0):ne),j.initialNavigation()}))}}]).\u0275providers:[]]}const _u=new a.OlP(Xi?"Router Initializer":"")},3942:(_n,yt,V)=>{"use strict";V.d(yt,{Z:()=>dt});var a=V(2090),ee=V(4859),z=V(9681),Ce=V(1877);class Te{constructor(Re,ye){this._delegate=Re,this.firebase=ye,(0,z._addComponent)(Re,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Re,ye=z._DEFAULT_ENTRY_NAME){var de;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Re);return!ht.isInitialized()&&"EXPLICIT"===(null===(de=ht.getComponent())||void 0===de?void 0:de.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:ye})}_removeServiceInstance(Re,ye=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(ye)}_addComponent(Re){(0,z._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,z._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ve=function ke(){const Mt=function De(Mt){const Re={},ye={__esModule:!0,initializeApp:function Be(Fe,N={}){const Ge=z.initializeApp(Fe,N);if((0,a.r3)(Re,Ge.name))return Re[Ge.name];const je=new Mt(Ge,ye);return Re[Ge.name]=je,je},app:ht,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ue(Fe){const N=Fe.name,Ge=N.replace("-compat","");if(z._registerComponent(Fe)&&"PUBLIC"===Fe.type){const je=(Je=ht())=>{if("function"!=typeof Je[Ge])throw ge.create("invalid-app-argument",{appName:N});return Je[Ge]()};void 0!==Fe.serviceProps&&(0,a.ZB)(je,Fe.serviceProps),ye[Ge]=je,Mt.prototype[Ge]=function(...Je){return this._getService.bind(this,N).apply(this,Fe.multipleInstances?Je:[])}}return"PUBLIC"===Fe.type?ye[Ge]:null},removeApp:function de(Fe){delete Re[Fe]},useAsService:function Oe(Fe,N){return"serverAuth"===N?null:N},modularAPIs:z}};function ht(Fe){if(!(0,a.r3)(Re,Fe=Fe||z._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Fe});return Re[Fe]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Ze(){return Object.keys(Re).map(Fe=>Re[Fe])}}),ht.App=Mt,ye}(Te);return Mt.INTERNAL=Object.assign(Object.assign({},Mt.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Re(ye){(0,a.ZB)(Mt,ye)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Mt}(),ie=new Ce.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Mt=self.firebase.SDK_VERSION;Mt&&Mt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=ve;!function ze(Mt){(0,z.registerVersion)("@firebase/app-compat","0.2.7",Mt)}()},9681:(_n,yt,V)=>{"use strict";V.r(yt),V.d(yt,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Un,_DEFAULT_ENTRY_NAME:()=>Pe,_addComponent:()=>ut,_addOrOverwriteComponent:()=>ot,_apps:()=>lt,_clearComponents:()=>Ot,_components:()=>Xe,_getProvider:()=>Vt,_registerComponent:()=>Kt,_removeServiceInstance:()=>Pt,deleteApp:()=>At,getApp:()=>er,getApps:()=>cr,initializeApp:()=>yn,onLog:()=>St,registerVersion:()=>Nt,setLogLevel:()=>bn});var a=V(5861),ee=V(4859),z=V(1877),Ce=V(2090),Te=V(8766);class be{constructor(qt){this.container=qt}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function ge(cn){const qt=cn.getComponent();return"VERSION"===(null==qt?void 0:qt.type)}(Et)){const Ae=Et.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(Et=>Et).join(" ")}}const De="@firebase/app",ve=new z.Yd("@firebase/app"),Pe="[DEFAULT]",Se={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lt=new Map,Xe=new Map;function ut(cn,qt){try{cn.container.addComponent(qt)}catch(Et){ve.debug(`Component ${qt.name} failed to register with FirebaseApp ${cn.name}`,Et)}}function ot(cn,qt){cn.container.addOrOverwriteComponent(qt)}function Kt(cn){const qt=cn.name;if(Xe.has(qt))return ve.debug(`There were multiple attempts to register component ${qt}.`),!1;Xe.set(qt,cn);for(const Et of lt.values())ut(Et,cn);return!0}function Vt(cn,qt){const Et=cn.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),cn.container.getProvider(qt)}function Pt(cn,qt,Et=Pe){Vt(cn,qt).clearInstance(Et)}function Ot(){Xe.clear()}const An=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mn{constructor(qt,Et,Ae){this._isDeleted=!1,this._options=Object.assign({},qt),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qt){this.checkDestroyed(),this._automaticDataCollectionEnabled=qt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qt){this._isDeleted=qt}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const Un="9.19.1";function yn(cn,qt={}){let Et=cn;"object"!=typeof qt&&(qt={name:qt});const Ae=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},qt),We=Ae.name;if("string"!=typeof We||!We)throw An.create("bad-app-name",{appName:String(We)});if(Et||(Et=(0,Ce.aH)()),!Et)throw An.create("no-options");const kt=lt.get(We);if(kt){if((0,Ce.vZ)(Et,kt.options)&&(0,Ce.vZ)(Ae,kt.config))return kt;throw An.create("duplicate-app",{appName:We})}const Wt=new ee.H0(We);for(const Ee of Xe.values())Wt.addComponent(Ee);const Ie=new Mn(Et,Ae,Wt);return lt.set(We,Ie),Ie}function er(cn=Pe){const qt=lt.get(cn);if(!qt&&cn===Pe)return yn();if(!qt)throw An.create("no-app",{appName:cn});return qt}function cr(){return Array.from(lt.values())}function At(cn){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(function*(cn){const qt=cn.name;lt.has(qt)&&(lt.delete(qt),yield Promise.all(cn.container.getProviders().map(Et=>Et.delete())),cn.isDeleted=!0)})).apply(this,arguments)}function Nt(cn,qt,Et){var Ae;let We=null!==(Ae=Se[cn])&&void 0!==Ae?Ae:cn;Et&&(We+=`-${Et}`);const kt=We.match(/\s|\//),Wt=qt.match(/\s|\//);if(kt||Wt){const Ie=[`Unable to register library "${We}" with version "${qt}":`];return kt&&Ie.push(`library name "${We}" contains illegal characters (whitespace or "/")`),kt&&Wt&&Ie.push("and"),Wt&&Ie.push(`version name "${qt}" contains illegal characters (whitespace or "/")`),void ve.warn(Ie.join(" "))}Kt(new ee.wA(`${We}-version`,()=>({library:We,version:qt}),"VERSION"))}function St(cn,qt){if(null!==cn&&"function"!=typeof cn)throw An.create("invalid-log-argument");(0,z.Am)(cn,qt)}function bn(cn){(0,z.Ub)(cn)}const on="firebase-heartbeat-database",In=1,dr="firebase-heartbeat-store";let pr=null;function un(){return pr||(pr=(0,Te.X3)(on,In,{upgrade:(cn,qt)=>{0===qt&&cn.createObjectStore(dr)}}).catch(cn=>{throw An.create("idb-open",{originalErrorMessage:cn.message})})),pr}function hn(){return(hn=(0,a.Z)(function*(cn){try{return(yield un()).transaction(dr).objectStore(dr).get(nn(cn))}catch(qt){if(qt instanceof Ce.ZR)ve.warn(qt.message);else{const Et=An.create("idb-get",{originalErrorMessage:null==qt?void 0:qt.message});ve.warn(Et.message)}}})).apply(this,arguments)}function Fn(cn,qt){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(cn,qt){try{const Ae=(yield un()).transaction(dr,"readwrite");return yield Ae.objectStore(dr).put(qt,nn(cn)),Ae.done}catch(Et){if(Et instanceof Ce.ZR)ve.warn(Et.message);else{const Ae=An.create("idb-set",{originalErrorMessage:null==Et?void 0:Et.message});ve.warn(Ae.message)}}})).apply(this,arguments)}function nn(cn){return`${cn.name}!${cn.options.appId}`}class ri{constructor(qt){this.container=qt,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new rr(Et),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var qt=this;return(0,a.Z)(function*(){const Ae=qt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),We=xr();if(null===qt._heartbeatsCache&&(qt._heartbeatsCache=yield qt._heartbeatsCachePromise),qt._heartbeatsCache.lastSentHeartbeatDate!==We&&!qt._heartbeatsCache.heartbeats.some(kt=>kt.date===We))return qt._heartbeatsCache.heartbeats.push({date:We,agent:Ae}),qt._heartbeatsCache.heartbeats=qt._heartbeatsCache.heartbeats.filter(kt=>{const Wt=new Date(kt.date).valueOf();return Date.now()-Wt<=2592e6}),qt._storage.overwrite(qt._heartbeatsCache)})()}getHeartbeatsHeader(){var qt=this;return(0,a.Z)(function*(){if(null===qt._heartbeatsCache&&(yield qt._heartbeatsCachePromise),null===qt._heartbeatsCache||0===qt._heartbeatsCache.heartbeats.length)return"";const Et=xr(),{heartbeatsToSend:Ae,unsentEntries:We}=function ii(cn,qt=1024){const Et=[];let Ae=cn.slice();for(const We of cn){const kt=Et.find(Wt=>Wt.agent===We.agent);if(kt){if(kt.dates.push(We.date),Hn(Et)>qt){kt.dates.pop();break}}else if(Et.push({agent:We.agent,dates:[We.date]}),Hn(Et)>qt){Et.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:Et,unsentEntries:Ae}}(qt._heartbeatsCache.heartbeats),kt=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Ae}));return qt._heartbeatsCache.lastSentHeartbeatDate=Et,We.length>0?(qt._heartbeatsCache.heartbeats=We,yield qt._storage.overwrite(qt._heartbeatsCache)):(qt._heartbeatsCache.heartbeats=[],qt._storage.overwrite(qt._heartbeatsCache)),kt})()}}function xr(){return(new Date).toISOString().substring(0,10)}class rr{constructor(qt){this.app=qt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qt=this;return(0,a.Z)(function*(){return(yield qt._canUseIndexedDBPromise)&&(yield function Cn(cn){return hn.apply(this,arguments)}(qt.app))||{heartbeats:[]}})()}overwrite(qt){var Et=this;return(0,a.Z)(function*(){var Ae;if(yield Et._canUseIndexedDBPromise){const kt=yield Et.read();return Fn(Et.app,{lastSentHeartbeatDate:null!==(Ae=qt.lastSentHeartbeatDate)&&void 0!==Ae?Ae:kt.lastSentHeartbeatDate,heartbeats:qt.heartbeats})}})()}add(qt){var Et=this;return(0,a.Z)(function*(){var Ae;if(yield Et._canUseIndexedDBPromise){const kt=yield Et.read();return Fn(Et.app,{lastSentHeartbeatDate:null!==(Ae=qt.lastSentHeartbeatDate)&&void 0!==Ae?Ae:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...qt.heartbeats]})}})()}}function Hn(cn){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:cn})).length}!function Qr(cn){Kt(new ee.wA("platform-logger",qt=>new be(qt),"PRIVATE")),Kt(new ee.wA("heartbeat",qt=>new ri(qt),"PRIVATE")),Nt(De,"0.9.7",cn),Nt(De,"0.9.7","esm2017"),Nt("fire-js","")}("")},4859:(_n,yt,V)=>{"use strict";V.d(yt,{H0:()=>De,wA:()=>z,zt:()=>Te});var a=V(5861),ee=V(2090);class z{constructor(ve,ie,ce){this.name=ve,this.instanceFactory=ie,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ve){return this.instantiationMode=ve,this}setMultipleInstances(ve){return this.multipleInstances=ve,this}setServiceProps(ve){return this.serviceProps=ve,this}setInstanceCreatedCallback(ve){return this.onInstanceCreated=ve,this}}const Ce="[DEFAULT]";class Te{constructor(ve,ie){this.name=ve,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ve){const ie=this.normalizeInstanceIdentifier(ve);if(!this.instancesDeferred.has(ie)){const ce=new ee.BH;if(this.instancesDeferred.set(ie,ce),this.isInitialized(ie)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:ie});xe&&ce.resolve(xe)}catch(xe){}}return this.instancesDeferred.get(ie).promise}getImmediate(ve){var ie;const ce=this.normalizeInstanceIdentifier(null==ve?void 0:ve.identifier),xe=null!==(ie=null==ve?void 0:ve.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(ze){if(xe)return null;throw ze}}getComponent(){return this.component}setComponent(ve){if(ve.name!==this.name)throw Error(`Mismatching Component ${ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ve,this.shouldAutoInitialize()){if(function ge(ke){return"EAGER"===ke.instantiationMode}(ve))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(ie){}for(const[ie,ce]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(ie);try{const ze=this.getOrInitializeService({instanceIdentifier:xe});ce.resolve(ze)}catch(ze){}}}}clearInstance(ve=Ce){this.instancesDeferred.delete(ve),this.instancesOptions.delete(ve),this.instances.delete(ve)}delete(){var ve=this;return(0,a.Z)(function*(){const ie=Array.from(ve.instances.values());yield Promise.all([...ie.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...ie.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ve=Ce){return this.instances.has(ve)}getOptions(ve=Ce){return this.instancesOptions.get(ve)||{}}initialize(ve={}){const{options:ie={}}=ve,ce=this.normalizeInstanceIdentifier(ve.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:ce,options:ie});for(const[ze,dt]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(ze)&&dt.resolve(xe);return xe}onInit(ve,ie){var ce;const xe=this.normalizeInstanceIdentifier(ie),ze=null!==(ce=this.onInitCallbacks.get(xe))&&void 0!==ce?ce:new Set;ze.add(ve),this.onInitCallbacks.set(xe,ze);const dt=this.instances.get(xe);return dt&&ve(dt,xe),()=>{ze.delete(ve)}}invokeOnInitCallbacks(ve,ie){const ce=this.onInitCallbacks.get(ie);if(ce)for(const xe of ce)try{xe(ve,ie)}catch(ze){}}getOrInitializeService({instanceIdentifier:ve,options:ie={}}){let ce=this.instances.get(ve);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=ve,ke===Ce?void 0:ke),options:ie}),this.instances.set(ve,ce),this.instancesOptions.set(ve,ie),this.invokeOnInitCallbacks(ce,ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ve,ce)}catch(xe){}var ke;return ce||null}normalizeInstanceIdentifier(ve=Ce){return this.component?this.component.multipleInstances?ve:Ce:ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(ve){this.name=ve,this.providers=new Map}addComponent(ve){const ie=this.getProvider(ve.name);if(ie.isComponentSet())throw new Error(`Component ${ve.name} has already been registered with ${this.name}`);ie.setComponent(ve)}addOrOverwriteComponent(ve){this.getProvider(ve.name).isComponentSet()&&this.providers.delete(ve.name),this.addComponent(ve)}getProvider(ve){if(this.providers.has(ve))return this.providers.get(ve);const ie=new Te(ve,this);return this.providers.set(ve,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(_n,yt,V)=>{"use strict";V.d(yt,{Am:()=>ke,Ub:()=>De,Yd:()=>ge,in:()=>ee});const a=[];var ee=(()=>{return(ve=ee||(ee={}))[ve.DEBUG=0]="DEBUG",ve[ve.VERBOSE=1]="VERBOSE",ve[ve.INFO=2]="INFO",ve[ve.WARN=3]="WARN",ve[ve.ERROR=4]="ERROR",ve[ve.SILENT=5]="SILENT",ee;var ve})();const z={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Ce=ee.INFO,Te={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},be=(ve,ie,...ce)=>{if(ie<ve.logLevel)return;const xe=(new Date).toISOString(),ze=Te[ie];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[ze](`[${xe}]  ${ve.name}:`,...ce)};class ge{constructor(ie){this.name=ie,this._logLevel=Ce,this._logHandler=be,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in ee))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?z[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...ie),this._logHandler(this,ee.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...ie),this._logHandler(this,ee.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...ie),this._logHandler(this,ee.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...ie),this._logHandler(this,ee.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...ie),this._logHandler(this,ee.ERROR,...ie)}}function De(ve){a.forEach(ie=>{ie.setLogLevel(ve)})}function ke(ve,ie){for(const ce of a){let xe=null;ie&&ie.level&&(xe=z[ie.level]),ce.userLogHandler=null===ve?null:(ze,dt,...Mt)=>{const Re=Mt.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(de){return null}}).filter(ye=>ye).join(" ");dt>=(null!=xe?xe:ze.logLevel)&&ve({level:ee[dt].toLowerCase(),message:Re,args:Mt,type:ze.name})}}}},259:(_n,yt,V)=>{"use strict";V.d(yt,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=V(9681);(0,a.registerVersion)("firebase","9.19.1","app")},9260:(_n,yt,V)=>{"use strict";V.d(yt,{Z:()=>a.Z});var a=V(3942);a.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(_n,yt,V)=>{"use strict";V.r(yt);var a=V(5861),ee=V(3942),z=V(2090),Ce=V(9681),Te=V(1877),be=V(655),ge=V(4859);const ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce_EMAIL_SIGNIN="EMAIL_SIGNIN",ce_PASSWORD_RESET="PASSWORD_RESET",ce_RECOVER_EMAIL="RECOVER_EMAIL",ce_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ce_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ce_VERIFY_EMAIL="VERIFY_EMAIL";const dt=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Mt=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new Te.Yd("@firebase/auth");function ht(C,...m){de.logLevel<=Te.in.ERROR&&de.error(`Auth (${Ce.SDK_VERSION}): ${C}`,...m)}function Be(C,...m){throw Fe(C,...m)}function Ze(C,...m){return Fe(C,...m)}function Ue(C,m,v){const x=Object.assign(Object.assign({},Mt()),{[m]:v});return new z.LL("auth","Firebase",x).create(m,{appName:C.name})}function Oe(C,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&Be(C,"argument-error"),Ue(C,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(C,...m){if("string"!=typeof C){const v=m[0],x=[...m.slice(1)];return x[0]&&(x[0].appName=C.name),C._errorFactory.create(v,...x)}return Re.create(C,...m)}function N(C,m,...v){if(!C)throw Fe(m,...v)}function Ge(C){const m="INTERNAL ASSERTION FAILED: "+C;throw ht(m),new Error(m)}function je(C,m){C||Ge(m)}const Je=new Map;function tt(C){je(C instanceof Function,"Expected a class definition");let m=Je.get(C);return m?(je(m instanceof C,"Instance stored in cache mismatched with class"),m):(m=new C,Je.set(C,m),m)}function bt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function gt(){return"http:"===Me()||"https:"===Me()}function Me(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class lt{constructor(m,v){this.shortDelay=m,this.longDelay=v,je(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(C,m){je(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class ut{static initialize(m,v,x){this.fetchImpl=m,v&&(this.headersImpl=v),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kt=new lt(3e4,6e4);function Vt(C,m){return C.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:C.tenantId}):m}function Pt(C,m,v,x){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(C,m,v,x,Z={}){return $n(C,Z,(0,a.Z)(function*(){let fe={},wt={};x&&("GET"===m?wt=x:fe={body:JSON.stringify(x)});const Zt=(0,z.xO)(Object.assign({key:C.config.apiKey},wt)).slice(1),kn=yield C._getAdditionalHeaders();return kn["Content-Type"]="application/json",C.languageCode&&(kn["X-Firebase-Locale"]=C.languageCode),ut.fetch()(yn(C,C.config.apiHost,v,Zt),Object.assign({method:m,headers:kn,referrerPolicy:"no-referrer"},fe))}))})).apply(this,arguments)}function $n(C,m,v){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(C,m,v){C._canInitEmulator=!1;const x=Object.assign(Object.assign({},ot),m);try{const Z=new er(C),fe=yield Promise.race([v(),Z.promise]);Z.clearNetworkTimeout();const wt=yield fe.json();if("needConfirmation"in wt)throw cr(C,"account-exists-with-different-credential",wt);if(fe.ok&&!("errorMessage"in wt))return wt;{const Zt=fe.ok?wt.errorMessage:wt.error.message,[kn,Qn]=Zt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kn)throw cr(C,"credential-already-in-use",wt);if("EMAIL_EXISTS"===kn)throw cr(C,"email-already-in-use",wt);if("USER_DISABLED"===kn)throw cr(C,"user-disabled",wt);const Er=x[kn]||kn.toLowerCase().replace(/[_\s]+/g,"-");if(Qn)throw Ue(C,Er,Qn);Be(C,Er)}}catch(Z){if(Z instanceof z.ZR)throw Z;Be(C,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Mn(C,m,v,x){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(C,m,v,x,Z={}){const fe=yield Pt(C,m,v,x,Z);return"mfaPendingCredential"in fe&&Be(C,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function yn(C,m,v,x){const Z=`${m}${v}?${x}`;return C.config.emulator?Xe(C.config,Z):`${C.config.apiScheme}://${Z}`}class er{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,x)=>{this.timer=setTimeout(()=>x(Ze(this.auth,"network-request-failed")),Kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(C,m,v){const x={appName:C.name};v.email&&(x.email=v.email),v.phoneNumber&&(x.phoneNumber=v.phoneNumber);const Z=Ze(C,m,x);return Z.customData._tokenResponse=v,Z}function mt(){return(mt=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function In(C){if(C)try{const m=new Date(Number(C));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function un(){return(un=(0,a.Z)(function*(C,m=!1){const v=(0,z.m9)(C),x=yield v.getIdToken(m),Z=hn(x);N(Z&&Z.exp&&Z.auth_time&&Z.iat,v.auth,"internal-error");const fe="object"==typeof Z.firebase?Z.firebase:void 0,wt=null==fe?void 0:fe.sign_in_provider;return{claims:Z,token:x,authTime:In(Cn(Z.auth_time)),issuedAtTime:In(Cn(Z.iat)),expirationTime:In(Cn(Z.exp)),signInProvider:wt||null,signInSecondFactor:(null==fe?void 0:fe.sign_in_second_factor)||null}})).apply(this,arguments)}function Cn(C){return 1e3*Number(C)}function hn(C){const[m,v,x]=C.split(".");if(void 0===m||void 0===v||void 0===x)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,z.tV)(v);return Z?JSON.parse(Z):(ht("Failed to decode base64 JWT payload"),null)}catch(Z){return ht("Caught error parsing JWT payload as JSON",null==Z?void 0:Z.toString()),null}}function lr(C,m){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(C,m,v=!1){if(v)return m;try{return yield m}catch(x){throw x instanceof z.ZR&&function yr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(x)&&C.auth.currentUser===C&&(yield C.auth.signOut()),x}})).apply(this,arguments)}class ni{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const Z=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const x=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),x)}iteration(){var m=this;return(0,a.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&m.schedule(!0))}m.schedule()})()}}class ri{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(C){return ii.apply(this,arguments)}function ii(){return ii=(0,a.Z)(function*(C){var m;const v=C.auth,x=yield C.getIdToken(),Z=yield lr(C,function bn(C,m){return on.apply(this,arguments)}(v,{idToken:x}));N(null==Z?void 0:Z.users.length,v,"internal-error");const fe=Z.users[0];C._notifyReloadListener(fe);const wt=null!==(m=fe.providerUserInfo)&&void 0!==m&&m.length?function cn(C){return C.map(m=>{var{providerId:v}=m,x=(0,be._T)(m,["providerId"]);return{providerId:v,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(fe.providerUserInfo):[],Zt=function Qr(C,m){return[...C.filter(x=>!m.some(Z=>Z.providerId===x.providerId)),...m]}(C.providerData,wt),Er=!!C.isAnonymous&&!(C.email&&fe.passwordHash||null!=Zt&&Zt.length),_r={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:Zt,metadata:new ri(fe.createdAt,fe.lastLoginAt),isAnonymous:Er};Object.assign(C,_r)}),ii.apply(this,arguments)}function Hn(){return(Hn=(0,a.Z)(function*(C){const m=(0,z.m9)(C);yield xr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(C,m){const v=yield $n(C,{},(0,a.Z)(function*(){const x=(0,z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Z,apiKey:fe}=C.config,wt=yn(C,Z,"/v1/token",`key=${fe}`),Zt=yield C._getAdditionalHeaders();return Zt["Content-Type"]="application/x-www-form-urlencoded",ut.fetch()(wt,{method:"POST",headers:Zt,body:x})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){N(m.idToken,"internal-error"),N(typeof m.idToken<"u","internal-error"),N(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Fn(C){const m=hn(C);return N(m,"internal-error"),N(typeof m.exp<"u","internal-error"),N(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var x=this;return(0,a.Z)(function*(){return N(!x.accessToken||x.refreshToken,m,"user-token-expired"),v||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(m,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var x=this;return(0,a.Z)(function*(){const{accessToken:Z,refreshToken:fe,expiresIn:wt}=yield function qt(C,m){return Et.apply(this,arguments)}(m,v);x.updateTokensAndExpiration(Z,fe,Number(wt))})()}updateTokensAndExpiration(m,v,x){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(m,v){const{refreshToken:x,accessToken:Z,expirationTime:fe}=v,wt=new Ae;return x&&(N("string"==typeof x,"internal-error",{appName:m}),wt.refreshToken=x),Z&&(N("string"==typeof Z,"internal-error",{appName:m}),wt.accessToken=Z),fe&&(N("number"==typeof fe,"internal-error",{appName:m}),wt.expirationTime=fe),wt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Ae,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function We(C,m){N("string"==typeof C||typeof C>"u","internal-error",{appName:m})}class kt{constructor(m){var{uid:v,auth:x,stsTokenManager:Z}=m,fe=(0,be._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=x,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new ri(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,a.Z)(function*(){const x=yield lr(v,v.stsTokenManager.getToken(v.auth,m));return N(x,v.auth,"internal-error"),v.accessToken!==x&&(v.accessToken=x,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),x})()}getIdTokenResult(m){return function pr(C){return un.apply(this,arguments)}(this,m)}reload(){return function rr(C){return Hn.apply(this,arguments)}(this)}_assign(m){this!==m&&(N(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new kt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var x=this;return(0,a.Z)(function*(){let Z=!1;m.idToken&&m.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(m),Z=!0),v&&(yield xr(x)),yield x.auth._persistUserIfCurrent(x),Z&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var m=this;return(0,a.Z)(function*(){const v=yield m.getIdToken();return yield lr(m,function At(C,m){return mt.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var x,Z,fe,wt,Zt,kn,Qn,Er;const _r=null!==(x=v.displayName)&&void 0!==x?x:void 0,Ks=null!==(Z=v.email)&&void 0!==Z?Z:void 0,la=null!==(fe=v.phoneNumber)&&void 0!==fe?fe:void 0,lc=null!==(wt=v.photoURL)&&void 0!==wt?wt:void 0,eh=null!==(Zt=v.tenantId)&&void 0!==Zt?Zt:void 0,th=null!==(kn=v._redirectEventId)&&void 0!==kn?kn:void 0,Uh=null!==(Qn=v.createdAt)&&void 0!==Qn?Qn:void 0,Hc=null!==(Er=v.lastLoginAt)&&void 0!==Er?Er:void 0,{uid:cl,emailVerified:nh,isAnonymous:jh,providerData:hs,stsTokenManager:zc}=v;N(cl&&zc,m,"internal-error");const rh=Ae.fromJSON(this.name,zc);N("string"==typeof cl,m,"internal-error"),We(_r,m.name),We(Ks,m.name),N("boolean"==typeof nh,m,"internal-error"),N("boolean"==typeof jh,m,"internal-error"),We(la,m.name),We(lc,m.name),We(eh,m.name),We(th,m.name),We(Uh,m.name),We(Hc,m.name);const Ru=new kt({uid:cl,auth:m,email:Ks,emailVerified:nh,displayName:_r,isAnonymous:jh,photoURL:lc,phoneNumber:la,tenantId:eh,stsTokenManager:rh,createdAt:Uh,lastLoginAt:Hc});return hs&&Array.isArray(hs)&&(Ru.providerData=hs.map(Tl=>Object.assign({},Tl))),th&&(Ru._redirectEventId=th),Ru}static _fromIdTokenResponse(m,v,x=!1){return(0,a.Z)(function*(){const Z=new Ae;Z.updateFromServerResponse(v);const fe=new kt({uid:v.localId,auth:m,stsTokenManager:Z,isAnonymous:x});return yield xr(fe),fe})()}}const Ie=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,x){var Z=this;return(0,a.Z)(function*(){Z.storage[v]=x})()}_get(v){var x=this;return(0,a.Z)(function*(){const Z=x.storage[v];return void 0===Z?null:Z})()}_remove(v){var x=this;return(0,a.Z)(function*(){delete x.storage[v]})()}_addListener(v,x){}_removeListener(v,x){}}return C.type="NONE",C})();function Ee(C,m,v){return`firebase:${C}:${m}:${v}`}class Ye{constructor(m,v,x){this.persistence=m,this.auth=v,this.userKey=x;const{config:Z,name:fe}=this.auth;this.fullUserKey=Ee(this.userKey,Z.apiKey,fe),this.fullPersistenceKey=Ee("persistence",Z.apiKey,fe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?kt._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,a.Z)(function*(){if(v.persistence===m)return;const x=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,x?v.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,x="authUser"){return(0,a.Z)(function*(){if(!v.length)return new Ye(tt(Ie),m,x);const Z=(yield Promise.all(v.map(function(){var Qn=(0,a.Z)(function*(Er){if(yield Er._isAvailable())return Er});return function(Er){return Qn.apply(this,arguments)}}()))).filter(Qn=>Qn);let fe=Z[0]||tt(Ie);const wt=Ee(x,m.config.apiKey,m.name);let Zt=null;for(const Qn of v)try{const Er=yield Qn._get(wt);if(Er){const _r=kt._fromJSON(m,Er);Qn!==fe&&(Zt=_r),fe=Qn;break}}catch(Er){}const kn=Z.filter(Qn=>Qn._shouldAllowMigration);return fe._shouldAllowMigration&&kn.length?(fe=kn[0],Zt&&(yield fe._set(wt,Zt.toJSON())),yield Promise.all(v.map(function(){var Qn=(0,a.Z)(function*(Er){if(Er!==fe)try{yield Er._remove(wt)}catch(_r){}});return function(Er){return Qn.apply(this,arguments)}}())),new Ye(fe,m,x)):new Ye(fe,m,x)})()}}function Rt(C){const m=C.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(qe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ct(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(_t(m))return"Blackberry";if(zt(m))return"Webos";if(wn(m))return"Safari";if((m.includes("chrome/")||Qe(m))&&!m.includes("edge/"))return"Chrome";if(me(m))return"Android";{const x=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function Ct(C=(0,z.z$)()){return/firefox\//i.test(C)}function wn(C=(0,z.z$)()){const m=C.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Qe(C=(0,z.z$)()){return/crios\//i.test(C)}function qe(C=(0,z.z$)()){return/iemobile/i.test(C)}function me(C=(0,z.z$)()){return/android/i.test(C)}function _t(C=(0,z.z$)()){return/blackberry/i.test(C)}function zt(C=(0,z.z$)()){return/webos/i.test(C)}function en(C=(0,z.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function vi(C=(0,z.z$)()){return en(C)||me(C)||zt(C)||_t(C)||/windows phone/i.test(C)||qe(C)}function ji(C,m=[]){let v;switch(C){case"Browser":v=Rt((0,z.z$)());break;case"Worker":v=`${Rt((0,z.z$)())}-${C}`;break;default:v=C}const x=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${Ce.SDK_VERSION}/${x}`}class oi{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const x=fe=>new Promise((wt,Zt)=>{try{wt(m(fe))}catch(kn){Zt(kn)}});x.onAbort=v,this.queue.push(x);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,a.Z)(function*(){if(v.auth.currentUser===m)return;const x=[];try{for(const Z of v.queue)yield Z(m),Z.onAbort&&x.push(Z.onAbort)}catch(Z){x.reverse();for(const fe of x)try{fe()}catch(wt){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==Z?void 0:Z.message})}})()}}class Ci{constructor(m,v,x){this.app=m,this.heartbeatServiceProvider=v,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new es(this),this.idTokenSubscription=new es(this),this.beforeStateQueue=new oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(m,v){var x=this;return v&&(this._popupRedirectResolver=tt(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var Z,fe;if(!x._deleted&&(x.persistenceManager=yield Ye.create(x,m),!x._deleted)){if(null!==(Z=x._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(wt){}yield x.initializeCurrentUser(v),x.lastNotifiedUid=(null===(fe=x.currentUser)||void 0===fe?void 0:fe.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,a.Z)(function*(){var x;const Z=yield v.assertedPersistence.getCurrentUser();let fe=Z,wt=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Zt=null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId,kn=null==fe?void 0:fe._redirectEventId,Qn=yield v.tryRedirectSignIn(m);(!Zt||Zt===kn)&&null!=Qn&&Qn.user&&(fe=Qn.user,wt=!0)}if(!fe)return v.directlySetCurrentUser(null);if(!fe._redirectEventId){if(wt)try{yield v.beforeStateQueue.runMiddleware(fe)}catch(Zt){fe=Z,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Zt))}return fe?v.reloadAndSetCurrentUserOrClear(fe):v.directlySetCurrentUser(null)}return N(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===fe._redirectEventId?v.directlySetCurrentUser(fe):v.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(m){var v=this;return(0,a.Z)(function*(){let x=null;try{x=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(Z){yield v._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,a.Z)(function*(){try{yield xr(m)}catch(x){if("auth/network-request-failed"!==(null==x?void 0:x.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Se(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,a.Z)(function*(){const x=m?(0,z.m9)(m):null;return x&&N(x.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(x&&x._clone(v))})()}_updateCurrentUser(m,v=!1){var x=this;return(0,a.Z)(function*(){if(!x._deleted)return m&&N(x.tenantId===m.tenantId,x,"tenant-id-mismatch"),v||(yield x.beforeStateQueue.runMiddleware(m)),x.queue((0,a.Z)(function*(){yield x.directlySetCurrentUser(m),x.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(tt(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new z.LL("auth","Firebase",m())}onAuthStateChanged(m,v,x){return this.registerStateListener(this.authStateSubscription,m,v,x)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,x){return this.registerStateListener(this.idTokenSubscription,m,v,x)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var x=this;return(0,a.Z)(function*(){const Z=yield x.getOrInitRedirectPersistenceManager(v);return null===m?Z.removeCurrentUser():Z.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const x=m&&tt(m)||v._popupRedirectResolver;N(x,v,"argument-error"),v.redirectPersistenceManager=yield Ye.create(v,[tt(x._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,a.Z)(function*(){var x,Z;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(x=v._currentUser)||void 0===x?void 0:x._redirectEventId)===m?v._currentUser:(null===(Z=v.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,a.Z)(function*(){if(m===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,x,Z){if(this._deleted)return()=>{};const fe="function"==typeof v?v:v.next.bind(v),wt=this._isInitialized?Promise.resolve():this._initializationPromise;return N(wt,this,"internal-error"),wt.then(()=>fe(this.currentUser)),"function"==typeof v?m.addObserver(v,x,Z):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ji(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){var v;const x={"X-Client-Version":m.clientVersion};m.app.options.appId&&(x["X-Firebase-gmpid"]=m.app.options.appId);const Z=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return Z&&(x["X-Firebase-Client"]=Z),x})()}}function Fr(C){return(0,z.m9)(C)}class es{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,z.ne)(v=>this.observer=v)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ir(C){const m=C.indexOf(":");return m<0?"":C.substr(0,m+1)}function Lr(C){if(!C)return null;const m=Number(C);return isNaN(m)?null:m}class ei{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Ge("not implemented")}_getIdTokenResponse(m){return Ge("not implemented")}_linkToIdToken(m,v){return Ge("not implemented")}_getReauthenticationResolver(m){return Ge("not implemented")}}function Mr(C,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:resetPassword",Vt(C,m))})).apply(this,arguments)}function Wi(C,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",Vt(C,m))})).apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signInWithPassword",Vt(C,m))})).apply(this,arguments)}function nt(C,m){return F.apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:sendOobCode",Vt(C,m))})).apply(this,arguments)}function re(){return(re=(0,a.Z)(function*(C,m){return nt(C,m)})).apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(C,m){return nt(C,m)})).apply(this,arguments)}function _e(){return(_e=(0,a.Z)(function*(C,m){return nt(C,m)})).apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(C,m){return nt(C,m)})).apply(this,arguments)}function Gt(){return(Gt=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signInWithEmailLink",Vt(C,m))})).apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signInWithEmailLink",Vt(C,m))})).apply(this,arguments)}class Wn extends ei{constructor(m,v,x,Z=null){super("password",x),this._email=m,this._password=v,this._tenantId=Z}static _fromEmailAndPassword(m,v){return new Wn(m,v,"password")}static _fromEmailAndCode(m,v,x=null){return new Wn(m,v,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return function Hr(C,m){return he.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function It(C,m){return Gt.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:Be(m,"internal-error")}})()}_linkToIdToken(m,v){var x=this;return(0,a.Z)(function*(){switch(x.signInMethod){case"password":return Wi(m,{idToken:v,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function pn(C,m){return vn.apply(this,arguments)}(m,{idToken:v,email:x._email,oobCode:x._password});default:Be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function gr(C,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signInWithIdp",Vt(C,m))})).apply(this,arguments)}class xt extends ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new xt(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):Be("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:Z}=v,fe=(0,be._T)(v,["providerId","signInMethod"]);if(!x||!Z)return null;const wt=new xt(x,Z);return wt.idToken=fe.idToken||void 0,wt.accessToken=fe.accessToken||void 0,wt.secret=fe.secret,wt.nonce=fe.nonce,wt.pendingToken=fe.pendingToken||null,wt}_getIdTokenResponse(m){return gr(m,this.buildRequest())}_linkToIdToken(m,v){const x=this.buildRequest();return x.idToken=v,gr(m,x)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,gr(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,z.xO)(v)}return m}}function Xt(){return(Xt=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:sendVerificationCode",Vt(C,m))})).apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signInWithPhoneNumber",Vt(C,m))})).apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(C,m){const v=yield Mn(C,"POST","/v1/accounts:signInWithPhoneNumber",Vt(C,m));if(v.temporaryProof)throw cr(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ws={USER_NOT_FOUND:"user-not-found"};function di(){return(di=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signInWithPhoneNumber",Vt(C,Object.assign(Object.assign({},m),{operation:"REAUTH"})),ws)})).apply(this,arguments)}class zr extends ei{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new zr({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new zr({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function gn(C,m){return Zn.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function or(C,m){return hr.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function si(C,m){return di.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:x,verificationCode:Z}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:x,code:Z}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:x,phoneNumber:Z,temporaryProof:fe}=m;return x||v||Z||fe?new zr({verificationId:v,verificationCode:x,phoneNumber:Z,temporaryProof:fe}):null}}class Hi{constructor(m){var v,x,Z,fe,wt,Zt;const kn=(0,z.zd)((0,z.pd)(m)),Qn=null!==(v=kn.apiKey)&&void 0!==v?v:null,Er=null!==(x=kn.oobCode)&&void 0!==x?x:null,_r=function Tr(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=kn.mode)&&void 0!==Z?Z:null);N(Qn&&Er&&_r,"argument-error"),this.apiKey=Qn,this.operation=_r,this.code=Er,this.continueUrl=null!==(fe=kn.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(wt=kn.languageCode)&&void 0!==wt?wt:null,this.tenantId=null!==(Zt=kn.tenantId)&&void 0!==Zt?Zt:null}static parseLink(m){const v=function hi(C){const m=(0,z.zd)((0,z.pd)(C)).link,v=m?(0,z.zd)((0,z.pd)(m)).deep_link_id:null,x=(0,z.zd)((0,z.pd)(C)).deep_link_id;return(x?(0,z.zd)((0,z.pd)(x)).link:null)||x||v||m||C}(m);try{return new Hi(v)}catch(x){return null}}}let Ki=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,x){return Wn._fromEmailAndPassword(v,x)}static credentialWithLink(v,x){const Z=Hi.parseLink(x);return N(Z,"argument-error"),Wn._fromEmailAndCode(v,Z.code,Z.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ps{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Yi extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ts extends Yi{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return N("providerId"in v&&"signInMethod"in v,"argument-error"),xt._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return N(m.idToken||m.accessToken,"argument-error"),xt._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ts.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ts.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:x,oauthTokenSecret:Z,pendingToken:fe,nonce:wt,providerId:Zt}=m;if(!x&&!Z&&!v&&!fe||!Zt)return null;try{return new ts(Zt)._credential({idToken:v,accessToken:x,nonce:wt,pendingToken:fe})}catch(kn){return null}}}let so=(()=>{class C extends Yi{constructor(){super("facebook.com")}static credential(v){return xt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(x){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),gs=(()=>{class C extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(v,x){return xt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:x})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:x,oauthAccessToken:Z}=v;if(!x&&!Z)return null;try{return C.credential(x,Z)}catch(fe){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ys=(()=>{class C extends Yi{constructor(){super("github.com")}static credential(v){return xt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(x){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class bs extends ei{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return gr(m,this.buildRequest())}_linkToIdToken(m,v){const x=this.buildRequest();return x.idToken=v,gr(m,x)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,gr(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:Z,pendingToken:fe}=v;return x&&Z&&fe&&x===Z?new bs(x,fe):null}static _create(m,v){return new bs(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ms extends ps{constructor(m){N(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ms.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ms.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=bs.fromJSON(m);return N(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:x}=m;if(!v||!x)return null;try{return bs._create(x,v)}catch(Z){return null}}}let Qo=(()=>{class C extends Yi{constructor(){super("twitter.com")}static credential(v,x){return xt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:x})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:x,oauthTokenSecret:Z}=v;if(!x||!Z)return null;try{return C.credential(x,Z)}catch(fe){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function go(C,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signUp",Vt(C,m))})).apply(this,arguments)}class ai{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,x,Z=!1){return(0,a.Z)(function*(){const fe=yield kt._fromIdTokenResponse(m,x,Z),wt=ur(x);return new ai({user:fe,providerId:wt,_tokenResponse:x,operationType:v})})()}static _forOperation(m,v,x){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(x,!0);const Z=ur(x);return new ai({user:m,providerId:Z,_tokenResponse:x,operationType:v})})()}}function ur(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ns(){return(Ns=(0,a.Z)(function*(C){var m;const v=Fr(C);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new ai({user:v.currentUser,providerId:null,operationType:"signIn"});const x=yield go(v,{returnSecureToken:!0}),Z=yield ai._fromIdTokenResponse(v,"signIn",x,!0);return yield v._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class ks extends z.ZR{constructor(m,v,x,Z){var fe;super(v.code,v.message),this.operationType=x,this.user=Z,Object.setPrototypeOf(this,ks.prototype),this.customData={appName:m.name,tenantId:null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:v.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(m,v,x,Z){return new ks(m,v,x,Z)}}function jr(C,m,v,x){return("reauthenticate"===m?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?ks._fromErrorAndOperation(C,fe,m,x):fe})}function xi(C){return new Set(C.map(({providerId:m})=>m).filter(m=>!!m))}function ys(){return ys=(0,a.Z)(function*(C,m){const v=(0,z.m9)(C);yield ns(!0,v,m);const{providerUserInfo:x}=yield function Nt(C,m){return St.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),Z=xi(x||[]);return v.providerData=v.providerData.filter(fe=>Z.has(fe.providerId)),Z.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),ys.apply(this,arguments)}function _i(C,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(C,m,v=!1){const x=yield lr(C,m._linkToIdToken(C.auth,yield C.getIdToken()),v);return ai._forOperation(C,"link",x)})).apply(this,arguments)}function ns(C,m,v){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(C,m,v){yield xr(m);const Z=!1===C?"provider-already-linked":"no-such-provider";N(xi(m.providerData).has(v)===C,m.auth,Z)})).apply(this,arguments)}function yo(C,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(C,m,v=!1){const{auth:x}=C,Z="reauthenticate";try{const fe=yield lr(C,jr(x,Z,m,C),v);N(fe.idToken,x,"internal-error");const wt=hn(fe.idToken);N(wt,x,"internal-error");const{sub:Zt}=wt;return N(C.uid===Zt,x,"user-mismatch"),ai._forOperation(C,Z,fe)}catch(fe){throw"auth/user-not-found"===(null==fe?void 0:fe.code)&&Be(x,"user-mismatch"),fe}})).apply(this,arguments)}function ss(C,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(C,m,v=!1){const x="signIn",Z=yield jr(C,x,m),fe=yield ai._fromIdTokenResponse(C,x,Z);return v||(yield C._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function Nr(C,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(C,m){return ss(Fr(C),m)})).apply(this,arguments)}function vo(C,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(C,m){const v=(0,z.m9)(C);return yield ns(!1,v,m.providerId),_i(v,m)})).apply(this,arguments)}function Go(C,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(C,m){return yo((0,z.m9)(C),m)})).apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(C,m){return Mn(C,"POST","/v1/accounts:signInWithCustomToken",Vt(C,m))})).apply(this,arguments)}function vs(){return vs=(0,a.Z)(function*(C,m){const v=Fr(C),x=yield function Dr(C,m){return Wo.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),Z=yield ai._fromIdTokenResponse(v,"signIn",x);return yield v._updateCurrentUser(Z.user),Z}),vs.apply(this,arguments)}class Ei{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?ki._fromServerResponse(m,v):"totpInfo"in v?Ji._fromServerResponse(m,v):Be(m,"internal-error")}}class ki extends Ei{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new ki(v)}}class Ji extends Ei{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new Ji(v)}}function _s(C,m,v){var x;N((null===(x=v.url)||void 0===x?void 0:x.length)>0,C,"invalid-continue-uri"),N(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(N(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(N(v.android.packageName.length>0,C,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function xo(){return xo=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C),Z={requestType:"PASSWORD_RESET",email:m};v&&_s(x,Z,v),yield function oe(C,m){return He.apply(this,arguments)}(x,Z)}),xo.apply(this,arguments)}function Ir(){return(Ir=(0,a.Z)(function*(C,m,v){yield Mr((0,z.m9)(C),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Xs(){return Xs=(0,a.Z)(function*(C,m){yield function En(C,m){return Yn.apply(this,arguments)}((0,z.m9)(C),{oobCode:m})}),Xs.apply(this,arguments)}function Qs(C,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,a.Z)(function*(C,m){const v=(0,z.m9)(C),x=yield Mr(v,{oobCode:m}),Z=x.requestType;switch(N(Z,v,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(x.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(x.mfaInfo,v,"internal-error");default:N(x.email,v,"internal-error")}let fe=null;return x.mfaInfo&&(fe=Ei._fromServerResponse(Fr(v),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:fe},operation:Z}})).apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(C,m){const{data:v}=yield Qs((0,z.m9)(C),m);return v.email})).apply(this,arguments)}function g(){return(g=(0,a.Z)(function*(C,m,v){const x=Fr(C),Z=yield go(x,{returnSecureToken:!0,email:m,password:v}),fe=yield ai._fromIdTokenResponse(x,"signIn",Z);return yield x._updateCurrentUser(fe.user),fe})).apply(this,arguments)}function D(){return D=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C),Z={requestType:"EMAIL_SIGNIN",email:m};N(v.handleCodeInApp,x,"argument-error"),v&&_s(x,Z,v),yield function J(C,m){return _e.apply(this,arguments)}(x,Z)}),D.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C),Z=Ki.credentialWithLink(m,v||bt());return N(Z._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Nr(x,Z)})).apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:createAuthUri",Vt(C,m))})).apply(this,arguments)}function Gr(){return Gr=(0,a.Z)(function*(C,m){const x={identifier:m,continueUri:gt()?bt():"http://localhost"},{signinMethods:Z}=yield function xn(C,m){return Gn.apply(this,arguments)}((0,z.m9)(C),x);return Z||[]}),Gr.apply(this,arguments)}function qi(){return qi=(0,a.Z)(function*(C,m){const v=(0,z.m9)(C),Z={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};m&&_s(v.auth,Z,m);const{email:fe}=yield function Y(C,m){return re.apply(this,arguments)}(v.auth,Z);fe!==C.email&&(yield C.reload())}),qi.apply(this,arguments)}function qr(){return qr=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:m};v&&_s(x.auth,fe,v);const{email:wt}=yield function $e(C,m){return rt.apply(this,arguments)}(x.auth,fe);wt!==C.email&&(yield C.reload())}),qr.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function as(){return as=(0,a.Z)(function*(C,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const x=(0,z.m9)(C),fe={idToken:yield x.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},wt=yield lr(x,function Fi(C,m){return As.apply(this,arguments)}(x.auth,fe));x.displayName=wt.displayName||null,x.photoURL=wt.photoUrl||null;const Zt=x.providerData.find(({providerId:kn})=>"password"===kn);Zt&&(Zt.displayName=x.displayName,Zt.photoURL=x.photoURL),yield x._updateTokensIfNecessary(wt)}),as.apply(this,arguments)}function Ma(C,m,v){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,a.Z)(function*(C,m,v){const{auth:x}=C,fe={idToken:yield C.getIdToken(),returnSecureToken:!0};m&&(fe.email=m),v&&(fe.password=v);const wt=yield lr(C,Wi(x,fe));yield C._updateTokensIfNecessary(wt,!0)})).apply(this,arguments)}class Po{constructor(m,v,x={}){this.isNewUser=m,this.providerId=v,this.profile=x}}class ca extends Po{constructor(m,v,x,Z){super(m,v,x),this.username=Z}}class Lo extends Po{constructor(m,v){super(m,"facebook.com",v)}}class Ml extends ca{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Ls extends Po{constructor(m,v){super(m,"google.com",v)}}class ta extends ca{constructor(m,v,x){super(m,"twitter.com",v,x)}}function fl(C){const{user:m,_tokenResponse:v}=C;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Oo(C){var m,v;if(!C)return null;const{providerId:x}=C,Z=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},fe=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!x&&null!=C&&C.idToken){const wt=null===(v=null===(m=hn(C.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(wt)return new Po(fe,"anonymous"!==wt&&"custom"!==wt?wt:null)}if(!x)return null;switch(x){case"facebook.com":return new Lo(fe,Z);case"github.com":return new Ml(fe,Z);case"google.com":return new Ls(fe,Z);case"twitter.com":return new ta(fe,Z,C.screenName||null);case"custom":case"anonymous":return new Po(fe,null);default:return new Po(fe,x,Z)}}(v)}class $o{constructor(m,v,x){this.type=m,this.credential=v,this.auth=x}static _fromIdtoken(m,v){return new $o("enroll",m,v)}static _fromMfaPendingCredential(m){return new $o("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,x;if(null!=m&&m.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return $o._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(x=m.multiFactorSession)&&void 0!==x&&x.idToken)return $o._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ri{constructor(m,v,x){this.session=m,this.hints=v,this.signInResolver=x}static _fromError(m,v){const x=Fr(m),Z=v.customData._serverResponse,fe=(Z.mfaInfo||[]).map(Zt=>Ei._fromServerResponse(x,Zt));N(Z.mfaPendingCredential,x,"internal-error");const wt=$o._fromMfaPendingCredential(Z.mfaPendingCredential);return new Ri(wt,fe,function(){var Zt=(0,a.Z)(function*(kn){const Qn=yield kn._process(x,wt);delete Z.mfaInfo,delete Z.mfaPendingCredential;const Er=Object.assign(Object.assign({},Z),{idToken:Qn.idToken,refreshToken:Qn.refreshToken});switch(v.operationType){case"signIn":const _r=yield ai._fromIdTokenResponse(x,v.operationType,Er);return yield x._updateCurrentUser(_r.user),_r;case"reauthenticate":return N(v.user,x,"internal-error"),ai._forOperation(v.user,v.operationType,Er);default:Be(x,"internal-error")}});return function(kn){return Zt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,a.Z)(function*(){return v.signInResolver(m)})()}}class k{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(x=>Ei._fromServerResponse(m.auth,x)))})}static _fromUser(m){return new k(m)}getSession(){var m=this;return(0,a.Z)(function*(){return $o._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,v){var x=this;return(0,a.Z)(function*(){const Z=m,fe=yield x.getSession(),wt=yield lr(x.user,Z._process(x.user.auth,fe,v));return yield x.user._updateTokensIfNecessary(wt),x.user.reload()})()}unenroll(m){var v=this;return(0,a.Z)(function*(){const x="string"==typeof m?m:m.uid,Z=yield v.user.getIdToken();try{const fe=yield lr(v.user,function ha(C,m){return Pt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(C,m))}(v.user.auth,{idToken:Z,mfaEnrollmentId:x}));v.enrolledFactors=v.enrolledFactors.filter(({uid:wt})=>wt!==x),yield v.user._updateTokensIfNecessary(fe),yield v.user.reload()}catch(fe){throw fe}})()}}const K=new WeakMap,se="__sak";class we{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(se,"1"),this.storage.removeItem(se),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yt=(()=>{class C extends we{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,x)=>this.onStorageEvent(v,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bt(){const C=(0,z.z$)();return wn(C)||en(C)}()&&function bi(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=vi(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const x of Object.keys(this.listeners)){const Z=this.storage.getItem(x),fe=this.localCache[x];Z!==fe&&v(x,fe,Z)}}onStorageEvent(v,x=!1){if(!v.key)return void this.forAllChangedKeys((Zt,kn,Qn)=>{this.notifyListeners(Zt,Qn)});const Z=v.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Zt=this.storage.getItem(Z);if(v.newValue!==Zt)null!==v.newValue?this.storage.setItem(Z,v.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===v.newValue&&!x)return}const fe=()=>{const Zt=this.storage.getItem(Z);!x&&this.localCache[Z]===Zt||this.notifyListeners(Z,Zt)},wt=this.storage.getItem(Z);!function Cr(){return(0,z.w1)()&&10===document.documentMode}()||wt===v.newValue||v.newValue===v.oldValue?fe():setTimeout(fe,10)}notifyListeners(v,x){this.localCache[v]=x;const Z=this.listeners[v];if(Z)for(const fe of Array.from(Z))fe(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,x,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:x,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,x){var Z=()=>super._set,fe=this;return(0,a.Z)(function*(){yield Z().call(fe,v,x),fe.localCache[v]=JSON.stringify(x)})()}_get(v){var x=()=>super._get,Z=this;return(0,a.Z)(function*(){const fe=yield x().call(Z,v);return Z.localCache[v]=JSON.stringify(fe),fe})()}_remove(v){var x=()=>super._remove,Z=this;return(0,a.Z)(function*(){yield x().call(Z,v),delete Z.localCache[v]})()}}return C.type="LOCAL",C})(),sr=(()=>{class C extends we{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,x){}_removeListener(v,x){}}return C.type="SESSION",C})();let Dn=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const x=this.receivers.find(fe=>fe.isListeningto(v));if(x)return x;const Z=new C(v);return this.receivers.push(Z),Z}isListeningto(v){return this.eventTarget===v}handleEvent(v){var x=this;return(0,a.Z)(function*(){const Z=v,{eventId:fe,eventType:wt,data:Zt}=Z.data,kn=x.handlersMap[wt];if(null==kn||!kn.size)return;Z.ports[0].postMessage({status:"ack",eventId:fe,eventType:wt});const Qn=Array.from(kn).map(function(){var _r=(0,a.Z)(function*(Ks){return Ks(Z.origin,Zt)});return function(Ks){return _r.apply(this,arguments)}}()),Er=yield function Li(C){return Promise.all(C.map(function(){var m=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(x){return{fulfilled:!1,reason:x}}});return function(v){return m.apply(this,arguments)}}()))}(Qn);Z.ports[0].postMessage({status:"done",eventId:fe,eventType:wt,response:Er})})()}_subscribe(v,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(x)}_unsubscribe(v,x){this.handlersMap[v]&&x&&this.handlersMap[v].delete(x),(!x||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Nn(C="",m=10){let v="";for(let x=0;x<m;x++)v+=Math.floor(10*Math.random());return C+v}class Yo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,x=50){var Z=this;return(0,a.Z)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let wt,Zt;return new Promise((kn,Qn)=>{const Er=Nn("",20);fe.port1.start();const _r=setTimeout(()=>{Qn(new Error("unsupported_event"))},x);Zt={messageChannel:fe,onMessage(Ks){const la=Ks;if(la.data.eventId===Er)switch(la.data.status){case"ack":clearTimeout(_r),wt=setTimeout(()=>{Qn(new Error("timeout"))},3e3);break;case"done":clearTimeout(wt),kn(la.data.response);break;default:clearTimeout(_r),clearTimeout(wt),Qn(new Error("invalid_response"))}}},Z.handlers.add(Zt),fe.port1.addEventListener("message",Zt.onMessage),Z.target.postMessage({eventType:m,eventId:Er,data:v},[fe.port2])}).finally(()=>{Zt&&Z.removeMessageHandler(Zt)})})()}}function fn(){return window}function rn(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function Gs(){return(Gs=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const ml="firebaseLocalStorageDb",na=1,Ja="firebaseLocalStorage",Na="fbase_key";class ka{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function yl(C,m){return C.transaction([Ja],m?"readwrite":"readonly").objectStore(Ja)}function fa(){const C=indexedDB.open(ml,na);return new Promise((m,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const x=C.result;try{x.createObjectStore(Ja,{keyPath:Na})}catch(Z){v(Z)}}),C.addEventListener("success",(0,a.Z)(function*(){const x=C.result;x.objectStoreNames.contains(Ja)?m(x):(x.close(),yield function oo(){const C=indexedDB.deleteDatabase(ml);return new ka(C).toPromise()}(),m(yield fa()))}))})}function Ar(C,m,v){return eo.apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(C,m,v){const x=yl(C,!0).put({[Na]:m,value:v});return new ka(x).toPromise()})).apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(C,m){const v=yl(C,!1).get(m),x=yield new ka(v).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function ar(C,m){const v=yl(C,!0).delete(m);return new ka(v).toPromise()}const gi=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield fa()),v.db})()}_withRetries(v){var x=this;return(0,a.Z)(function*(){let Z=0;for(;;)try{const fe=yield x._openDb();return yield v(fe)}catch(fe){if(Z++>3)throw fe;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return rn()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=Dn._getInstance(function Pa(){return rn()?self:null}()),v.receiver._subscribe("keyChanged",function(){var x=(0,a.Z)(function*(Z,fe){return{keyProcessed:(yield v._poll()).includes(fe.key)}});return function(Z,fe){return x.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var x=(0,a.Z)(function*(Z,fe){return["keyChanged"]});return function(Z,fe){return x.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var x,Z;if(v.activeServiceWorker=yield function Oi(){return Gs.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Yo(v.activeServiceWorker);const fe=yield v.sender._send("ping",{},800);fe&&null!==(x=fe[0])&&void 0!==x&&x.fulfilled&&null!==(Z=fe[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var x=this;return(0,a.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Oa(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:v},x.serviceWorkerReceiverAvailable?800:50)}catch(Z){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield fa();return yield Ar(v,se,"1"),yield ar(v,se),!0}catch(v){}return!1})()}_withPendingWrite(v){var x=this;return(0,a.Z)(function*(){x.pendingWrites++;try{yield v()}finally{x.pendingWrites--}})()}_set(v,x){var Z=this;return(0,a.Z)(function*(){return Z._withPendingWrite((0,a.Z)(function*(){return yield Z._withRetries(fe=>Ar(fe,v,x)),Z.localCache[v]=x,Z.notifyServiceWorker(v)}))})()}_get(v){var x=this;return(0,a.Z)(function*(){const Z=yield x._withRetries(fe=>function pa(C,m){return pi.apply(this,arguments)}(fe,v));return x.localCache[v]=Z,Z})()}_remove(v){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(Z=>ar(Z,v)),delete x.localCache[v],x.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const x=yield v._withRetries(wt=>{const Zt=yl(wt,!1).getAll();return new ka(Zt).toPromise()});if(!x)return[];if(0!==v.pendingWrites)return[];const Z=[],fe=new Set;for(const{fbase_key:wt,value:Zt}of x)fe.add(wt),JSON.stringify(v.localCache[wt])!==JSON.stringify(Zt)&&(v.notifyListeners(wt,Zt),Z.push(wt));for(const wt of Object.keys(v.localCache))v.localCache[wt]&&!fe.has(wt)&&(v.notifyListeners(wt,null),Z.push(wt));return Z})()}notifyListeners(v,x){this.localCache[v]=x;const Z=this.listeners[v];if(Z)for(const fe of Array.from(Z))fe(x)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function el(){return(el=(0,a.Z)(function*(C){return(yield Pt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ma(C){return new Promise((m,v)=>{const x=document.createElement("script");x.setAttribute("src",C),x.onload=m,x.onerror=Z=>{const fe=Ze("internal-error");fe.customData=Z,v(fe)},x.type="text/javascript",x.charset="UTF-8",function La(){var C,m;return null!==(m=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==m?m:document}().appendChild(x)})}function rs(C){return`__${C}${Math.floor(1e6*Math.random())}`}const is=1e12;class tl{constructor(m){this.auth=m,this.counter=is,this._widgets=new Map}render(m,v){const x=this.counter;return this._widgets.set(x,new ao(m,this.auth.name,v||{})),this.counter++,x}reset(m){var v;const x=m||is;null===(v=this._widgets.get(x))||void 0===v||v.delete(),this._widgets.delete(x)}getResponse(m){var v;return(null===(v=this._widgets.get(m||is))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,a.Z)(function*(){var x;return null===(x=v._widgets.get(m||is))||void 0===x||x.execute(),""})()}}class ao{constructor(m,v,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof m?document.getElementById(m):m;N(Z,"argument-error",{appName:v}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ol(C){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<C;x++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const us=rs("rcb"),ra=new lt(3e4,6e4);class Uo{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=fn().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return N(function lo(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(fn().grecaptcha):new Promise((x,Z)=>{const fe=fn().setTimeout(()=>{Z(Ze(m,"network-request-failed"))},ra.get());fn()[us]=()=>{fn().clearTimeout(fe),delete fn()[us];const Zt=fn().grecaptcha;if(!Zt)return void Z(Ze(m,"internal-error"));const kn=Zt.render;Zt.render=(Qn,Er)=>{const _r=kn(Qn,Er);return this.counter++,_r},this.hostLanguage=v,x(Zt)},ma(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:us,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(fe),Z(Ze(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=fn().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nl{load(m){return(0,a.Z)(function*(){return new tl(m)})()}clearedOneInstance(){}}const Jl="recaptcha",ya={theme:"light",type:"image"};class Si{constructor(m,v=Object.assign({},ya),x){this.parameters=v,this.type=Jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fr(x),this.isInvisible="invisible"===this.parameters.size,N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof m?document.getElementById(m):m;N(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nl:new Uo,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),x=m.getAssertedRecaptcha();return x.getResponse(v)||new Promise(fe=>{const wt=Zt=>{Zt&&(m.tokenChangeListeners.delete(wt),fe(Zt))};m.tokenChangeListeners.add(wt),m.isInvisible&&x.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(x=>x(v)),"function"==typeof m)m(v);else if("string"==typeof m){const x=fn()[m];"function"==typeof x&&x(v)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const x=document.createElement("div");v.appendChild(x),v=x}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){N(gt()&&!rn(),m.auth,"internal-error"),yield function va(){let C=null;return new Promise(m=>{"complete"!==document.readyState?(C=()=>m(),window.addEventListener("load",C)):m()}).catch(m=>{throw C&&window.removeEventListener("load",C),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function Bs(C){return el.apply(this,arguments)}(m.auth);N(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ba{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=zr._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function eu(){return(eu=(0,a.Z)(function*(C,m,v){const x=Fr(C),Z=yield tu(x,m,(0,z.m9)(v));return new Ba(Z,fe=>Nr(x,fe))})).apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C);yield ns(!1,x,"phone");const Z=yield tu(x.auth,m,(0,z.m9)(v));return new Ba(Z,fe=>vo(x,fe))})).apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C),Z=yield tu(x.auth,m,(0,z.m9)(v));return new Ba(Z,fe=>Go(x,fe))})).apply(this,arguments)}function tu(C,m,v){return no.apply(this,arguments)}function no(){return no=(0,a.Z)(function*(C,m,v){var x;const Z=yield v.verify();try{let fe;if(N("string"==typeof Z,C,"argument-error"),N(v.type===Jl,C,"argument-error"),fe="string"==typeof m?{phoneNumber:m}:m,"session"in fe){const wt=fe.session;if("phoneNumber"in fe)return N("enroll"===wt.type,C,"internal-error"),(yield function Es(C,m){return Pt(C,"POST","/v2/accounts/mfaEnrollment:start",Vt(C,m))}(C,{idToken:wt.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{N("signin"===wt.type,C,"internal-error");const Zt=(null===(x=fe.multiFactorHint)||void 0===x?void 0:x.uid)||fe.multiFactorUid;return N(Zt,C,"missing-multi-factor-info"),(yield function Ln(C,m){return Pt(C,"POST","/v2/accounts/mfaSignIn:start",Vt(C,m))}(C,{mfaPendingCredential:wt.credential,mfaEnrollmentId:Zt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:wt}=yield function Lt(C,m){return Xt.apply(this,arguments)}(C,{phoneNumber:fe.phoneNumber,recaptchaToken:Z});return wt}}finally{v._reset()}}),no.apply(this,arguments)}function rl(){return(rl=(0,a.Z)(function*(C,m){yield _i((0,z.m9)(C),m)})).apply(this,arguments)}let Pi=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Fr(v)}verifyPhoneNumber(v,x){return tu(this.auth,v,(0,z.m9)(x))}static credential(v,x){return zr._fromVerification(v,x)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:x,temporaryProof:Z}=v;return x&&Z?zr._fromTokenResponse(x,Z):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function ia(C,m){return m?tt(m):(N(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class cs extends ei{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return gr(m,this._buildIdpRequest())}_linkToIdToken(m,v){return gr(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return gr(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function $s(C){return ss(C.auth,new cs(C),C.bypassAuthState)}function $a(C){const{auth:m,user:v}=C;return N(v,m,"internal-error"),yo(v,new cs(C),C.bypassAuthState)}function sa(C){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(C){const{auth:m,user:v}=C;return N(v,m,"internal-error"),_i(v,new cs(C),C.bypassAuthState)})).apply(this,arguments)}class Nl{constructor(m,v,x,Z,fe=!1){this.auth=m,this.resolver=x,this.user=Z,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,a.Z)(function*(x,Z){m.pendingPromise={resolve:x,reject:Z};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(fe){m.reject(fe)}});return function(x,Z){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,a.Z)(function*(){const{urlResponse:x,sessionId:Z,postBody:fe,tenantId:wt,error:Zt,type:kn}=m;if(Zt)return void v.reject(Zt);const Qn={auth:v.auth,requestUri:x,sessionId:Z,tenantId:wt||void 0,postBody:fe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(kn)(Qn))}catch(Er){v.reject(Er)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return $s;case"linkViaPopup":case"linkViaRedirect":return sa;case"reauthViaPopup":case"reauthViaRedirect":return $a;default:Be(this.auth,"internal-error")}}resolve(m){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vu=new lt(2e3,1e4);function nu(){return(nu=(0,a.Z)(function*(C,m,v){const x=Fr(C);Oe(C,m,ps);const Z=ia(x,v);return new R(x,"signInViaPopup",m,Z).executeNotNull()})).apply(this,arguments)}function T(){return(T=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C);Oe(x.auth,m,ps);const Z=ia(x.auth,v);return new R(x.auth,"reauthViaPopup",m,Z,x).executeNotNull()})).apply(this,arguments)}function w(){return(w=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C);Oe(x.auth,m,ps);const Z=ia(x.auth,v);return new R(x.auth,"linkViaPopup",m,Z,x).executeNotNull()})).apply(this,arguments)}let R=(()=>{class C extends Nl{constructor(v,x,Z,fe,wt){super(v,x,fe,wt),this.provider=Z,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const x=yield v.execute();return N(x,v.auth,"internal-error"),x})()}onExecution(){var v=this;return(0,a.Z)(function*(){je(1===v.filter.length,"Popup operations only handle one event");const x=Nn();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],x),v.authWindow.associatedEvent=x,v.resolver._originValidation(v.auth).catch(Z=>{v.reject(Z)}),v.resolver._isIframeWebStorageSupported(v.auth,Z=>{Z||v.reject(Ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var x,Z;this.pollId=null!==(Z=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,vu.get())};v()}}return C.currentPopupAction=null,C})();const j="pendingRedirect",ne=new Map;class ue extends Nl{constructor(m,v,x=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,x),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,a.Z)(function*(){let x=ne.get(v.auth._key());if(!x){try{const fe=(yield function pt(C,m){return Ut.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;x=()=>Promise.resolve(fe)}catch(Z){x=()=>Promise.reject(Z)}ne.set(v.auth._key(),x)}return v.bypassAuthState||ne.set(v.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,x=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(x,m);if("unknown"!==m.type){if(m.eventId){const Z=yield x.auth._redirectUserForId(m.eventId);if(Z)return x.user=Z,v().call(x,m);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Ut(){return(Ut=(0,a.Z)(function*(C,m){const v=Is(m),x=Vr(C);if(!(yield x._isAvailable()))return!1;const Z="true"===(yield x._get(v));return yield x._remove(v),Z})).apply(this,arguments)}function Sn(C,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(C,m){return Vr(C)._set(Is(m),"true")})).apply(this,arguments)}function ti(C,m){ne.set(C._key(),m)}function Vr(C){return tt(C._redirectPersistence)}function Is(C){return Ee(j,C.config.apiKey,C.name)}function B(C,m,v){return function H(C,m,v){return te.apply(this,arguments)}(C,m,v)}function te(){return(te=(0,a.Z)(function*(C,m,v){const x=Fr(C);Oe(C,m,ps),yield x._initializationPromise;const Z=ia(x,v);return yield Sn(Z,x),Z._openRedirect(x,m,"signInViaRedirect")})).apply(this,arguments)}function Ve(C,m,v){return function vt(C,m,v){return Tt.apply(this,arguments)}(C,m,v)}function Tt(){return(Tt=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C);Oe(x.auth,m,ps),yield x.auth._initializationPromise;const Z=ia(x.auth,v);yield Sn(Z,x.auth);const fe=yield zi(x);return Z._openRedirect(x.auth,m,"reauthViaRedirect",fe)})).apply(this,arguments)}function mn(C,m,v){return function Xn(C,m,v){return jn.apply(this,arguments)}(C,m,v)}function jn(){return(jn=(0,a.Z)(function*(C,m,v){const x=(0,z.m9)(C);Oe(x.auth,m,ps),yield x.auth._initializationPromise;const Z=ia(x.auth,v);yield ns(!1,x,m.providerId),yield Sn(Z,x.auth);const fe=yield zi(x);return Z._openRedirect(x.auth,m,"linkViaRedirect",fe)})).apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(C,m){return yield Fr(C)._initializationPromise,tr(C,m,!1)})).apply(this,arguments)}function tr(C,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(C,m,v=!1){const x=Fr(C),Z=ia(x,m),wt=yield new ue(x,Z,v).execute();return wt&&!v&&(delete wt.user._redirectEventId,yield x._persistUserIfCurrent(wt.user),yield x._setRedirectUser(null,m)),wt})).apply(this,arguments)}function zi(C){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(C){const m=Nn(`${C.uid}:::`);return C._redirectEventId=m,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),m})).apply(this,arguments)}class Ua{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(m,x)&&(v=!0,this.sendToConsumer(m,x),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ru(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ws(C);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var x;if(m.error&&!Ws(m)){const Z=(null===(x=m.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";v.onError(Ze(this.auth,Z))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const x=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&x}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wo(m))}saveEventToCache(m){this.cachedEventUids.add(wo(m)),this.lastProcessedEventTime=Date.now()}}function wo(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(m=>m).join("-")}function Ws({type:C,error:m}){return"unknown"===C&&"auth/no-auth-event"===(null==m?void 0:m.code)}function _a(C){return bo.apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(C,m={}){return Pt(C,"GET","/v1/projects",m)})).apply(this,arguments)}const ju=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_l=/^https?/;function il(){return(il=(0,a.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:m}=yield _a(C);for(const v of m)try{if(Il(v))return}catch(x){}Be(C,"unauthorized-domain")})).apply(this,arguments)}function Il(C){const m=bt(),{protocol:v,hostname:x}=new URL(m);if(C.startsWith("chrome-extension://")){const wt=new URL(C);return""===wt.hostname&&""===x?"chrome-extension:"===v&&C.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&wt.hostname===x}if(!_l.test(v))return!1;if(ju.test(C))return x===C;const Z=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(x)}const Dc=new lt(3e4,6e4);function sl(){const C=fn().___jsl;if(null!=C&&C.H)for(const m of Object.keys(C.H))if(C.H[m].r=C.H[m].r||[],C.H[m].L=C.H[m].L||[],C.H[m].r=[...C.H[m].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Ea=null;const Tc=new lt(5e3,15e3),pd="__/auth/iframe",Ac="emulator/auth/iframe",xc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iu(C){const m=C.config;N(m.authDomain,C,"auth-domain-config-required");const v=m.emulator?Xe(m,Ac):`https://${C.config.authDomain}/${pd}`,x={apiKey:m.apiKey,appName:C.name,v:Ce.SDK_VERSION},Z=Hu.get(C.config.apiHost);Z&&(x.eid=Z);const fe=C._getFrameworks();return fe.length&&(x.fw=fe.join(",")),`${v}?${(0,z.xO)(x).slice(1)}`}function kl(){return kl=(0,a.Z)(function*(C){const m=yield function Kd(C){return Ea=Ea||function Sc(C){return new Promise((m,v)=>{var x,Z,fe;function wt(){sl(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{sl(),v(Ze(C,"network-request-failed"))},timeout:Dc.get()})}if(null!==(Z=null===(x=fn().gapi)||void 0===x?void 0:x.iframes)&&void 0!==Z&&Z.Iframe)m(gapi.iframes.getContext());else{if(null===(fe=fn().gapi)||void 0===fe||!fe.load){const Zt=rs("iframefcb");return fn()[Zt]=()=>{gapi.load?wt():v(Ze(C,"network-request-failed"))},ma(`https://apis.google.com/js/api.js?onload=${Zt}`).catch(kn=>v(kn))}wt()}}).catch(m=>{throw Ea=null,m})}(C),Ea}(C),v=fn().gapi;return N(v,C,"internal-error"),m.open({where:document.body,url:iu(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xc,dontclear:!0},x=>new Promise(function(){var Z=(0,a.Z)(function*(fe,wt){yield x.restyle({setHideOnLeave:!1});const Zt=Ze(C,"network-request-failed"),kn=fn().setTimeout(()=>{wt(Zt)},Tc.get());function Qn(){fn().clearTimeout(kn),fe(x)}x.ping(Qn).then(Qn,()=>{wt(Zt)})});return function(fe,wt){return Z.apply(this,arguments)}}()))}),kl.apply(this,arguments)}const gd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mc=500,$i=600,Eu="_blank",Vi="http://localhost";class wl{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}const Iu="__/auth/handler",Rc="emulator/auth/handler";function Gu(C,m,v,x,Z,fe){N(C.config.authDomain,C,"auth-domain-config-required"),N(C.config.apiKey,C,"invalid-api-key");const wt={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:x,v:Ce.SDK_VERSION,eventId:Z};if(m instanceof ps){m.setDefaultLanguage(C.languageCode),wt.providerId=m.providerId||"",(0,z.xb)(m.getCustomParameters())||(wt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[kn,Qn]of Object.entries(fe||{}))wt[kn]=Qn}if(m instanceof Yi){const kn=m.getScopes().filter(Qn=>""!==Qn);kn.length>0&&(wt.scopes=kn.join(","))}C.tenantId&&(wt.tid=C.tenantId);const Zt=wt;for(const kn of Object.keys(Zt))void 0===Zt[kn]&&delete Zt[kn];return`${function Br({config:C}){return C.emulator?Xe(C,Rc):`https://${C.authDomain}/${Iu}`}(C)}?${(0,z.xO)(Zt).slice(1)}`}const Di="webStorageSupport",uo=class wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sr,this._completeRedirectFn=tr,this._overrideRedirectResult=ti}_openPopup(m,v,x,Z){var fe=this;return(0,a.Z)(function*(){var wt;je(null===(wt=fe.eventManagers[m._key()])||void 0===wt?void 0:wt.manager,"_initialize() not called before _openPopup()");const Zt=Gu(m,v,x,bt(),Z);return function qo(C,m,v,x=Mc,Z=$i){const fe=Math.max((window.screen.availHeight-Z)/2,0).toString(),wt=Math.max((window.screen.availWidth-x)/2,0).toString();let Zt="";const kn=Object.assign(Object.assign({},gd),{width:x.toString(),height:Z.toString(),top:fe,left:wt}),Qn=(0,z.z$)().toLowerCase();v&&(Zt=Qe(Qn)?Eu:v),Ct(Qn)&&(m=m||Vi,kn.scrollbars="yes");const Er=Object.entries(kn).reduce((Ks,[la,lc])=>`${Ks}${la}=${lc},`,"");if(function Kn(C=(0,z.z$)()){var m;return en(C)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Qn)&&"_self"!==Zt)return function zu(C,m){const v=document.createElement("a");v.href=C,v.target=m;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(x)}(m||"",Zt),new wl(null);const _r=window.open(m||"",Zt,Er);N(_r,C,"popup-blocked");try{_r.focus()}catch(Ks){}return new wl(_r)}(m,Zt,Nn())})()}_openRedirect(m,v,x,Z){var fe=this;return(0,a.Z)(function*(){return yield fe._originValidation(m),function $t(C){fn().location.href=C}(Gu(m,v,x,bt(),Z)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:Z,promise:fe}=this.eventManagers[v];return Z?Promise.resolve(Z):(je(fe,"If manager is not set, promise should be"),fe)}const x=this.initAndGetManager(m);return this.eventManagers[v]={promise:x},x.catch(()=>{delete this.eventManagers[v]}),x}initAndGetManager(m){var v=this;return(0,a.Z)(function*(){const x=yield function Ia(C){return kl.apply(this,arguments)}(m),Z=new Ua(m);return x.register("authEvent",fe=>(N(null==fe?void 0:fe.authEvent,m,"invalid-auth-event"),{status:Z.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:Z},v.iframes[m._key()]=x,Z})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Di,{type:Di},Z=>{var fe;const wt=null===(fe=null==Z?void 0:Z[0])||void 0===fe?void 0:fe[Di];void 0!==wt&&v(!!wt),Be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function El(C){return il.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return vi()||wn()||en()}};class Wu{constructor(m){this.factorId=m}_process(m,v,x){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,x);case"signin":return this._finalizeSignIn(m,v.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class Ku extends Wu{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ku(m)}_finalizeEnroll(m,v,x){return function Qa(C,m){return Pt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(C,m))}(m,{idToken:v,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function Bi(C,m){return Pt(C,"POST","/v2/accounts/mfaSignIn:finalize",Vt(C,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yu=(()=>{class C{constructor(){}static assertion(v){return Ku._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Yd="@firebase/auth";class Xu{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(x=>{m((null==x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ja(){return window}(0,z.Pz)("authIdTokenMaxAge"),function Oc(C){(0,Ce._registerComponent)(new ge.wA("auth",(m,{options:v})=>{const x=m.getProvider("app").getImmediate(),Z=m.getProvider("heartbeat"),{apiKey:fe,authDomain:wt}=x.options;return((Zt,kn)=>{N(fe&&!fe.includes(":"),"invalid-api-key",{appName:Zt.name}),N(!(null!=wt&&wt.includes(":")),"argument-error",{appName:Zt.name});const Qn={apiKey:fe,authDomain:wt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ji(C)},Er=new Ci(Zt,kn,Qn);return function st(C,m){const v=(null==m?void 0:m.persistence)||[],x=(Array.isArray(v)?v:[v]).map(tt);null!=m&&m.errorMap&&C._updateErrorMap(m.errorMap),C._initializeWithPersistence(x,null==m?void 0:m.popupRedirectResolver)}(Er,v),Er})(x,Z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,x)=>{m.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new ge.wA("auth-internal",m=>{const v=Fr(m.getProvider("auth").getImmediate());return new Xu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)(Yd,"0.22.0",function qd(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,Ce.registerVersion)(Yd,"0.22.0","esm2017")}("Browser");const Ll=2e3;function Qu(){return Qu=(0,a.Z)(function*(C,m,v){var x;const{BuildInfo:Z}=ja();je(m.sessionId,"AuthEvent did not contain a session ID");const fe=yield function Nc(C){return ba.apply(this,arguments)}(m.sessionId),wt={};return en()?wt.ibi=Z.packageName:me()?wt.apn=Z.packageName:Be(C,"operation-not-supported-in-this-environment"),Z.displayName&&(wt.appDisplayName=Z.displayName),wt.sessionId=fe,Gu(C,v,m.type,void 0,null!==(x=m.eventId)&&void 0!==x?x:void 0,wt)}),Qu.apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(C){const{BuildInfo:m}=ja(),v={};en()?v.iosBundleId=m.packageName:me()?v.androidPackageName=m.packageName:Be(C,"operation-not-supported-in-this-environment"),yield _a(C,v)})).apply(this,arguments)}function Bl(){return(Bl=(0,a.Z)(function*(C,m,v){const{cordova:x}=ja();let Z=()=>{};try{yield new Promise((fe,wt)=>{let Zt=null;function kn(){var _r;fe();const Ks=null===(_r=x.plugins.browsertab)||void 0===_r?void 0:_r.close;"function"==typeof Ks&&Ks(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function Qn(){Zt||(Zt=window.setTimeout(()=>{wt(Ze(C,"redirect-cancelled-by-user"))},Ll))}function Er(){"visible"===(null==document?void 0:document.visibilityState)&&Qn()}m.addPassiveListener(kn),document.addEventListener("resume",Qn,!1),me()&&document.addEventListener("visibilitychange",Er,!1),Z=()=>{m.removePassiveListener(kn),document.removeEventListener("resume",Qn,!1),document.removeEventListener("visibilitychange",Er,!1),Zt&&window.clearTimeout(Zt)}})}finally{Z()}})).apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(C){const m=function ou(C){if(je(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const m=new ArrayBuffer(C.length),v=new Uint8Array(m);for(let x=0;x<C.length;x++)v[x]=C.charCodeAt(x);return v}(C),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ko=20;class kc extends Ua{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,a.Z)(function*(){yield m.initPromise})()}}function ec(C){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(C){const m=yield Ul()._get(yd(C));return m&&(yield Ul()._remove(yd(C))),m})).apply(this,arguments)}function md(){const C=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<ko;v++){const x=Math.floor(Math.random()*m.length);C.push(m.charAt(x))}return C.join("")}function Ul(){return tt(Yt)}function yd(C){return Ee("authEvent",C.config.apiKey,C.name)}function ro(C){if(null==C||!C.includes("?"))return{};const[m,...v]=C.split("?");return(0,z.zd)(v.join("?"))}const Fc=class jl{constructor(){this._redirectPersistence=sr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tr,this._overrideRedirectResult=ti}_initialize(m){var v=this;return(0,a.Z)(function*(){const x=m._key();let Z=v.eventManagers.get(x);return Z||(Z=new kc(m),v.eventManagers.set(x,Z),v.attachCallbackListeners(m,Z)),Z})()}_openPopup(m){Be(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,x,Z){var fe=this;return(0,a.Z)(function*(){!function su(C){var m,v,x,Z,fe,wt,Zt,kn,Qn,Er;const _r=ja();N("function"==typeof(null===(m=null==_r?void 0:_r.universalLinks)||void 0===m?void 0:m.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),N(typeof(null===(v=null==_r?void 0:_r.BuildInfo)||void 0===v?void 0:v.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),N("function"==typeof(null===(fe=null===(Z=null===(x=null==_r?void 0:_r.cordova)||void 0===x?void 0:x.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===fe?void 0:fe.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(kn=null===(Zt=null===(wt=null==_r?void 0:_r.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===kn?void 0:kn.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(Er=null===(Qn=null==_r?void 0:_r.cordova)||void 0===Qn?void 0:Qn.InAppBrowser)||void 0===Er?void 0:Er.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const wt=yield fe._initialize(m);yield wt.initialized(),wt.resetRedirect(),function Bn(){ne.clear()}(),yield fe._originValidation(m);const Zt=function Ju(C,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:md(),postBody:null,tenantId:C.tenantId,error:Ze(C,"no-auth-event")}}(m,x,Z);yield function $l(C,m){return Ul()._set(yd(C),m)}(m,Zt);const kn=yield function Du(C,m,v){return Qu.apply(this,arguments)}(m,Zt,v),Qn=yield function ol(C){const{cordova:m}=ja();return new Promise(v=>{m.plugins.browsertab.isAvailable(x=>{let Z=null;x?m.plugins.browsertab.openUrl(C):Z=m.InAppBrowser.open(C,function On(C=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(Z)})})}(kn);return function Ha(C,m,v){return Bl.apply(this,arguments)}(m,wt,Qn)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Pc(C){return co.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:x,handleOpenURL:Z,BuildInfo:fe}=ja(),wt=setTimeout((0,a.Z)(function*(){yield ec(m),v.onEvent(ds())}),500),Zt=function(){var Er=(0,a.Z)(function*(_r){clearTimeout(wt);const Ks=yield ec(m);let la=null;Ks&&null!=_r&&_r.url&&(la=function au(C,m){var v,x;const Z=function Qd(C){const m=ro(C),v=m.link?decodeURIComponent(m.link):void 0,x=ro(v).link,Z=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return ro(Z).link||Z||x||v||C}(m);if(Z.includes("/__/auth/callback")){const fe=ro(Z),wt=fe.firebaseError?function bl(C){try{return JSON.parse(C)}catch(m){return null}}(decodeURIComponent(fe.firebaseError)):null,Zt=null===(x=null===(v=null==wt?void 0:wt.code)||void 0===v?void 0:v.split("auth/"))||void 0===x?void 0:x[1],kn=Zt?Ze(Zt):null;return kn?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:kn,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:Z,postBody:null}}return null}(Ks,_r.url)),v.onEvent(la||ds())});return function(Ks){return Er.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,Zt);const kn=Z,Qn=`${fe.packageName.toLowerCase()}://`;ja().handleOpenURL=function(){var Er=(0,a.Z)(function*(_r){if(_r.toLowerCase().startsWith(Qn)&&Zt({url:_r}),"function"==typeof kn)try{kn(_r)}catch(Ks){console.error(Ks)}});return function(_r){return Er.apply(this,arguments)}}()}};function ds(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ze("no-auth-event")}}const aa=1e3;function Rr(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Hl(C=(0,z.z$)()){return!("file:"!==Rr()&&"ionic:"!==Rr()&&"capacitor:"!==Rr()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Su(){try{const C=self.localStorage,m=Nn();if(C)return C.setItem(m,"1"),C.removeItem(m),!function nc(C=(0,z.z$)()){return function $c(){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)}()||function tc(C=(0,z.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,z.hl)()}catch(C){return rc()&&(0,z.hl)()}return!1}function rc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tu(){return(function vd(){return"http:"===Rr()||"https:"===Rr()}()||(0,z.ru)()||Hl())&&!function Dl(){return(0,z.b$)()||(0,z.UG)()}()&&Su()&&!rc()}function za(){return Hl()&&typeof document<"u"}function Sl(){return(Sl=(0,a.Z)(function*(){return!!za()&&new Promise(C=>{const m=setTimeout(()=>{C(!1)},aa);document.addEventListener("deviceready",()=>{clearTimeout(m),C(!0)})})})).apply(this,arguments)}const ho={LOCAL:"local",NONE:"none",SESSION:"session"},Ca=N,ic="persistence";function Ga(C){return Au.apply(this,arguments)}function Au(){return(Au=(0,a.Z)(function*(C){yield C._initializationPromise;const m=mi(),v=Ee(ic,C.config.apiKey,C.name);m&&m.setItem(v,C._getPersistence())})).apply(this,arguments)}function mi(){var C;try{return(null===(C=function al(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch(m){return null}}const sc=N;class ll{constructor(){this.browserResolver=tt(uo),this.cordovaResolver=tt(Fc),this.underlyingResolver=null,this._redirectPersistence=sr,this._completeRedirectFn=tr,this._overrideRedirectResult=ti}_initialize(m){var v=this;return(0,a.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,x,Z){var fe=this;return(0,a.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openPopup(m,v,x,Z)})()}_openRedirect(m,v,x,Z){var fe=this;return(0,a.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openRedirect(m,v,x,Z)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return za()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,a.Z)(function*(){if(m.underlyingResolver)return;const v=yield function lu(){return Sl.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function _d(C){return C.unwrap()}function xu(C){return Mu(C)}function Mu(C){const{_tokenResponse:m}=C instanceof z.ZR?C.customData:C;if(!m)return null;if(!(C instanceof z.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Pi.credentialFromResult(C);const v=m.providerId;if(!v||v===ke.PASSWORD)return null;let x;switch(v){case ke.GOOGLE:x=gs;break;case ke.FACEBOOK:x=so;break;case ke.GITHUB:x=Ys;break;case ke.TWITTER:x=Qo;break;default:const{oauthIdToken:Z,oauthAccessToken:fe,oauthTokenSecret:wt,pendingToken:Zt,nonce:kn}=m;return fe||wt||Z||Zt?Zt?v.startsWith("saml.")?bs._create(v,Zt):xt._fromParams({providerId:v,signInMethod:v,pendingToken:Zt,idToken:Z,accessToken:fe}):new ts(v).credential({idToken:Z,accessToken:fe,rawNonce:kn}):null}return C instanceof z.ZR?x.credentialFromError(C):x.credentialFromResult(C)}function Vs(C,m){return m.catch(v=>{throw v instanceof z.ZR&&function Jd(C,m){var v;const x=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null==m?void 0:m.code))m.resolver=new Id(C,function pl(C,m){var v;const x=(0,z.m9)(C),Z=m;return N(m.customData.operationType,x,"argument-error"),N(null===(v=Z.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,x,"argument-error"),Ri._fromError(x,Z)}(C,m));else if(x){const Z=Mu(m),fe=m;Z&&(fe.credential=Z,fe.tenantId=x.tenantId||void 0,fe.email=x.email||void 0,fe.phoneNumber=x.phoneNumber||void 0)}}(C,v),v}).then(v=>{const Z=v.user;return{operationType:v.operationType,credential:xu(v),additionalUserInfo:fl(v),user:Wa.getOrCreate(Z)}})}function Da(C,m){return oc.apply(this,arguments)}function oc(){return(oc=(0,a.Z)(function*(C,m){const v=yield m;return{verificationId:v.verificationId,confirm:x=>Vs(C,v.confirm(x))}})).apply(this,arguments)}class Id{constructor(m,v){this.resolver=v,this.auth=function Ed(C){return C.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Vs(_d(this.auth),this.resolver.resolveSignIn(m))}}class Wa{constructor(m){this._delegate=m,this.multiFactor=function U(C){const m=(0,z.m9)(C);return K.has(m)||K.set(m,k._fromUser(m)),K.get(m)}(m)}static getOrCreate(m){return Wa.USER_MAP.has(m)||Wa.USER_MAP.set(m,new Wa(m)),Wa.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,a.Z)(function*(){return Vs(v.auth,vo(v._delegate,m))})()}linkWithPhoneNumber(m,v){var x=this;return(0,a.Z)(function*(){return Da(x.auth,function Cc(C,m,v){return to.apply(this,arguments)}(x._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,a.Z)(function*(){return Vs(v.auth,function M(C,m,v){return w.apply(this,arguments)}(v._delegate,m,ll))})()}linkWithRedirect(m){var v=this;return(0,a.Z)(function*(){return yield Ga(Fr(v.auth)),mn(v._delegate,m,ll)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,a.Z)(function*(){return Vs(v.auth,Go(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Da(this.auth,function Pl(C,m,v){return No.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return Vs(this.auth,function jo(C,m,v){return T.apply(this,arguments)}(this._delegate,m,ll))}reauthenticateWithRedirect(m){var v=this;return(0,a.Z)(function*(){return yield Ga(Fr(v.auth)),Ve(v._delegate,m,ll)})()}sendEmailVerification(m){return function Pr(C,m){return qi.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,a.Z)(function*(){return yield function Mi(C,m){return ys.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function Ro(C,m){return Ma((0,z.m9)(C),m,null)}(this._delegate,m)}updatePassword(m){return function ea(C,m){return Ma((0,z.m9)(C),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Xi(C,m){return rl.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Jo(C,m){return as.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function os(C,m,v){return qr.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wa.USER_MAP=new WeakMap;const ul=N;let Uc=(()=>{class C{constructor(v,x){if(this.app=v,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=v.options;ul(Z,"invalid-api-key",{appName:v.name}),ul(Z,"invalid-api-key",{appName:v.name});const fe=typeof window<"u"?ll:void 0;this._delegate=x.initialize({options:{persistence:wd(Z,v.name),popupRedirectResolver:fe}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,x){!function Ni(C,m,v){const x=Fr(C);N(x._canInitEmulator,x,"emulator-config-failed"),N(/^https?:\/\//.test(m),x,"invalid-emulator-scheme");const Z=!(null==v||!v.disableWarnings),fe=ir(m),{host:wt,port:Zt}=function $r(C){const m=ir(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(m.length));if(!v)return{host:"",port:null};const x=v[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(x);if(Z){const fe=Z[1];return{host:fe,port:Lr(x.substr(fe.length+1))}}{const[fe,wt]=x.split(":");return{host:fe,port:Lr(wt)}}}(m);x.config.emulator={url:`${fe}//${wt}${null===Zt?"":`:${Zt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:wt,port:Zt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Jr(){function C(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,v,x)}applyActionCode(v){return function li(C,m){return Xs.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Qs(this._delegate,v)}confirmPasswordReset(v,x){return function Mo(C,m,v){return Ir.apply(this,arguments)}(this._delegate,v,x)}createUserWithEmailAndPassword(v,x){var Z=this;return(0,a.Z)(function*(){return Vs(Z._delegate,function Ts(C,m,v){return g.apply(this,arguments)}(Z._delegate,v,x))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function Or(C,m){return Gr.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function q(C,m){const v=Hi.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,a.Z)(function*(){ul(Tu(),v._delegate,"operation-not-supported-in-this-environment");const x=yield function wr(C,m){return Kr.apply(this,arguments)}(v._delegate,ll);return x?Vs(v._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Lc(C,m){Fr(C)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,x,Z){const{next:fe,error:wt,complete:Zt}=jc(v,x,Z);return this._delegate.onAuthStateChanged(fe,wt,Zt)}onIdTokenChanged(v,x,Z){const{next:fe,error:wt,complete:Zt}=jc(v,x,Z);return this._delegate.onIdTokenChanged(fe,wt,Zt)}sendSignInLinkToEmail(v,x){return function h(C,m,v){return D.apply(this,arguments)}(this._delegate,v,x)}sendPasswordResetEmail(v,x){return function fr(C,m,v){return xo.apply(this,arguments)}(this._delegate,v,x||void 0)}setPersistence(v){var x=this;return(0,a.Z)(function*(){let Z;switch(function Vc(C,m){Ca(Object.values(ho).includes(m),C,"invalid-persistence-type"),(0,z.b$)()?Ca(m!==ho.SESSION,C,"unsupported-persistence-type"):(0,z.UG)()?Ca(m===ho.NONE,C,"unsupported-persistence-type"):rc()?Ca(m===ho.NONE||m===ho.LOCAL&&(0,z.hl)(),C,"unsupported-persistence-type"):Ca(m===ho.NONE||Su(),C,"unsupported-persistence-type")}(x._delegate,v),v){case ho.SESSION:Z=sr;break;case ho.LOCAL:Z=(yield tt(gi)._isAvailable())?gi:Yt;break;case ho.NONE:Z=Ie;break;default:return Be("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Vs(this._delegate,function Ps(C){return Ns.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Vs(this._delegate,Nr(this._delegate,v))}signInWithCustomToken(v){return Vs(this._delegate,function Ko(C,m){return vs.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,x){return Vs(this._delegate,function I(C,m,v){return Nr((0,z.m9)(C),Ki.credential(m,v))}(this._delegate,v,x))}signInWithEmailLink(v,x){return Vs(this._delegate,function et(C,m,v){return an.apply(this,arguments)}(this._delegate,v,x))}signInWithPhoneNumber(v,x){return Da(this._delegate,function vl(C,m,v){return eu.apply(this,arguments)}(this._delegate,v,x))}signInWithPopup(v){var x=this;return(0,a.Z)(function*(){return ul(Tu(),x._delegate,"operation-not-supported-in-this-environment"),Vs(x._delegate,function _u(C,m,v){return nu.apply(this,arguments)}(x._delegate,v,ll))})()}signInWithRedirect(v){var x=this;return(0,a.Z)(function*(){return ul(Tu(),x._delegate,"operation-not-supported-in-this-environment"),yield Ga(x._delegate),B(x._delegate,v,ll)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function xa(C,m){return Ss.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=ho,C})();function jc(C,m,v){let x=C;"function"!=typeof C&&({next:x,error:m,complete:v}=C);const Z=x;return{next:wt=>Z(wt&&Wa.getOrCreate(wt)),error:m,complete:v}}function wd(C,m){const v=function uu(C,m){const v=mi();if(!v)return[];const x=Ee(ic,C,m);switch(v.getItem(x)){case ho.NONE:return[Ie];case ho.LOCAL:return[gi,sr];case ho.SESSION:return[sr];default:return[]}}(C,m);if(typeof self<"u"&&!v.includes(gi)&&v.push(gi),typeof window<"u")for(const x of[Yt,sr])v.includes(x)||v.push(x);return v.includes(Ie)||v.push(Ie),v}class ac{constructor(){this.providerId="phone",this._delegate=new Pi(_d(ee.Z.auth()))}static credential(m,v){return Pi.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}ac.PHONE_SIGN_IN_METHOD=Pi.PHONE_SIGN_IN_METHOD,ac.PROVIDER_ID=Pi.PROVIDER_ID;const zl=N;class cu{constructor(m,v,x=ee.Z.app()){var Z;zl(null===(Z=x.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Si(m,v,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ff(C){C.INTERNAL.registerComponent(new ge.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),x=m.getProvider("auth");return new Uc(v,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ce_EMAIL_SIGNIN,PASSWORD_RESET:ce_PASSWORD_RESET,RECOVER_EMAIL:ce_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ce_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ce_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ce_VERIFY_EMAIL}},EmailAuthProvider:Ki,FacebookAuthProvider:so,GithubAuthProvider:Ys,GoogleAuthProvider:gs,OAuthProvider:ts,SAMLAuthProvider:ms,PhoneAuthProvider:ac,PhoneMultiFactorGenerator:Yu,RecaptchaVerifier:cu,TwitterAuthProvider:Qo,Auth:Uc,AuthCredential:ei,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.3.7")}(ee.Z)},8766:(_n,yt,V)=>{"use strict";V.d(yt,{Lj:()=>Be,X3:()=>ht});var a=V(5861);const ee=(N,Ge)=>Ge.some(je=>N instanceof je);let z,Ce;const ge=new WeakMap,De=new WeakMap,ke=new WeakMap,ve=new WeakMap,ie=new WeakMap;let ze={get(N,Ge,je){if(N instanceof IDBTransaction){if("done"===Ge)return De.get(N);if("objectStoreNames"===Ge)return N.objectStoreNames||ke.get(N);if("store"===Ge)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return ye(N[Ge])},set:(N,Ge,je)=>(N[Ge]=je,!0),has:(N,Ge)=>N instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in N};function Re(N){return"function"==typeof N?function Mt(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...Ge){return N.apply(de(this),Ge),ye(ge.get(this))}:function(...Ge){return ye(N.apply(de(this),Ge))}:function(Ge,...je){const Je=N.call(de(this),Ge,...je);return ke.set(Je,Ge.sort?Ge.sort():[Ge]),ye(Je)}}(N):(N instanceof IDBTransaction&&function xe(N){if(De.has(N))return;const Ge=new Promise((je,Je)=>{const tt=()=>{N.removeEventListener("complete",ft),N.removeEventListener("error",st),N.removeEventListener("abort",st)},ft=()=>{je(),tt()},st=()=>{Je(N.error||new DOMException("AbortError","AbortError")),tt()};N.addEventListener("complete",ft),N.addEventListener("error",st),N.addEventListener("abort",st)});De.set(N,Ge)}(N),ee(N,function Te(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,ze):N)}function ye(N){if(N instanceof IDBRequest)return function ce(N){const Ge=new Promise((je,Je)=>{const tt=()=>{N.removeEventListener("success",ft),N.removeEventListener("error",st)},ft=()=>{je(ye(N.result)),tt()},st=()=>{Je(N.error),tt()};N.addEventListener("success",ft),N.addEventListener("error",st)});return Ge.then(je=>{je instanceof IDBCursor&&ge.set(je,N)}).catch(()=>{}),ie.set(Ge,N),Ge}(N);if(ve.has(N))return ve.get(N);const Ge=Re(N);return Ge!==N&&(ve.set(N,Ge),ie.set(Ge,N)),Ge}const de=N=>ie.get(N);function ht(N,Ge,{blocked:je,upgrade:Je,blocking:tt,terminated:ft}={}){const st=indexedDB.open(N,Ge),bt=ye(st);return Je&&st.addEventListener("upgradeneeded",gt=>{Je(ye(st.result),gt.oldVersion,gt.newVersion,ye(st.transaction))}),je&&st.addEventListener("blocked",()=>je()),bt.then(gt=>{ft&&gt.addEventListener("close",()=>ft()),tt&&gt.addEventListener("versionchange",()=>tt())}).catch(()=>{}),bt}function Be(N,{blocked:Ge}={}){const je=indexedDB.deleteDatabase(N);return Ge&&je.addEventListener("blocked",()=>Ge()),ye(je).then(()=>{})}const Ze=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],Oe=new Map;function Fe(N,Ge){if(!(N instanceof IDBDatabase)||Ge in N||"string"!=typeof Ge)return;if(Oe.get(Ge))return Oe.get(Ge);const je=Ge.replace(/FromIndex$/,""),Je=Ge!==je,tt=Ue.includes(je);if(!(je in(Je?IDBIndex:IDBObjectStore).prototype)||!tt&&!Ze.includes(je))return;const ft=function(){var st=(0,a.Z)(function*(bt,...gt){const Me=this.transaction(bt,tt?"readwrite":"readonly");let Pe=Me.store;return Je&&(Pe=Pe.index(gt.shift())),(yield Promise.all([Pe[je](...gt),tt&&Me.done]))[0]});return function(gt){return st.apply(this,arguments)}}();return Oe.set(Ge,ft),ft}!function dt(N){ze=N(ze)}(N=>({...N,get:(Ge,je,Je)=>Fe(Ge,je)||N.get(Ge,je,Je),has:(Ge,je)=>!!Fe(Ge,je)||N.has(Ge,je)}))},5861:(_n,yt,V)=>{"use strict";function a(z,Ce,Te,be,ge,De,ke){try{var ve=z[De](ke),ie=ve.value}catch(ce){return void Te(ce)}ve.done?Ce(ie):Promise.resolve(ie).then(be,ge)}function ee(z){return function(){var Ce=this,Te=arguments;return new Promise(function(be,ge){var De=z.apply(Ce,Te);function ke(ie){a(De,be,ge,ke,ve,"next",ie)}function ve(ie){a(De,be,ge,ke,ve,"throw",ie)}ke(void 0)})}}V.d(yt,{Z:()=>ee})}},_n=>{_n(_n.s=5489)}]);